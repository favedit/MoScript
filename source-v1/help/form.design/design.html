<HTML>
<HEAD>
<TITLE>Class Example</TITLE>
<LINK rel='stylesheet' href='../../../system/acs/control.css' type='text/css'>
<LINK rel='stylesheet' href='../../../system/acs/lang_jp.css' type='text/css'>
<SCRIPT language='javascript' src='../../mobj.js'></SCRIPT>
<SCRIPT language='javascript' src='../../2-base/MDesign.js'></SCRIPT>
<SCRIPT language='javascript' src='../../3-core/FDesignConsole.js'></SCRIPT>
<SCRIPT language='javascript' src='../../3-core/RWindow.js'></SCRIPT>
<SCRIPT>RGlobal.setContext('jp','../../..','/system');</SCRIPT>
</HEAD>
<!-- Script -------------------------------------------------->
<SCRIPT>
var action = 'insert';
var form = null;
var toolbar = null;
function doRefresh(){
	fmMain.action = '';
	fmMain.submit();
}
function doSave(){
	if(action == 'insert'){
		form.doAction('daInsert');
	}else{
		form.doAction('daSave');
	}
}
function _load(){
	RLog.connect(_log);
	RWindow.connect();
	// Build toolbar
	toolbar = RControl.fromXml(xToolBar, _id_toolbar);
	// Build form
	form = RControl.fromXml(xForm, _id_form);
	form.design(EDesign.Move, true);
}
</SCRIPT>
<!-- Environment --------------------------------------------->
<XML ID="xEnvironment"/>
<!-- ToolBar ------------------------------------------------->
<XML ID="xToolBar">
<ToolBar width='100%'>
	<ToolButton name='btnRefresh' caption='Refresh' icon='tool.refresh' icon_disable='tool.refreshd'/>
	<ToolButtonSplit/>
	<ToolButton name='btnInsert'  caption='Insert'  icon='tool.insert' icon_disable='tool.saved' disp_access='U' page='insert@http://localhost:8080/mylife/system/system/persistence/Component.wa'/>
	<ToolButton name='btnSave'    caption='Save'  icon='tool.save' icon_disable='tool.saved' action='doSave()'/>
	<ToolButton name='btnDelete' caption='Delete'  icon='tool.delete' icon_disable='tool.deleted' disp_access='U' page='delete@#/system/persistence/Persistence.wa'/>
	<ToolButtonSplit/>
	<ToolButton name='btnBuild' caption='Build'  icon='tool.build' icon_disable='tool.buildd' disp_access='U' page='build@#/system/persistence/Persistence.wa'/>
</ToolBar>
</XML>
<!-- Form ---------------------------------------------------->
<XML id='xForm'>
<WebForm name="system.persistence.frmPersistence">
	<DataAction name="daInsert" service="insertPersistence@http://localhost:8080/mylife/system.persistence.ws"/>
	<DataAction name="daSave" service="savePersistence@http://localhost:8080/mylife/system.persistence.ws"/>
	<DataAction name="saveComponent" service="system.persistence"/>
	<Edit edit_case='U' name="tfName" label="Name" label_width="80" data_name="name" edit_width="140" data_require='Y' data_value2='hello'/>
	<Edit edit_case='L' name="edtTemplate" label="Template" label_width="80" data_name="template" edit_width="300"/>
	<Number name="edtSource" label="Source" label_width="80" data_name="source" edit_width="300"/>
	<Memo name="edtNote" label="Note" label_width="80" data_name="note" edit_width="300"/>
</WebForm></XML>
<!-- Value --------------------------------------------------->
<XML ID="xValue">
webform.formvalue
</XML>
<!-- Body begin ---------------------------------------------->
<BODY onload="__bodyLoad()" onunload="__bodyUnload()" onload="_load()" class="bodyMain">
<FORM method='POST' name="fmMain">
<INPUT type='hidden' name='_environment'></INPUT>

<TABLE border='0' cellpadding='0' cellspacing='0' width='100%'>
<TR>
<TD height='24'>
<!-- Toolbar begin ------------------------------------------->
<DIV id='_id_toolbar'></DIV>
<!-- Toolbar end --------------------------------------------->
</TD>
</TR>
<TR><TD height='4'></TD></TR>
<TR><TD style='padding:8' valign='top'>
<!-- Form begin ---------------------------------------------->
<DIV style='width:100%;height:300;overflow:auto;' id='_id_form'></DIV>
<DIV id='_dump' style='width:100%;height:100;overflow:auto;'></DIV>
<DIV id='_log' style='width:100%;height:100;overflow:auto;'></DIV>
<br>
<!-- Form end ------------------------------------------------>
</TD></TR>
</TABLE>

</FORM>
<SCRIPT language='javascript'>
function __bodyLoad(){


_load()}
function __bodyUnload(){}
</SCRIPT>
</BODY>
<!-- Body end ------------------------------------------------>
</HTML>
