var MO=new function(){this.version="0.2.0";return this};MO.ELogger=new function(){this.Debug=0;this.Info=1;this.Warn=2;this.Error=3;this.Fatal=4;return this};MO.EProcess=new function(){this.Release=0;this.Process=1;this.Debug=2;return this};MO.EScope=new function(){this.Local=1;this.Session=2;this.Global=3;return this};
with(MO)MO.RRuntime=function(){this.processCd=EProcess.Release;this.isDebug=RRuntime_isDebug;this.isProcess=RRuntime_isProcess;this.isRelease=RRuntime_isRelease;this.setProcessCd=RRuntime_setProcessCd;this.empty=RRuntime_empty;this.nvl=RRuntime_nvl;this.subString=RRuntime_subString;this.className=RRuntime_className;return this},MO.RRuntime_isDebug=function(){return this._processCd==EProcess.Debug},MO.RRuntime_isProcess=function(){return this._processCd==EProcess.Process},MO.RRuntime_isRelease=function(){return this._processCd==
EProcess.Release},MO.RRuntime_setProcessCd=function(a){this._processCd=a},MO.RRuntime_empty=function(){},MO.RRuntime_nvl=function(a,b){return null!=a?a:b},MO.RRuntime_subString=function(a,b,d){if(null==a)return a;var f=0;if(null!=b){var g=a.indexOf(b);-1!=g&&(f=g+b.length)}b=a.length;null!=d&&(g=a.indexOf(d,length),-1!=g&&(b=g));return f>=b?"":a.substring(f,b)},MO.RRuntime_className=function(a){return a&&("function"==typeof a||(a=a.constructor))?this.subString(a.toString(),"function ","("):null},
MO.RRuntime=new RRuntime,MO.Runtime=MO.RRuntime;
with(MO)MO.TAttributes=function(){TDictionary.call(this);this.join=TAttributes_join;this.split=TAttributes_split;this.pack=TAttributes_pack;this.unpack=TAttributes_unpack;this.dump=TAttributes_dump;return this},MO.TAttributes_join=function(a,b){var d=new TString;a||(a="=");b||(b=",");for(var f=this._count,g=0;g<f;g++)0<g&&d.append(b),d.append(this.names[g]),d.append(a),d.append(this.values[g]);return d.flush()},MO.TAttributes_split=function(a,b,d){a=a.split(d);d=a.length;for(var f=0;f<d;f++){var g=
a[f];if(g.length){var h=g.split(b);2==h.length?this.set(RString.trim(h[0]),RString.trim(h[1])):this.set(RString.trim(g),"")}}},MO.TAttributes_pack=function(){for(var a=new TString,b=this._count,d=0;d<b;d++){var f=this.names[d],g=this.values[d],h=f.length;a.append(h.toString().length,h,f);null!=g?(g+="",f=g.length,a.append(f.toString().length,f,g)):a.append("0")}return a.flush()},MO.TAttributes_unpack=function(a){for(var b=this.count=0,d=a.length;b<d;){var f=parseInt(a.substr(b++,1)),g=parseInt(a.substr(b,
f)),h=a.substr(b+f,g),b=b+(f+g),f=parseInt(a.substr(b++,1)),k=null;0<f&&(g=parseInt(a.substr(b,f)),k=a.substr(b+f,g),b+=f+g);this.set(h,k)}},MO.TAttributes_dump=function(){var a=new TString,b=this._count;a.append(RRuntime.className(o)," : ",b);if(0<b){a.append(" (");for(var d=0;d<b;d++)0<d&&a.append(", "),a.append(this._names[d],"=",this._values[d]);a.append(")")}return a.flush()};
with(MO)MO.TDictionary=function(){TMap.call(this);this.dump=TDictionary_dump;return this},MO.TDictionary_dump=function(){var a=new TString,b=this._count;a.append(RRuntime.className(o),": ",b);if(0<b){a.append(" {\n");for(var d=0;d<b;d++)a.append("   ",this._names[d],"=[",this._values[d],"]\n");a.append("}")}return a.flush()};
with(MO)MO.TMap=function(){this._count=0;this._table={};this._names=[];this._values=[];this.isEmpty=TMap_isEmpty;this.count=TMap_count;this.contains=TMap_contains;this.containsValue=TMap_containsValue;this.indexOf=TMap_indexOf;this.indexOfValue=TMap_indexOfValue;this.first=TMap_first;this.last=TMap_last;this.nameAt=TMap_nameAt;this.name=TMap_name;this.at=this.valueAt=TMap_valueAt;this.value=TMap_value;this.setValueAt=TMap_setValueAt;this.setValue=TMap_setValue;this.get=TMap_get;this.set=TMap_set;
this.assign=TMap_assign;this.append=TMap_append;this.insert=TMap_insert;this.remove=TMap_remove;this.removeName=TMap_removeName;this.removeValue=TMap_removeValue;this.rebuild=TMap_rebuild;this.clear=TMap_clear;this.toString=TMap_toString;this.dispose=TMap_dispose;this.dump=TMap_dump;return this},MO.TMap_isEmpty=function(){return 0==this._count},MO.TMap_count=function(){return this._count},MO.TMap_contains=function(a){return null!=a&&null!=this._table[a.toString().toLowerCase()]?!0:!1},MO.TMap_containsValue=
function(a){return-1!=this.indexOfValue(a)},MO.TMap_indexOf=function(a){return null!=a&&(a=this._table[a.toString().toLowerCase()],null!=a)?a:-1},MO.TMap_indexOfValue=function(a){for(var b=this._count,d=0;d<b;d++)if(this._values[n]==a)return n;return-1},MO.TMap_first=function(){return 0<this._count?this._values[0]:null},MO.TMap_last=function(){return 0<this._count?this._values[this._count-1]:null},MO.TMap_nameAt=function(a){return this._names[a]},MO.TMap_name=function(a){return 0<=a&&a<this._count?
this._names[a]:null},MO.TMap_valueAt=function(a){return this._values[a]},MO.TMap_value=function(a){return 0<=a&&a<this._count?this._values[a]:null},MO.TMap_setValueAt=function(a,b){this._values[a]=b},MO.TMap_setValue=function(a,b){0<=a&&a<this._count&&(this._values[a]=b)},MO.TMap_get=function(a,b){if(null!=a){var d=this._table[a.toString().toLowerCase()];if(null!=d)return this._values[d]}return b},MO.TMap_set=function(a,b){if(null!=a){var d=a.toString().toLowerCase(),f=this._table[d];if(null==f||
f>=this._count)f=this._count++,this._names[f]=a,this._table[d]=f;this._values[f]=b}},MO.TMap_assign=function(a){this.clear();this.append(a)},MO.TMap_append=function(a){if(a)for(var b=a.count(),d=0;d<b;d++){var f=a.nameAt(d),g=a.valueAt(d);this.set(f,g)}},MO.TMap_insert=function(a,b,d){var f=this._count;if(0<=a&&a<=f){for(;f>a;f--)this._names[f]=this._names[f-1],this._values[f]=this._values[f-1];this._names[a]=b;this._values[a]=d;this._count++;this.rebuild()}},MO.TMap_remove=function(a){var b=null,
d=this._count;if(0<=a&&a<d){for(b=this._values[a];a<d;a++)this._names[a]=this._names[a+1],this._values[a]=this._values[a+1];this._count--;this.rebuild()}return b},MO.TMap_removeName=function(a){a=this.indexOf(a);return-1!=a?this.remove(a):null},MO.TMap_removeValue=function(a){for(var b=0,d=this._count,f=0;f<d;f++){var g=this._values[f];g!=a&&(b!=f&&(this._names[b]=this._names[f],this._values[b]=g),b++)}this._count=b;this.rebuild()},MO.TMap_rebuild=function(){var a=this._table,b;for(b in a)delete a[b];
b=this._count;for(var d=0;d<b;d++){var f=this._names[d].toLowerCase();a[f]=d}},MO.TMap_clear=function(){this._count=0;for(var a in this._table)delete this._table[a]},MO.TMap_toString=function(){return this.dump().toString()},MO.TMap_dispose=function(){this._count=0;var a=this._table;if(a){for(var b in a)a[b]=null;this._table=null}if(b=this._names){for(a=b.length-1;0<=a;a--)b[a]=null;this._names=null}if(b=this._values){for(a=b.length-1;0<=a;a--)b[a]=null;this._values=null}},MO.TMap_dump=function(){var a=
new TString,b=this._count;a.appendLine(RRuntime.className(o),": ",b);if(0<b){a.append(" {");for(var d=0;d<b;d++)a.appendLine(this._names[d],"=[",this._values[d],"]");a.append("}")}return a.flush()};
with(MO)MO.TObjects=function(){this._count=0;this._items=[];this.isEmpty=TObjects_isEmpty;this.count=TObjects_count;this.items=TObjects_items;this.contains=TObjects_contains;this.indexOf=TObjects_indexOf;this.first=TObjects_first;this.last=TObjects_last;this.at=this.getAt=TObjects_getAt;this.get=TObjects_get;this.setAt=TObjects_setAt;this.set=TObjects_set;this.assign=TObjects_assign;this.append=TObjects_append;this.insert=TObjects_insert;this.shift=TObjects_shift;this.unshift=TObjects_unshift;this.pop=
TObjects_pop;this.push=TObjects_push;this.pushUnique=TObjects_pushUnique;this.swap=TObjects_swap;this.sort=TObjects_sort;this.erase=TObjects_erase;this.remove=TObjects_remove;this.clear=TObjects_clear;this.dispose=TObjects_dispose;this.dump=TObjects_dump;return this},MO.TObjects_isEmpty=function(){return 0==this._count},MO.TObjects_count=function(){return this._count},MO.TObjects_items=function(){return this._items},MO.TObjects_contains=function(a){return-1!=this.indexOf(a)},MO.TObjects_indexOf=function(a){for(var b=
this._count,d=this._items,f=0;f<b;f++)if(d[f]==a)return f;return-1},MO.TObjects_first=function(){return this._count?this._items[0]:null},MO.TObjects_last=function(){return this._count?this._items[this._count-1]:null},MO.TObjects_getAt=function(a){return this._items[a]},MO.TObjects_get=function(a){return 0<=a&&a<this._count?this._items[a]:null},MO.TObjects_setAt=function(a,b){this._items[a]=b},MO.TObjects_set=function(a,b){0<=a&&a<this._count&&(this._items[a]=v)},MO.TObjects_assign=function(a){for(var b=
this._count=a._count,d=0;d<b;d++)this._items[d]=a._items[d]},MO.TObjects_append=function(a){for(var b=a._count,d=0;d<b;d++)this.push(a.at(d))},MO.TObjects_insert=function(a,b){var d=this._count;if(0<=a&&a<=d){for(;d>a;d--)this._items[d]=this._items[d-1];this._items[a]=b}},MO.TObjects_shift=function(){return this.erase(0)},MO.TObjects_unshift=function(a){return this.insert(0,a)},MO.TObjects_pop=function(){if(this._count)return this._items[--this._count]},MO.TObjects_push=function(a){var b=this._count++;
this._items[b]=a;return b},MO.TObjects_pushUnique=function(a){for(var b=this._count-1;0<=b;b--)if(this._items[b]==v)return b;b=this._count++;this._items[b]=a;return b},MO.TObjects_swap=function(a,b){if(0<=a&&a<this._count&&0<=b&&b<this._count&&a!=b){var d=this._items,f=d[a];d[a]=d[b];d[b]=f}},MO.TObjects_sort=function(a){var b=this._items;b.length!=this._count&&(b.length=this._count);b.sort(a)},MO.TObjects_erase=function(a){var b=null;if(0<=a&&a<this._count){for(var b=this._items[a],d=--this._count,
f=this._items;a<d;a++)f[a]=f[a+1];f[d]=null}return b},MO.TObjects_remove=function(a){var b=this._count;if(b){for(var d=0,f=this._items,g=d;g<b;g++)f[g]!=a&&(f[d++]=f[g]);for(g=d;g<b;g++)f[g]=null;this._count=d}return a},MO.TObjects_clear=function(){this._count=0},MO.TObjects_dispose=function(){for(var a in this._items)this._items[a]=null;this._count=0;this._items=null},MO.TObjects_dump=function(){var a=this._count,b=new TString;b.append(RRuntime.className(o),":",a);if(a)for(var d=0;d<a;d++)b.append(" [",
this._items[d],"]");return b.flush()};
with(MO)MO.TString=function(){this._count=0;this._memory=[];this.isEmpty=TString_isEmpty;this.assign=TString_assign;this.append=TString_append;this.appendIf=TString_appendIf;this.appendArray=TString_appendArray;this.appendLine=TString_appendLine;this.appendRepeat=TString_appendRepeat;this.push=TString_push;this.clear=TString_clear;this.toString=TString_toString;this.flush=TString_flush;this.dispose=TString_dispose;this.dump=TString_dump;return this},MO.TString_isEmpty=function(){return 0==this._count},
MO.TString_assign=function(){this.clear();this.appendArray(arguments,0,arguments.length)},MO.TString_append=function(a){this.appendArray(arguments,0,arguments.length)},MO.TString_appendIf=function(a){a&&this.appendArray(arguments,1,arguments.length-1)},MO.TString_appendArray=function(a,b,d){for(var f=0;f<d;f++){var g=a[b++];null!=g&&(this._memory[this._count++]=g)}},MO.TString_appendRepeat=function(a,b){for(var d=0;d<b;d++)this._memory[this._count++]=a},MO.TString_appendLine=function(){this.appendArray(arguments,
0,arguments.length);this._memory[this._count++]="\r\n"},MO.TString_push=function(){this.appendArray(arguments,0,arguments.length)},MO.TString_clear=function(){this._count=0},MO.TString_toString=function(){var a=this._memory;a.length!=this._count&&(a=a.slice(0,this._count));return a.join("")},MO.TString_flush=function(){var a=this.toString();this.dispose();return a},MO.TString_dispose=function(){this._count=0;var a=this._memory;if(a){for(var b=a.length-1;0<=b;b--)a[b]=null;this._memory=null}},MO.TString_dump=
function(){var a=this.toString();return RRuntime.className(o)+":"+a.length+"["+a+"]"};
with(MO)MO.RAssert=function(){this.isTrue=RAssert_isTrue;this.isFalse=RAssert_isFalse;this.debugEnd=this.debug=this.debugBegin=MO.Runtime.empty;this.debugTrue=RAssert_debugTrue;this.debugFalse=RAssert_debugFalse;this.debugNull=RAssert_debugNull;this.debugNotNull=RAssert_debugNotNull;this.debugEmpty=RAssert_debugEmpty;this.debugNotEmpty=RAssert_debugNotEmpty;return this},MO.RAssert_isTrue=function(a){if(!a)throw Error("Assert ture failure.");},MO.RAssert_isFalse=function(a){if(a)throw Error("Assert false failure.");
},MO.RAssert_debugTrue=function(a){if(!a)throw Error("Assert true failure.");},MO.RAssert_debugFalse=function(a){if(a)throw Error("Assert false failure.");},MO.RAssert_debugNull=function(a){if(null!=a)throw Error("Assert null failure.");},MO.RAssert_debugNotNull=function(a){if(null==a)throw Error("Assert not null failure.");},MO.RAssert_debugEmpty=function(a){if(null!=a)throw Error("Assert empty failure.");},MO.RAssert_debugNotEmpty=function(a){if(null==a)throw Error("Assert not empty failure.");
},MO.RAssert=new RAssert;
with(MO)MO.RMemory=function(){this._entryUnused=null;this._pools={};this.entryAlloc=RMemory_entryAlloc;this.entryFree=RMemory_entryFree;this.alloc=RMemory_alloc;this.free=RMemory_free;this.refresh=RMemory_refresh;return this},MO.RMemory_entryAlloc=function(){var a=null,b=this._entryUnused;b?(a=b,this._entryUnused=b.next):a=new SMemoryPoolEntry;return a},MO.RMemory_entryFree=function(a){RAssert.debugNotNull(a);a.next=this._entryUnused;this._entryUnused=a},MO.RMemory_alloc=function(a){RAssert.debugNotNull(a);
var b=RRuntime.className(a),d=this._pools,f=d[b];f||(f=new TMemoryPool,f._constructor=a,d[b]=f);return f.alloc()},MO.RMemory_free=function(a){RAssert.debugNotNull(a);var b=a.__pool;RAssert.debugNotNull(b);b.free(a)},MO.RMemory_refresh=function(){CollectGarbage()},MO.RMemory=new RMemory;
with(MO)MO.SMemoryPoolEntry=function(){this.value=this.next=null;this.dispose=SMemoryPoolEntry_dispose;return this},MO.SMemoryPoolEntry_dispose=function(){var a=this.value;a&&(a.__pool=null,a.dispose());this.value=this.next=null};
with(MO)MO.TMemoryPool=function(){this._unused=this._constructor=null;this._freeCount=this._allocCount=this._createCount=0;this.alloc=TMemoryPool_alloc;this.free=TMemoryPool_free;this.dispose=TMemoryPool_dispose;this.dump=TMemoryPool_dump;return this},MO.TMemoryPool_alloc=function(){var a=null,b=this._unused;b?(a=b.value,this._unused=b.next,RMemory.entryFree(b)):(a=new this._constructor,a.__pool=o,this._createCount++);this._allocCount++;return a},MO.TMemoryPool_free=function(a){RAssert.debugNotNull(a);
var b=RMemory.entryAlloc();b.value=a;b.next=this._unused;this._unused=b;this._freeCount++},MO.TMemoryPool_dispose=function(){for(var a=this._unused;a;){var b=a,a=b.next;b.dispose();RMemory.entryFree(b)}},MO.TMemoryPool_dump=function(){var a=new TString;a.append("Pool:");a.append("create=",this._createCount);a.append(", alloc=",this._allocCount);a.append(", free=",this._freeCount);return a.flush()};
with(MO)MO.SLooperEntry=function(){this.value=this.next=this.prior=null;this.dispose=SLooperEntry_dispose;return this},MO.SLooperEntry_dispose=function(){this.value=this.next=this.prior=null};
with(MO)MO.TLooper=function(){this._recordCount=this._count=0;this._current=null;this.innerPush=TLooper_innerPush;this.innerRemove=TLooper_innerRemove;this.innerRemoveCurrent=TLooper_innerRemoveCurrent;this.innerRemoveValue=TLooper_innerRemoveValue;this.isEmpty=TLooper_isEmpty;this.count=TLooper_count;this.record=TLooper_record;this.unrecord=TLooper_unrecord;this.contains=TLooper_contains;this.current=TLooper_current;this.next=TLooper_next;this.push=TLooper_push;this.pushUnique=TLooper_pushUnique;
this.removeCurrent=TLooper_removeCurrent;this.remove=TLooper_remove;this.clear=TLooper_clear;this.dispose=TLooper_dispose;this.dump=TLooper_dump;return this},MO.TLooper_innerPush=function(a){var b=this._current;if(b){var d=b.prior;a.prior=d;a.next=b;d.next=a;b.prior=a}else a.prior=a,this._current=a.next=a;this._count++},MO.TLooper_innerRemove=function(a){var b=a.prior,d=a.next;b.next=d;d.prior=b;this._count--;this._current=0<this._count?d:null;RMemory.free(a)},MO.TLooper_innerRemoveCurrent=function(){var a=
null;if(0<this._count){var b=this._current,a=b.value;this.innerRemove(b)}return a},MO.TLooper_innerRemoveValue=function(a){if(0<this._count)if(this._current.value==a)this.innerRemoveCurrent();else for(var b=this._current,d=b.next;d!=b;){if(d.value==a){this.innerRemove(d);this._current=b;break}d=d.next}},MO.TLooper_isEmpty=function(){return 0==this._count},MO.TLooper_count=function(){return this._count},MO.TLooper_record=function(){this._recordCount=this._count},MO.TLooper_unrecord=function(a){this._recordCount=
-1},MO.TLooper_contains=function(a){if(this._current)for(var b=this._current,d=this._count,f=0;f<d;f++){if(b.value==a)return!0;b=b.next}return!1},MO.TLooper_current=function(){var a=this._current;return a?a.value:null},MO.TLooper_next=function(){this._current&&(this._current=this._current.next);var a=this._recordCount;if(0<a)this._recordCount--;else if(0==a)return null;return this._current?this._current.value:null},MO.TLooper_push=function(a){var b=RMemory.alloc(SLooperEntry);b.value=a;this.innerPush(b)},
MO.TLooper_pushUnique=function(a){this.contains(a)||this.push(a)},MO.TLooper_removeCurrent=function(){return this.innerRemoveCurrent()},MO.TLooper_remove=function(a){this.innerRemoveValue(a)},MO.TLooper_clear=function(){var a=this._current;if(a)for(a.prior.next=null;a;)a=a.next,MO.Memory.free(a);this._count=0;this._current=null},MO.TLooper_dispose=function(){this.clear()},MO.TLooper_dump=function(){var a=this._count,b=new TString;b.append(RClass.name(this),": ",a);if(0<a)for(var d=this._current,f=
0;f<a;f++)b.append(" [",d.value,"]"),d=d.next;return b.flush()};
with(MO)MO.RGlobal=function(){this._instances=new TDictionary;this.get=RGlobal_get;this.set=RGlobal_set;this.globalGet=RGlobal_globalGet;this.globalSet=RGlobal_globalSet;return this},MO.RGlobal_get=function(a){return this._instances.get(a)},MO.RGlobal_set=function(a,b){this._instances.set(a,b)},MO.RGlobal_globalGet=function(a){var b=null;return b=top.MO.Global?top.MO.Global.get(a):this._instances.get(a)},MO.RGlobal_globalSet=function(a,b){top.MO.Global?top.MO.Global.set(a,b):this._instances.set(a,
b)},MO.RGlobal=new RGlobal;with(MO)MO.AAnnotation=function(a){this._annotationCd=null;this._duplicate=this._inherit=!1;this._name=a;this.annotationCd=AAnnotation_annotationCd;this.name=AAnnotation_name;this.code=AAnnotation_code;this.value=AAnnotation_value;return this},MO.AAnnotation_annotationCd=function(){return this._annotationCd},MO.AAnnotation_name=function(){return this._name},MO.AAnnotation_code=function(){return this._name},MO.AAnnotation_value=function(){return null};
with(MO)MO.AEnum=function(a,b){this.inherit=!0;this.annotation=EAnnotation.Enum;this.name=a;this.linker=b;return this};with(MO)MO.ALinker=function(a,b){this.inherit=!0;this.annotation=EAnnotation.Linker;this.name=a;this.linker=b;return this};
with(MO)MO.AProperty=function(a,b){AAnnotation.call(this,a);this._inherit=!0;this._annotationCd=EAnnotation.Property;this._linker=null;this._force=!1;this.code=AProperty_code;this.build=AProperty_build;this.load=AProperty_load;this.save=AProperty_save;this.toString=AProperty_toString;var d=null;null==b?(d=RString.startsWith(n,"_")?n.substring(1):n,d=RString.toUnderline(d)):d=b;this._linker=d;return this},MO.AProperty_code=function(){return this._linker},MO.AProperty_build=function(){},MO.AProperty_load=
function(a,b){a[this._name]=b.get(this._linker)},MO.AProperty_save=function(a,b){b.set(this._linker,a[this._name])},MO.AProperty_toString=function(){return"<"+this._annotationCd+",linker="+this._linker+">"};MO.EAnnotation=new function(){this.Property="property";this.Event="enum";this.Event="event";this.Linker="linker";this.Style="style";this.StyleIcon="icon";return this};MO.EBoolean=new function(){this.True="Y";this.False="N";return this};
MO.ECharCase=new function(){this.Upper="U";this.Lower="L";this.Word="W";return this};MO.EDataType=new function(){this.Unknown=0;this.Int8=1;this.Int16=2;this.Int32=3;this.Int64=4;this.Uint8=5;this.Uint16=6;this.Uint32=7;this.Uint64=8;this.Float16=9;this.Float32=10;this.Float64=11;this.String=12;return this};MO.EEndian=new function(){this.Big=0;this.Little=1;return this};MO.ENodeType=new function(){this.Node=1;this.Text=3;this.Data=4;return this};
MO.ENumber=new function(){this.Integer="I";this.PositiveInteger="PI";this.NegativeInteger="NI";this.Float="F";this.PositiveFloat="PF";this.NegativeFloat="NF";return this};MO.ERegExp=new function(){this.I=/^-?[1-9]\d*|0$/;this.PI=/^[1-9]\d*$/;this.NI=/^-[1-9]\d*$/;this.F=/^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$/;this.PF=/^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$/;this.NF=/^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$/;this.U=/[1-9]{1}[0-9]/;this.E=/^\w{1,}[@]{1}[a-zA-Z]{1,}[.]{1}[a-zA-Z]{1,}$/;return this};
MO.EResult=new function(){this.Success=0;this.Continue=1;this.Skip=2;this.Finish=3;this.Failure=-1;this.Cancel=-2;return this};with(MO)MO.MInstance=function(a){a=RClass.inherits(this,a);a.__free=!1;a.instanceCreate=RMethod.empty;a.instanceAlloc=RMethod.empty;a.instanceFree=RMethod.empty;a.instanceRelease=RMethod.empty;return a};with(MO)MO.MInvoke=function(a){a=RClass.inherits(this,a);a.invoke=RMethod.virtual(a,"invoke");return a};
with(MO)MO.MPoolAble=function(a){a=RClass.inherits(this,a);a._poolCode=null;a.poolCode=MPoolAble_poolCode;a.setPoolCode=MPoolAble_setPoolCode;return a},MO.MPoolAble_poolCode=function(){return this._code},MO.MPoolAble_setPoolCode=function(a){this._poolCode=a};with(MO)MO.SArguments=function(){this.owner=null;return this};with(MO)MO.SEnumItem=function(){this.name=null;this.value=0;return this};
with(MO)MO.TClass=function(){this.__disposed=!0;this._unused=null;this._annotations={};this._attributes={};this.instance=this.clazz=this.base=this.parent=this.name=null;this._abstract=!1;this.styles=[];this.instances=[];this.register=TClass_register;this.assign=TClass_assign;this.annotations=TClass_annotations;this.annotation=TClass_annotation;this.annotationFind=TClass_annotationFind;this.attributeFind=TClass_attributeFind;this.style=TClass_style;this.build=TClass_build;this.newInstance=TClass_newInstance;
this.free=TClass_free;this.alloc=TClass_alloc;return this},MO.TClass_register=function(a){var b=a.annotationCd(),d=a.name(),f=a.code();if(!b||!f)throw new TError(this,"Unknown annotation. (class={1},annotation={2},name={3},code={4})",RClass.dump(this),b,d,f);var g=this._annotations[b];g||(g=this._annotations[b]={});if(!a._duplicate&&g[f])throw new TError(this,"Duplicate annotation. (class={1},annotation={2},name={3},code={4},value={5})",RClass.dump(this),b,d,f,a.toString());g[f]=a;this._attributes[d]=
a},MO.TClass_assign=function(a){for(var b in a._annotations){var d=this._annotations[b];d||(d=this._annotations[b]={});var f=a._annotations[b],g;for(g in f){var h=f[g];if(!h._duplicate&&d[g])throw new TError(this,"Duplicate annotation. (annotation={1}, {2}.{3}={4}.{5}, source={6})",b,this.name,g,a.name,g,h.toString());h._inherit&&(d[g]=h)}}for(g in a._attributes)h=a._attributes[g],h.construct!=Function&&(this._attributes[g]=a._attributes[g])},MO.TClass_annotations=function(a){var b=this._annotations[a];
b||RLogger.fatal(this,null,"Can't find annotations. (annotation={1}, class={2})",a,this.name);return b},MO.TClass_annotation=function(a,b){var d=null,f=this._annotations[a];f&&(d=f[b]);d||RLogger.fatal(this,null,"Can't find annotation. (annotation={1}, name={2}, class={3})",a,b,this.name);return d},MO.TClass_annotationFind=function(a){for(var b in this._annotations){var d=this._annotations[b];if(d&&(d=d[a],null!=d&&d.constructor!=Function))return d}return null},MO.TClass_attributeFind=function(a){return(a=
this._attributes[a])&&a.constructor!=Function?a:null},MO.TClass_style=function(a){if(this.styles[a])return this.styles[a];for(var b=null,d=this;d;){var f=d._annotations[EAnnotation.Style];if(f&&(b=f[a]))break;d=d.parent}b||RLogger.fatal(this,null,"No register style annotation. (name={1}, linker={2}, class={3})",this.name+"_"+a,this.liner,this.name);b=d.name+"_"+b.style();return this.styles[a]=b},MO.TClass_build=function(){for(var a in this.instance){var b=this.instance[a];if(null!=b&&b.constructor==
Function&&b.__virtual){this._abstract=!0;break}}if(b=this._annotations[EAnnotation.Property])for(a in b)b[a].build(this.instance)},MO.TClass_newInstance=function(){var a=this.alloc();if(!a){if(this._abstract){var a=new TString,b;for(b in this.instance){var d=this.instance[b];RMethod.isVirtual(d)&&(a.isEmpty()||a.append(","),a.append(d._name))}return RLogger.fatal(this,null,"Abstract Class can't be create.(name={1})\n[{2}]",this.name,a)}var f=this.instance;if(!f)return RLogger.fatal(this,null,"Class instance is empty. (name={1})",
this.name);a=new f.constructor;for(b in f){d=f[b];if(null!=d){if("__base"==b||"__inherits"==b){a[b]=f[b];continue}RClass.isBase(d)||(d=RObject.clone(d))}a[b]=d}a.__class=this;a.construct&&a.construct()}return a},MO.TClass_alloc=function(){var a=this._unused;a&&(this._unused=a.cnext,a.cnext=null,a._using=!0);return a},MO.TClass_free=function(a){if(a._using){a.cnext=this._unused;this._unused=a;a._using=!1;for(var b in a){var d=a[b];if(d&&!RClass.isBase(d))if(d._class)this.free(d);else if(this.isClass(d,
Array))for(var f=0;f<d.length;f++){var g=d[f];g._class&&this.free(g)}}}};with(MO)MO.TClassBase=function(){this.__disposed=!0;return this};with(MO)MO.TContext=function(a,b,d){this.name=a;this.code=b;this.text=d;return this};
with(MO)MO.TDataset=function(){this._code=null;this._pageSize=20;this._total=this._pageCount=this._pageIndex=0;this._rows=new TObjects;this.isEmpty=TDataset_isEmpty;this.createRow=TDataset_createRow;this.count=TDataset_count;this.row=TDataset_row;this.rows=TDataset_rows;this.find=TDataset_find;this.push=TDataset_push;this.loadConfig=TDataset_loadConfig;this.clear=TDataset_clear;return this},MO.TDataset_isEmpty=function(){return this._rows.isEmpty()},MO.TDataset_createRow=function(){var a=new TRow;
a._dataset=this;this._rows.push(a);return a},MO.TDataset_count=function(){return this._rows.count()},MO.TDataset_row=function(a){return this._rows.get(a)},MO.TDataset_rows=function(){return this._rows},MO.TDataset_find=function(a){var b=arguments,d=b.length;if(0!=d%2)throw new TError(this,"Parameters must is pairs (length={1})",d);for(var f=this._rows,g=f.count(),h=0;h<g;h++){for(var k=f.get(h),m=!0,q=0;q<d;q+=2)if(k.get(b[h])!=b[h+1]){m=!1;break}if(m)return k}return null},MO.TDataset_push=function(a){this._rows.push(a)},
MO.TDataset_loadConfig=function(a){this._code=a.get("name");this._pageSize=RInteger.parse(a.get("page_size",1E3));this._pageIndex=RInteger.parse(a.get("page",0));this._pageCount=RInteger.parse(a.get("page_count",1));this._total=RInteger.parse(a.get("total"));if(a=a.nodes())for(var b=a.count(),d=0;d<b;d++){var f=a.get(d);f.isName("Row")&&this.createRow().loadConfig(f)}},MO.TDataset_clear=function(){this._pageSize=20;this._total=this._pageCount=this._pageIndex=0;this._rows.clear()},MO.TDataset_findIndex=
function(a){for(var b=this._rows,d=b.count(),f=0;f<d;f++){var g=b.get(f);if(g._index=a)return g}return null},MO.TDataset_remove=function(a){return this._rows.remove(a)},MO.TDataset_removeRow=function(a){a=this.indexOf(a);-1!=a&&this._rows.remove(a)},MO.TDataset_saveViewer=function(a){a.datasetName=this._code;a.datasetId=this.id;a.position=0;a.start=0;a._count=this._rows._count;a._rows=this._rows;a.dataset=this},MO.TDataset_pack=function(){for(var a=this._rows,b=new TStrings,d=0;d<a._count;d++)b.push(a.get(d).pack());
return b.pack()},MO.TDataset_dump=function(){var a=new TString;a.append(RClass._code(this));a.append(" count=",this._count);a.append(" fields=",this.fieldCount);a.appendLine();if(this._rows)for(var b=this._count,d=0;d<b;d++)a.append("- "),this._rows.get(d).dump(s),d!=this._count-1&&a.appendLine();return a.toString()};
with(MO)MO.TDatasetViewer=function(){this._datasetId=null;this._count=this._start=this._position=0;this._ouids=this._rows=e._values=null;this.isEmpty=TDatasetViewer_isEmpty;this.count=TDatasetViewer_count;this.current=TDatasetViewer_current;this.reset=TDatasetViewer_reset;this.move=TDatasetViewer_move;this.moveToRow=TDatasetViewer_moveToRow;this.first=TDatasetViewer_first;this.prior=TDatasetViewer_prior;this.next=TDatasetViewer_next;this.last=TDatasetViewer_last;return this},MO.TDatasetViewer_isEmpty=
function(){return null==this._count},MO.TDatasetViewer_count=function(){return this._count},MO.TDatasetViewer_current=function(){var a=this._rows;return a?a.get(this._position-this._start):null},MO.TDatasetViewer_reset=function(){this._position=-1},MO.TDatasetViewer_move=function(a){this._position=a},MO.TDatasetViewer_moveToRow=function(a){a=this._rows.indexOf(a);-1!=a&&(this._position=a-this._start)},MO.TDatasetViewer_first=function(a){this._position=a?-1:0},MO.TDatasetViewer_prior=function(){return 0<
this._position?(this._position--,!0):!1},MO.TDatasetViewer_next=function(){return this._position<this._count-1?(this._position++,!0):!1},MO.TDatasetViewer_last=function(){this._position=this._count-1};
with(MO)MO.TDate=function(a){this.date=a?a:new Date;this.ms=this.second=this.minute=this.hour=this.day=this.month=this.year=null;this.equals=TDate_equals;this.isBefore=TDate_isBefore;this.isAfter=TDate_isAfter;this.monthDays=TDate_monthDays;this.monthWeekDay=TDate_monthWeekDay;this.weekDay=TDate_weekDay;this.setYear=TDate_setYear;this.setMonth=TDate_setMonth;this.setDay=TDate_setDay;this.setHour=TDate_setHour;this.setMinute=TDate_setMinute;this.setSecond=TDate_setSecond;this.addYear=TDate_addYear;
this.addMonth=TDate_addMonth;this.addDay=TDate_addDay;this.addMseconds=TDate_addMseconds;this.refresh=TDate_refresh;this.setDate=TDate_setDate;this.now=TDate_now;this.clone=TDate_clone;this.dump=TDate_dump;this.refresh();return this},MO.TDate_clone=function(){var a=new Date;a.setTime(this.date.getTime());return new TDate(a)},MO.TDate_equals=function(a){return this.date.getTime()==a.date.getTime()},MO.TDate_isBefore=function(a){return this.date.getTime()<a.date.getTime()},MO.TDate_isAfter=function(a){return this.date.getTime()>
a.date.getTime()},MO.TDate_monthDays=function(){return RDate.monthDays(this.year,this.month)},MO.TDate_monthWeekDay=function(){return(8-(this.day-this.weekDay())%7)%7},MO.TDate_weekDay=function(){return this.date.getDay()},MO.TDate_setYear=function(a){this.date.setFullYear(a);this.refresh()},MO.TDate_setMonth=function(a){this.date.setMonth(parseInt(a,10)-1);this.refresh()},MO.TDate_setDay=function(a){this.date.setDate(a);this.refresh()},MO.TDate_setHour=function(a){this.date.setHours(a);this.refresh()},
MO.TDate_setMinute=function(a){this.date.setMinutes(a);this.refresh()},MO.TDate_setSecond=function(a){this.date.setSeconds(a);this.refresh()},MO.TDate_addYear=function(a){this.date.setFullYear(this.date.getFullYear()+parseInt(a));this.refresh()},MO.TDate_addMonth=function(a){this.date.setMonth(this.date.getMonth()+parseInt(a));this.refresh()},MO.TDate_addDay=function(a){this.date.setTime(this.date.getTime()+864E5*parseInt(a));this.refresh()},MO.TDate_addMseconds=function(a){this.date.setTime(this.date.getTime()+
parseInt(a));this.refresh()},MO.TDate_refresh=function(){var a=this.date;a&&(this.year=a.getFullYear(),this.month=a.getMonth()+1,this.day=a.getDate(),this.hour=a.getHours(),this.minute=a.getMinutes(),this.second=a.getSeconds(),this.ms=a.getMilliseconds())},MO.TDate_setDate=function(a){this.date=a;this.refresh()},MO.TDate_now=function(){this.date=new Date;this.refresh()},MO.TDate_dump=function(){return RClass.dump(this)+" "+RDate.formatDate(this)};
with(MO)MO.TError=function TError(b,d,f){for(var g=new TString,h=TError.caller,k=new TString,m=[];h&&!RArray.contains(m,h);)m.push(h),h=h.caller;for(var q=m.length,r=0;r<q;r++)h=m[r],0<r&&k.appendLine(),k.append("   "+(q-r)+": "+RMethod.name(h));h=arguments;q=h.length;for(r=2;r<q;r++){var m=h[r],u=null,u="function"==typeof m?RMethod.name(m):m;d=d.replace("{"+(r-1)+"}",u)}g.appendLine(d);g.appendLine("------------------------------------------------------------");g.append(k);g=g.flush();alert(g)};
with(MO)MO.TFatalError=function TFatalError(b,d,f,g){for(var h=new TString,k=TFatalError.caller,m=new TString,q=[];k&&!RArray.contains(q,k);)q.push(k),k=k.caller;for(var r=q.length,u=0;u<r;u++)k=q[u],0<u&&m.appendLine(),m.append("   "+(r-u)+": "+RMethod.name(k));k=arguments;r=k.length;for(u=2;u<r;u++){var q=k[u],w=null,w="function"==typeof q?RMethod.name(q):q;f=f.replace("{"+(u-1)+"}",w)}h.appendLine(f);h.appendLine("------------------------------------------------------------");h.append(m);throw Error(h);
};
with(MO)MO.TInstancePool=function(){TObjects.call(this);this._instance=null;this.instance=TInstancePool_instance;this.alloc=TInstancePool_alloc;this.free=TInstancePool_free;return this},MO.TInstancePool_instance=function(a){var b=this._instance;null==b&&(b=this._instance=RClass.create(a),b.instanceCreate());b.instanceAlloc();return b},MO.TInstancePool_alloc=function(a){var b=null;0==this._count?(b=RClass.create(a),b.instanceCreate()):b=this.pop();b.instanceAlloc();return b},MO.TInstancePool_free=function(a){a.instanceFree();
return this.push(a)};with(MO)MO.TInvoke=function(){this.callback=this.owner=null;this.invoke=TInvoke_invoke;return this},MO.TInvoke_invoke=function(a,b,d,f,g,h){if(this.callback){var k=this.owner?this.owner:this;try{this.callback.call(k,a,b,d,f,g,h)}catch(m){RLogger.fatal(this,m,"Call method failure. (owner={1}, callback={2})",k,this.callback)}}};
with(MO)MO.TListener=function(){this._callback=this._owner=null;this.process=TListener_process;this.toString=TListener_toString;this.dispose=TListener_dispose;return this},MO.TListener_process=function(a,b,d,f,g,h){this._callback.call(this._owner?this._owner:this,a,b,d,f,g,h)},MO.TListener_toString=function(){return RClass.name(this)+"(owner="+RClass.name(this._owner)+", callback="+RMethod.name(this._callback)+")"},MO.TListener_dispose=function(){this._callback=this._owner=null;RObject.free(this)};
with(MO)MO.TListeners=function(){this._listeners=null;this.isEmpty=TListeners_isEmpty;this.find=TListeners_find;this.register=TListeners_register;this.unregister=TListeners_unregister;this.push=TListeners_push;this.remove=TListeners_remove;this.process=TListeners_process;this.clear=TListeners_clear;this.dispose=TListeners_dispose;this.dump=TListeners_dump;return this},MO.TListeners_isEmpty=function(){var a=this._listeners;return a?a.isEmpty():!0},MO.TListeners_find=function(a,b){var d=this._listeners;
if(d)for(var f=d.count(),g=0;g<f;g++){var h=d.getAt(g);if(h._owner==a&&h._callback==b)return h}return null},MO.TListeners_register=function(a,b){var d=this.find(a,b);if(d)throw new TError(this,"Listener is already register. (owner={1}, process={2})",a,b);d=new TListener;d._owner=a;d._callback=b;this.push(d);return d},MO.TListeners_unregister=function(a,b){var d=this.find(a,b);if(!d)throw new TError(this,"Listener is not register. (owner={1}, process={2})",a,b);this.remove(d);d.dispose()},MO.TListeners_push=
function(a){if(!a)throw new TError(this,"Listener is null.");if(!a._callback)throw new TError(this,"Listener process is null.");var b=this._listeners;b||(b=this._listeners=new TObjects);b.push(a)},MO.TListeners_remove=function(a){if(!a)throw new TError(this,"Listener is null.");this._listeners.remove(a)},MO.TListeners_process=function(a,b,d,f,g,h){var k=this._listeners;if(k)for(var m=k.count(),q=0;q<m;q++)k.getAt(q).process(a,b,d,f,g,h)},MO.TListeners_clear=function(){var a=this._listeners;a&&a.clear()},
MO.TListeners_dispose=function(){var a=this._listeners;if(a){for(var b=a.count()-1;0<=b;b--)a.getAt(b).dispose();this._listeners=RObject.dispose(a)}RObject.free(this)},MO.TListeners_dump=function(){var a=new TString;a.append(RClass.name(this));for(var b=this._listeners,d=b.count(),f=0;f<d;f++)a.append("\n   "+b.getAt(f));return a.flush()};
with(MO)MO.TLoaderListener=function(){this.invoke=null;this.ids=new TArray;this.check=TLoaderListener_check;return this},MO.TLoaderListener_check=function(a){var b=this.ids;if(!b.isEmpty())for(var d=b.length,f=0;f<d;f++)if(!a.contains(b.get(f)))return!1;return!0};with(MO)MO.TLocker=function(){this._lock=!1;this.enter=TLocker_enter;this.leave=TLocker_leave;return this},MO.TLocker_enter=function(){this._lock=!0},MO.TLocker_leave=function(){this._lock=!1};
with(MO)MO.TMessage=function(){this.typeCd=EMessage.None;this.redirect=this.description=this.message=this.attrType=null;this.loadConfig=TMessage_loadConfig;this.saveConfig=TMessage_saveConfig;this.icon=TMessage_icon;return this},MO.TMessage_loadConfig=function(a){this.typeCd=RString.toLower(a.name);this.message=a.nvl("message");this.attrType=a.nvl("type");this.redirect=a.nvl("redirect");this.description=a.nvl("description").replace(/\\n/g,"\n")},MO.TMessage_saveConfig=function(a){a.name=this.typeCd;
a.set("message",this.message);a.set("description",this.description)},MO.TMessage_icon=function(){return"sys.msg."+this.typeCd};
with(MO)MO.TMessages=function(){this._items=new TObjects;this.hasMessage=TMessages_hasMessage;this.message=TMessages_message;this.messages=TMessages_messages;this.type=TMessages_type;this.push=TMessages_push;return this},MO.TMessages_hasMessage=function(a){for(var b=0;b<this._items.count;b++){var d=this._items.get(b);if(d&&d.type==a)return!0}return!1},MO.TMessages_message=function(a){for(var b=0;b<this._items.count;b++){var d=this._items.get(b);if(d&&d.type==a)return d}return null},MO.TMessages_messages=
function(a){for(var b=null,d=0;d<this._items.count;d++){var f=this._items.get(d);f&&f.type==a&&(b||(b=new TList),b.push(f))}return b},MO.TMessages_type=function(){return this.hasMessage(EMessage.Fatal)?EMessage.Fatal:this.hasMessage(EMessage.Error)?EMessage.Error:this.hasMessage(EMessage.Warn)?EMessage.Warn:this.hasMessage(EMessage.Valid)?EMessage.Valid:this.hasMessage(EMessage.Info)?EMessage.Info:EMessage.None},MO.TMessages_push=function(a){a&&this._items.push(a)};
with(MO)MO.TNode=function(a){this._name=RString.nvl(a,"Node");this._nodes=this._attributes=this._value=null;this.isName=TNode_isName;this.name=TNode_name;this.setName=TNode_setName;this.value=TNode_value;this.setValue=TNode_setValue;this.contains=TNode_contains;this.hasAttribute=TNode_hasAttribute;this.attributes=TNode_attributes;this.hasNode=TNode_hasNode;this.nodeCount=TNode_nodeCount;this.node=TNode_node;this.nodes=TNode_nodes;this.get=TNode_get;this.getInteger=TNode_getInteger;this.set=TNode_set;
this.setNvl=TNode_setNvl;this.setBoolean=TNode_setBoolean;this.setFloat=TNode_setFloat;this.find=TNode_find;this.findNode=TNode_findNode;this.searchNode=TNode_searchNode;this.push=TNode_push;this.toString=TNode_toString;this.innerDump=TNode_innerDump;this.dump=TNode_dump;return this},MO.TNode_isName=function(a){return RString.equals(this._name,a)},MO.TNode_name=function(){return this._name},MO.TNode_setName=function(a){this._name=a},MO.TNode_value=function(){return this._value},MO.TNode_setValue=
function(a){this._value=a},MO.TNode_contains=function(a){var b=this._attributes;return b?b.contains(a):!1},MO.TNode_hasAttribute=function(){var a=this._attributes;return a?!a.isEmpty():!1},MO.TNode_attributes=function(){var a=this._attributes;a||(a=this._attributes=new TAttributes);return a},MO.TNode_hasNode=function(){var a=this._nodes;return a?!a.isEmpty():!1},MO.TNode_nodeCount=function(){var a=this._nodes;return a?a.count():0},MO.TNode_node=function(a){var b=this._nodes;return b?b.at(a):null},
MO.TNode_nodes=function(){var a=this._nodes;a||(a=this._nodes=new TObjects);return a},MO.TNode_get=function(a,b){return this._attributes?this._attributes.get(a,b):null},MO.TNode_getInteger=function(a,b){return RInteger.parse(this.get(a,b))},MO.TNode_set=function(a,b){null!=b&&this.attributes().set(a,b)},MO.TNode_setNvl=function(a,b){RString.isEmpty(b)||this.attributes().set(a,b)},MO.TNode_setBoolean=function(a,b){null!=b&&this.attributes().set(a,RBoolean.format(b))},MO.TNode_setFloat=function(a,b){null!=
b&&this.attributes().set(a,RFloat.format(b))},MO.TNode_find=function(a){if(this.hasNode())for(var b=this._nodes,d=b.count(),f=0;f<d;f++){var g=b.get(f);if(g.isName(a))return g}return null},MO.TNode_findNode=function(a,b){if(this.hasNode()){var d=this._nodes,f=d.count(),g=arguments,h=g.length;if((h-1)%2)throw new TError("Attributes is not pair. (length={1})",h);for(var k=0;k<f;k++){var m=d.get(k);if(null==a||m.isName(a)){for(var q=!0,r=1;r<h;r+=2)if(m.get(g[r])!=g[r+1]){q=!1;break}if(q)return m}}}return null},
MO.TNode_searchNode=function(a,b){if(this.hasAttribute()&&this._attributes.get(a)==b)return this;if(this.hasNode())for(var d=this._nodes,f=d.count();0<f;ni++){var g=d.get(g).searchNode(a,b);if(null!=g)return g}return null},MO.TNode_push=function(a){this.nodes().push(a)},MO.TNode_toString=function(){return this.dump()},MO.TNode_innerDump=function(a,b,d){null==d&&(d="");a.append(d,b._name,"(",RClass.name(b),")");var f=b._attributes;if(f){var g=f.count();a.append(" [",g,":");for(var h=0;h<g;h++)0<h&&
a.append(" "),a.append(f.name(h),"=",f.value(h)),h<g-1&&a.append(",");a.append("]")}b._value&&(g=b._value.toString(),RString.isEmpty(g)||a.append(" {",g.length,":",g,"}"));if(b=b._nodes)for(g=b.count(),a.append("\n"),h=0;h<g;h++)b.get(h).dump(a,d+"   "),h<g-1&&a.append("\n");return a},MO.TNode_dump=function(a,b){return this.innerDump(RString.nvlString(a),this,b)};
with(MO)MO.TRow=function(){TAttributes.call(this);this._statusCd=this._uniqueId=this._index=this._dataset=null;this.loadConfig=TRow_loadConfig;this.saveConfig=TRow_saveConfig;return this},MO.TRow_loadConfig=function(a){this._index=a.get("_id");this._statusCd=a.get("_status");this._uniqueId=a.get("ouid");a.hasAttribute()&&this.append(a.attributes())},MO.TRow_saveConfig=function(a){a.set("_id",this._index);a.set("_status",this._statusCd);for(var b=this.count(),d=0;d<b;d++)a.set(this._names[d],this._values[d])},
MO.TRow_copy=function(){var a=new TRow;a._dataset=this._dataset;a._index=this._index;a._statusCd=this._statusCd;a._uniqueId=this._uniqueId;for(var b=this.count,d=0;d<b;d++)a.set(this.names[d],this.values[d]);return a},MO.TRow_toAttributes=function(a){a||(a=new TAttributes);a.set(RDataset.ROW_STATUS,this._statusCd);a.append(this);return a},MO.TRow_dump=function(a){var b=this.count;a=RString.nvlStr(a);a.append(RClass.name(this)," [",this._statusCd,": ");for(var d=0;d<b;d++)0<d&&a.append(","),a.append(this.names[d],
"=",this.values[d]);a.append("]");return a};
with(MO)MO.TSpeed=function TSpeed(){this.arguments=arguments;this._span=this._end=this._start=0;this._spanMin=Number.MAX_VALUE;this._spanMax=0;this.start=(new Date).getTime();this.callerName=RMethod.name(TSpeed.caller);this.reset=TSpeed_reset;this.begin=TSpeed_begin;this.end=TSpeed_end;this.record=TSpeed_record;this.toString=TSpeed_toString;return this},MO.TSpeed_reset=function(){this._span=this._end=this._start=0},MO.TSpeed_begin=function(){this._start=(new Date).getTime()},MO.TSpeed_end=function(){this._end=
(new Date).getTime();this._span+=this._end-this._start;this._span<this._spanMin&&(this._spanMin=this._span);this._span>this._spanMax&&(this._spanMax=this._span)},MO.TSpeed_record=function(){var a=(new Date).getTime()-this.start;RLogger.debug(this,"Speed test. (caller={1}, speed={2}, arguments={3})",this.callerName,a,this.arguments);this.record=this.callerName=this.start=this.arguments=null},MO.TSpeed_toString=function(){return this._span+" ("+this._spanMin+" - "+this._spanMax+")"};
with(MO)MO.TUnsupportError=function TUnsupportError(b,d){for(var f="Unsupport method. (name={1})",g=new TString,h=TUnsupportError.caller,k=new TString,m=[];h&&!RArray.contains(m,h);)m.push(h),h=h.caller;for(var q=m.length,r=0;r<q;r++)h=m[r],0<r&&k.appendLine(),k.append("   "+(q-r)+": "+RMethod.name(h));h=arguments;q=h.length;for(r=1;r<q;r++)var m=h[r],u=null,u="function"==typeof m?RMethod.name(m):m,f=f.replace("{"+(r-1)+"}",u);g.appendLine(f);g.appendLine("------------------------------------------------------------");
g.append(k);throw Error(g);};with(MO)MO.FConsole=function(a){a=RClass.inherits(this,a,FObject);a._scopeCd=EScope.Global;a.scopeCd=FConsole_scopeCd;return a},MO.FConsole_scopeCd=function(){return this._scopeCd};
with(MO)MO.FObjectPool=function(a){a||(a=this);a.__class=null;a.__hash=0;a.__dispose=!1;a.construct=FObject_construct;a.hashCode=FObject_hashCode;a.toString=FObject_toString;a.dispose=FObject_dispose;a.innerDump=FObject_innerDump;a.dump=FObject_dump;return a},MO.FObject_construct=function(){this.__dispose=!1},MO.FObject_hashCode=function(){var a=this.__hash;a||(a=this.__hash=RObject.nextId());return a},MO.FObject_toString=function(){return RClass.dump(this)},MO.FObject_dispose=function(){RObject.free(this);
this.__dispose=!0},MO.FObject_innerDump=function(a,b){a.append(RClass.dump(this))},MO.FObject_dump=function(){var a=new TString;this.innerDump(a,0);return a.flush()};
with(MO)MO.FObjectPool=function(a){a=RClass.inherits(this,a,FObject);a._items=null;a._frees=null;a._allocCount=0;a._freeCount=0;a.construct=FObjectPool_construct;a.hasFree=FObjectPool_hasFree;a.alloc=FObjectPool_alloc;a.free=FObjectPool_free;a.push=FObjectPool_push;a.dispose=FObjectPool_dispose;a.innerDump=FObjectPool_innerDump;return a},MO.FObjectPool_construct=function(){this.__base.FObject.construct.call(this);this._items=new TObjects;this._frees=new TObjects},MO.FObjectPool_hasFree=function(){return!this._frees.isEmpty()},
MO.FObjectPool_alloc=function(){var a=null;this._frees.isEmpty()||(a=this._frees.pop());this._allocCount++;return a},MO.FObjectPool_free=function(a){this._frees.push(a);this._freeCount++},MO.FObjectPool_push=function(a){this._items.push(a);this._frees.push(a)},MO.FObjectPool_dispose=function(){this._items=RObject.dispose(this._items);this._frees=RObject.dispose(this._frees);this.__base.FObject.dispose.call(this)},MO.FObjectPool_innerDump=function(a,b){a.append("Pool:");a.append("total=",this._items.count());
a.append(", free=",this._frees.count());a.append(", alloc_count=",this._allocCount);a.append(", free_count=",this._freeCount)};
with(MO)MO.FObjectPools=function(a){a=RClass.inherits(this,a,FObject);a._pools=null;a.construct=FObjectPools_construct;a.pool=FObjectPools_pool;a.alloc=FObjectPools_alloc;a.free=FObjectPools_free;a.dispose=FObjectPools_dispose;return a},MO.FObjectPools_construct=function(){this.__base.FObject.construct.call(this);this._pools=new TDictionary},MO.FObjectPools_pool=function(a){var b=this._pools.get(a);b||(b=RClass.create(FObjectPool),this._pools.set(a,b));return b},MO.FObjectPools_alloc=function(a){return this.pool(a).alloc()},
MO.FObjectPools_free=function(a,b){return this.pool(a).free(b)},MO.FObjectPools_push=function(a,b){return this.pool(a).push(b)},MO.FObjectPools_dispose=function(){for(var a=this._pools,b=a.count(),d=0;d<b;d++)a.valueAt(d).dispose();a.dispose();this.__base.FObject.dispose.call(this)};
with(MO)MO.FTimer=function(a){a=RClass.inherits(this,a,FObject);a._count=0;a._startTime=0;a._beginTime=0;a._endTime=0;a._stopTime=0;a._span=0;a._spanSecond=0;a.setup=FTimer_setup;a.current=FTimer_current;a.span=FTimer_span;a.spanSecond=FTimer_spanSecond;a.rate=FTimer_rate;a.update=FTimer_update;return a},MO.FTimer_setup=function(){var a=(new Date).getTime();this._endTime=this._beginTime=this._startTime=a},MO.FTimer_current=function(){return this._lastTime},MO.FTimer_span=function(){return this._span},
MO.FTimer_spanSecond=function(){return this._spanSecond},MO.FTimer_rate=function(){return 0==this._count?0:parseInt(1E3*this._count/(this._lastTime-this._startTime))},MO.FTimer_update=function(){this._count++;var a=this._beginTime=this._endTime;this._spanSecond=(this._span=(this._endTime=(new Date).getTime())-a)/1E3};
with(MO)MO.RArray=function(){this.array1=Array(1);this.array2=Array(2);this.array3=Array(3);this.array4=Array(4);this.array9=Array(9);this.array12=Array(12);this.array16=Array(16);this.equals=RArray_equals;this.count=RArray_count;this.contains=RArray_contains;this.find=RArray_find;this.search=RArray_search;this.reverse=RArray_reverse;this.copy=RArray_copy;this.move=RArray_move;this.remove=RArray_remove;this.sortPartition=RArray_sortPartition;this.sortArray=RArray_sortArray;this.sort=RArray_sort;this.nameMaxLength=
RArray_nameMaxLength;return this},MO.RArray_equals=function(a,b){if(a&&b&&a.length==b.length){for(var d=a.length,f=0;f<d;f++)if(a[f]!=b[f])return!1;return!0}return!1},MO.RArray_count=function(a){for(var b in a)b++;return 0},MO.RArray_contains=function(a,b){for(var d=a.length,f=0;f<d;f++)if(a[f]==b)return!0;return!1},MO.RArray_find=function(a,b){for(var d=a.length,f=0;f<d;f++)if(a[f]==b)return f;return-1},MO.RArray_search=function(a,b){for(var d in a)if(a[d]==b)return d;return null},MO.RArray_reverse=
function(a,b,d){for(var f=d+1-b>>1,g=0;g<f;g++){var h=a[b+g];a[b+g]=a[d-g];a[d-g]=h}},MO.RArray_copy=function(a,b){for(var d in a)b[d]=a[d]},MO.RArray_move=function(a,b,d,f){if(b>f)for(var g=0;g<d;g++)a[f-g]=a[b+g];else if(b<f)for(g=0;g<d;g++)a[f+d-g-1]=a[b+d-g-1]},MO.RArray_remove=function(a,b){return a.slice(0,b).concat(a.slice(b+1))},MO.RArray_sortPartition=function(a,b,d){var f=b;d+=1;for(var g=a[f];;){for(;a[++f]<g;);for(;a[--d]>g;);if(f>d)break;var h=a[f];a[f]=a[d];a[d]=h}a[b]=a[d];a[d]=g;return d},
MO.RArray_sortArray=function(a,b,d){if(b<d){var f=this.sortPartition(a,b,d);this.sortArray(a,b,f-1);this.sortArray(a,f+1,d)}},MO.RArray_sort=function(a,b){var d=a.length-1;this.sortArray(a,0,d);b&&this.reverse(a,0,d);return a},MO.RArray_nameMaxLength=function(a){for(var b in a)a=b.length,a>b&&(b=a);return 0},MO.RArray=new RArray;
with(MO)MO.RBoolean=function(){this.format=RBoolean_format;this.parse=RBoolean_parse;this.toString=RBoolean_toString;return this},MO.RBoolean_format=function(a){return a?EBoolean.True:EBoolean.False},MO.RBoolean_parse=function(a){if(null!=a){if(a.constructor==Boolean)return a;if(a.constructor==String)return a==EBoolean.True;if(a.constructor==Number)return 0<a;throw new TError(this,"Unknown type.");}return!1},MO.RBoolean_toString=function(a,b,d){null==b&&(b=EBoolean.True);null==d&&(d=EBoolean.False);
return a?b:d},MO.RBoolean=new RBoolean;with(MO)MO.RByte=function(){this.copy=RByte_copy;return this},MO.RByte_copy=function(a,b,d,f,g){for(var h=0;h<g;h++)a[b++]=d[f++]},MO.RByte=new RByte;with(MO)MO.RChar=function(){this.parse=RChar_parse;this.toString=RChar_toString;return this},MO.RChar_parse=function(a){return String.fromCharCode(a)},MO.RChar_toString=function(a){return a},MO.RChar=new RChar;
with(MO)MO.RClass=function(){this._codes=[];this._classes={};this.isBase=RClass_isBase;this.isBaseName=RClass_isBaseName;this.isBaseDataName=RClass_isBaseDataName;this.isBaseType=RClass_isBaseType;this.isBaseDataType=RClass_isBaseDataType;this.isName=RClass_isName;this.isClass=RClass_isClass;this.typeOf=RClass_typeOf;this.safeTypeOf=RClass_safeTypeOf;this.checkClass=RClass_checkClass;this.code=RClass_code;this.name=RClass_name;this.inherits=RClass_inherits;this.forName=RClass_forName;this.find=RClass_find;
this.register=RClass_register;this.createBase=RClass_createBase;this.createClass=RClass_createClass;this.create=RClass_create;this.createByName=RClass_createByName;this.innerCopy=RClass_innerCopy;this.build=RClass_build;this.free=RClass_free;this.dump=RClass_dump;return this},MO.RClass_isBase=function(a){return null!=a?RClass.isBaseName(typeof a):!1},MO.RClass_isBaseName=function(a){return null==a||"boolean"!=a&&"number"!=a&&"date"!=a&&"string"!=a&&"function"!=a?!1:!0},MO.RClass_isBaseDataName=function(a){return null==
a||"boolean"!=a&&"number"!=a&&"date"!=a&&"string"!=a?!1:!0},MO.RClass_isBaseType=function(a){return null==a||a!=Boolean&&a!=Number&&a!=Date&&a!=String&&a!=Function?!1:!0},MO.RClass_isBaseDataType=function(a){return null==a||a!=Boolean&&a!=Number&&a!=Date&&a!=String?!1:!0},MO.RClass_isName=function(a,b){return this.name(a)==b},MO.RClass_isClass=function(a,b){if(a&&b){var d=this.name(b);return a.__base?null!=a.__base[d]:this.name(a)==d}return!1},MO.RClass_typeOf=function(a){return a&&a.constructor?
RString.mid(a.constructor.toString(),"function ","("):"Null"},MO.RClass_safeTypeOf=function(a,b){if(null==a)return"Null";try{var d=a.constructor;if(d==Boolean)return"Boolean";if(d==Number)return"Number";if(d==String)return"String";if(d==Function||d.constructor==Function)return RString.mid(d.toString(),"function ","(");if(a.__class)return a.__class.name;if(a.tagName)return"Html";for(var f in a)return"Object"}catch(g){}return"Unknown"},MO.RClass_checkClass=function(a,b){if(!this.isClass(a,b))throw Error("Invalid class "+
o.name(o)+"<>"+o.name(b));},MO.RClass_code=function(a){for(var b=this._codes,d=b.length,f=0;f<d;f++)if(b[f]==a)return f;b[d]=a;return d},MO.RClass_name=function(a){if(a){if(a.__name)return a.__name;if(a.__class)return a.__class.name;if("function"==typeof a)return RMethod.name(a);if(a=a.constructor)return RString.mid(a.toString(),"function ","(")}return null},MO.RClass_inherits=function(a,b){var d=RRuntime.nvl(b,a);d.__inherits=[];for(var f=arguments,g=f.length,h=2;h<g;h++)d.__inherits.push(RMethod.name(f[h]));
return d},MO.RClass_forName=function(a){var b=null;null!=a&&(b=this._classes[a],b||(b=this.createClass(a),this.build(b)));return b},MO.RClass_find=function(a){var b=null;null!=a&&(a.__class?b=a.__class.name:a.constructor==Function?b=RMethod.name(a):a.constructor!=String&&RLogger.fatal(this,null,"Find class failure. (value={1})",a));return this._classes[b]},MO.RClass_register=function(a,b,d){a=RMethod.name(a.constructor);this._classes[a].register(b);a=b.value();return null!=a?a:d},MO.RClass_createBase=
function(a){return a?eval("function "+a+"(){return this;} new "+a+"();"):null},MO.RClass_createClass=function(a){var b=this._classes[a]=new TClass;b.name=a;b.base=this.createBase(a);b.clazz=new b.base.constructor;eval(a)(b.clazz);return b},MO.RClass_create=function(a){var b=typeof a;"function"==b?a=RMethod.name(a):"string"!=b&&RLogger.fatal(this,null,"Param is invlid (name={1})",a);return this.createByName(a)},MO.RClass_createByName=function(a){(a=this.forName(a))||RLogger.fatal(this,null,"Cant find class. (name={1})",
a);return a.newInstance()},MO.RClass_innerCopy=function(a,b){if(null!=a&&null!=b)for(var d in a){var f=a[d];if(null!=f){var g=typeof f;if("function"==g){g=b[d];null==g?b[d]=f:RMethod.isVirtual(g)?b[d]=f:!RMethod.isVirtual(f)&&RMethod.isEmpty(g)?b[d]=f:RMethod.isVirtual(f)||RMethod.isEmpty(f)||(b[d]=f);continue}else if(!RClass.isBaseName(g)){null==b[d]&&(b[d]=new f.constructor);this.innerCopy(f,b[d]);continue}}b[d]=f}},MO.RClass_build=function(a){var b=a.clazz.__inherits;if(b&&b.constructor==Array)for(var d=
!1,f=b.length,g=0;g<f;g++){var h=b[g];RString.startsWith(h,"F")&&(d&&RLogger.fatal(this,null,"Parent class is too many. (name={1})",h),a.parent=RClass.forName(h),d=!0)}d=a.instance=new a.base.constructor;if(b&&b.constructor==Array)for(f=b.length,g=0;g<f;g++)if(h=b[g],!RString.startsWith(h,"F")){var k=RClass.forName(h);null==k&&RLogger.fatal(this,null,"Parent class is not exists. (name={1})",h);RClass.innerCopy(k.instance,d);a.assign(k)}a.parent&&(this.innerCopy(a.parent.instance,d),a.assign(a.parent));
d.__base||(d.__base=new TClassBase);d.__base[a.name]=new a.base.constructor;var k=a.clazz,m;for(m in k)"__base"!=m&&(null==k[m]&&null==d[m]?d[m]=null:null!=k[m]&&(null==d[m]||null!=d[m]&&k[m]!=d[m])&&(d[m]=k[m]));if(b&&b.constructor==Array)for(f=b.length,g=0;g<f;g++)for(m in h=b[g],k=RClass.forName(h),h=d.__base[h]=new k.base.constructor,k=k.instance,k)if("__base"!=m){var q=k[m],r=d[m];null!=q&&null!=r&&q!=r&&q.constructor==Function&&r.constructor==Function&&(h[m]=k[m])}a.build();if(RRuntime.isRelease())for(m in a.instance)null==
a.instance[m]&&delete a.instance[m]},MO.RClass_free=function(a){var b=a.__class;b&&b.free(a)},MO.RClass_dump=function(a){if(null==a)return"@null";var b=this.safeTypeOf(a);switch(b){case "Boolean":return"Boolean:"+a;case "Number":return"Number:"+a;case "String":return b+"<"+a.length+">:"+a;case "Function":return b+"<"+RMethod.name(a)+">@"+this.code(a);case "Html":return b+"<"+a.tagName+">@"+this.code(a);default:if(a.__name)return b+"<"+a.__name+">@"+this.code(a)}return b+"@"+this.code(a)},MO.RClass=
new RClass;
with(MO)MO.RConsole=function(){this.ConsolePreFix="console:";this._registers=new TObjects;this._consoles=new TDictionary;this._localConsoles=new TDictionary;this.initialize=RConsole_initialize;this.register=RConsole_register;this.create=RConsole_create;this.createByName=RConsole_createByName;this.get=RConsole_get;this.find=RConsole_find;this.release=RConsole_release;return this},MO.RConsole_initialize=function(){for(var a=this._registers,b=0;b<a;b++){var d=a.get(b);d.force&&this.find(d.clazz)}},MO.RConsole_register=
function(a){this._registers.push(a)},MO.RConsole_create=function(a){var b=null;if(a){var b=RClass.create(a),d;for(d in b)if(RString.startsWith(d,"lnk")){var f=b[d];if("string"==typeof f&&RString.startsWith(f,"&")){var g=this.find(f.substr(1));if(!g)return RMessage.fatal(this,null,"Can't link console. (name={0}, property={1}:{2})",a,d,f);b[d]=g}}}return b},MO.RConsole_createByName=function(a){var b=null;if(a){var b=RClass.createByName(a),d;for(d in b)if(RString.startsWith(d,"lnk")){var f=b[d];if("string"==
typeof f&&RString.startsWith(f,"&")){var g=this.find(f.substr(1));if(!g)return RMessage.fatal(this,null,"Can't link console. (name={0}, property={1}:{2})",a,d,f);b[d]=g}}}return b},MO.RConsole_get=function(a){a=RClass.name(a);return this._consoles.get(a)},MO.RConsole_find=function(a){var b=null;if(a.constructor=String)b=RClass.name(a);else if(a.constructor==Function)b=a;else return RLogger.fatal(this,null,"Parameter type is invalid. (console={1})",a);if((a=RGlobal.get(this.ConsolePreFix+b))||(a=this._consoles.get(b)))return a;
var d=RClass.forName(b).instance.scopeCd();switch(d){case EScope.Global:a=top.RConsole.createByName(b);RGlobal.set(this.ConsolePreFix+b,a);this._consoles.set(b,a);break;case EScope.Local:a=this.createByName(b);this._localConsoles.set(b,a);this._consoles.set(b,a);break;default:return RLogger.fatal(this,"Unknown scope code. (name={1})",b)}RLogger.info(this,"Create console. (name={1}, scope={2})",b,REnum.decode(EScope,d));return a},MO.RConsole_release=function(){this._registers&&(this._registers.dispose(),
this._registers=null);var a=this._localConsoles;if(a){for(var b=a.count(),d=0;d<b;d++)a.value(d).dispose();a.dispose()}this._localConsoles=null;this._consoles&&this._consoles.dispose();this._consoles=null},MO.RConsole=new RConsole;
with(MO)MO.RConst=function(){this.PI_2=Math.PI/2;this.PI=Math.PI;this.PI2=2*Math.PI;this.RADIAN_RATE=180/Math.PI;this.DEGREE_RATE=Math.PI/180;this.PERCENT_10=.1;this.PERCENT_100=.01;this.PERCENT_1000=.001;this.identity3x3=[1,0,0,0,1,0,0,0,1];this.identity4x4=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return this},MO.RConst=new RConst;
with(MO)MO.RDate=function(){this.MinYear=1800;this.MaxYear=2400;this.Pattern="n-: /";this.Chars="0123456789-:/";this.DisplayFormat="yyyy-mm-dd hh24:mi:ss";this.DataFormat="yyyymmddhh24miss";this.MonthDays=[0,31,28,31,30,31,30,31,31,30,31,30,31];this.DaySeconds=1E3;this.Parts="YYYY MM DD HH24 MI SS".split(" ");this.PartsDefine={YYYY:["Year",4],MM:["Month",2],DD:["Day",2],HH24:["Hour",2],MI:["Minute",2],SS:["Second",2]};this.nvl=RDate_nvl;this.make=RDate_make;this.format=RDate_format;this.formatDate=
RDate_formatDate;this.formatText=RDate_formatText;this.monthDays=RDate_monthDays;this.splitFormat=RDate_splitFormat;this.makeDate=RDate_makeDate;this.checkItems=RDate_checkItems;this.check=RDate_check;this.parse=RDate_parse;this.splitDate=RDate_splitDate;this.splitTime=RDate_splitTime;this.autoParse=RDate_autoParse;this.getFormat=RDate_getFormat;return this},MO.RDate_nvl=function(a){return a?a:new TDate},MO.RDate_make=function(a,b,d,f,g,h){return new TDate(new Date(a,b,d))},MO.RDate_format=function(a){return this.formatDate(new TDate,
a)},MO.RDate_formatText=function(a,b){if(!a)return!1;b=b.toLowerCase();b=b.replace(/yyyy/g,a.substring(0,4));a=a.substring(4);b=b.replace(/mm/g,a.substring(0,2));a=a.substring(2);b=b.replace(/dd/g,a.substring(0,2));a=a.substring(2);b=b.replace(/hh24/g,a.substring(0,4));a=a.substring(4);b=b.replace(/mi/g,a.substring(0,2));a=a.substring(2);b=b.replace(/ss/g,a.substring(0,2));a.substring(2);return b},MO.RDate_formatDate=function(a,b){if(!a)return"";b=b?b.toLowerCase():this.DataFormat;b=b.replace(/yyyy/g,
RInteger.format(a.year,4));b=b.replace(/yy/g,RInteger.format(a.year%100,2));b=b.replace(/mm/g,RInteger.format(a.month,2));b=b.replace(/dd/g,RInteger.format(a.day,2));b=b.replace(/hh24/g,RInteger.format(a.hour,2));b=b.replace(/mi/g,RInteger.format(a.minute,2));b=b.replace(/ss/g,RInteger.format(a.second,2));return b=b.replace(/ms/g,RInteger.format(a.ms,3))},MO.RDate_monthDays=function(a,b){if(!a||!b)return 0;a=parseInt(a);b=parseInt(b);this.MonthDays[2]=0!=a%4&&0!=a%400||0==a%100?28:29;return this.MonthDays[b]},
MO.RDate_splitFormat=function(a,b){if(!a)return!1;b=b.toLowerCase();for(var d=[];0<b.length;)0==b.indexOf("yyyy")?(d.year=a.substring(0,4),b=b.substring(4),a=a.substring(4)):0==b.indexOf("mm")?(d.month=a.substring(0,2),b=b.substring(2),a=a.substring(2)):0==b.indexOf("dd")?(d.day=a.substring(0,2),b=b.substring(2),a=a.substring(2)):0==b.indexOf("hh24")?(d.hour=a.substring(0,2),b=b.substring(4),a=a.substring(2)):0==b.indexOf("mi")?(d.minute=a.substring(0,2),b=b.substring(2),a=a.substring(2)):0==b.indexOf("ss")?
(d.second=a.substring(0,2),b=b.substring(2),a=a.substring(2)):0==b.indexOf("ms")?(d.ms=a.substring(0,2),b=b.substring(2),a=a.substring(3)):(b=b.substring(1),a=a.substring(1));return d},MO.RDate_checkItems=function(a){if(!a)return!1;var b=RInteger.parse(a.year);if(b<this.MinYear||b>this.MaxYear)return!1;var d=RInteger.parse(a.month);if(1>d||12<d)return!1;var f=RInteger.parse(a.day);if(1>f||f>this.monthDays(b,d))return!1;b=RInteger.parse(a.hour);if(0>b||23<b)return!1;b=RInteger.parse(a.second);if(0>
b||59<b)return!1;a=RInteger.parse(a.ms);return 0>a||99<a?!1:!0},MO.RDate_check=function(a,b){return this.checkItems(this.splitFormat(a,b))},MO.RDate_makeDate=function(a,b){var d=new Date(RInteger.parse(b.year),RInteger.parse(b.month)-1,RInteger.parse(b.day),RInteger.parse(b.hour),RInteger.parse(b.minute),RInteger.parse(b.second),RInteger.parse(b.ms));return a?(a.setDate(d),a):new TDate(d)},MO.RDate_parse=function(a,b,d){d||(d=this.DataFormat);b=this.splitFormat(b,d);return this.checkItems(b)?this.makeDate(a,
b):null},MO.RDate_splitDate=function(a,b){if(b){var d=null;-1!=b.indexOf("-")||-1!=b.indexOf("/")?(-1!=b.indexOf("-")?d=b.split("-"):-1!=b.indexOf("/")&&(d=b.split("/")),1<=d.length&&(a.year=RInteger.parse(d[0])),2<=d.length&&(a.month=RInteger.parse(d[1])),3<=d.length&&(a.day=RInteger.parse(d[2]))):-1!=b.indexOf(":")?this.splitTime(a,b):14==b.length?(a.year=RInteger.parse(b.substr(0,4)),a.month=RInteger.parse(b.substr(4,2)),a.day=RInteger.parse(b.substr(6,2)),a.hour=RInteger.parse(b.substr(8,2)),
a.minute=RInteger.parse(b.substr(10,2)),a.second=RInteger.parse(b.substr(12,2))):8==b.length?(a.year=RInteger.parse(b.substr(0,4)),a.month=RInteger.parse(b.substr(4,2)),a.day=RInteger.parse(b.substr(6,2))):6==b.length?(a.year=RInteger.parse(b.substr(0,4)),a.month=RInteger.parse(b.substr(4,2))):4==b.length&&(a.year=RInteger.parse(b))}},MO.RDate_splitTime=function(a,b){if(b)if(-1!=b.indexOf(":")){var d=b.split(":");1<=d.length&&(a.hour=RInteger.parse(d[0]));2<=d.length&&(a.minute=RInteger.parse(d[1]));
3<=d.length&&(a.second=RInteger.parse(d[2]))}else 6==b.length?(a.hour=RInteger.parse(b.substr(0,2)),a.minute=RInteger.parse(b.substr(2,2)),a.second=RInteger.parse(b.substr(4,2))):4==b.length?(a.hour=RInteger.parse(b.substr(0,2)),a.minute=RInteger.parse(b.substr(2,2))):2==b.length&&(a.hour=RInteger.parse(b.substr(0,2)))},MO.RDate_autoParse=function(a,b){if(!b)return null;a=this.nvl(a);var d=[];d.year=2E3;d.month=1;d.day=1;d.hour=0;d.minute=0;d.second=0;b=RString.trim(b);if(-1==b.indexOf(" "))this.splitDate(d,
b);else{var f=b.split(" ");2==f.length&&(this.splitDate(d,f[0]),this.splitTime(d,f[1]))}return this.checkItems(d)?this.makeDate(a,d):null},MO.RDate_getFormat=function(a){var b="",d="";if(a){if(-1!=a.indexOf(":"))if(a=RString.split(a," "),1==a.length)a=RString.split(a[0],":"),1==a.length?(b+="HH24",d=1==a[0].length?d+("0"+a[0]):d+a[0]):2==a.length?(b+="HH24MI",1==a[0].length?d+="0"+a[0]:2==a[0].length&&(d+=a[0]),1==a[1].length?d+="0"+a[1]:2==a[1].length&&(d+=a[1])):3==a.length&&(b+="HH24MISS",1==a[0].length?
d+="0"+a[0]:2==a[0].length&&(d+=a[0]),1==a[1].length?d+="0"+a[1]:2==a[1].length&&(d+=a[1]),1==a[2].length?d+="0"+a[2]:2==a[2].length&&(d+=a[2]));else{if(2==a.length){var f=RString.split(a[0],"-");3==f.length?(b+="YYYYMMDD",4==f[0].length&&(d+=f[0]),1==f[1].length?d+="0"+f[1]:2==f[1].length&&(d+=f[1]),1==f[2].length?d+="0"+f[2]:2==f[2].length&&(d+=f[2])):2==f.length?(b+="YYYYMM",1==f[0].length&&(d+=f[0]),1==f[1].length?d+="0"+f[1]:2==f[1].length&&(d+=f[1])):1==f.length&&(b+="YYYY",4==f[0].length&&
(d+=f[0]));a=RString.split(a[1],":");1==a.length?(b+="HH24",d=1==a[0].length?d+("0"+a[0]):d+a[0]):2==a.length?(b+="HH24MI",1==a[0].length?d+="0"+a[0]:2==a[0].length&&(d+=a[0]),1==a[1].length?d+="0"+a[1]:2==a[1].length&&(d+=a[1])):3==a.length&&(b+=" HH24MISS",1==a[0].length?d+="0"+a[0]:2==a[0].length&&(d+=a[0]),1==a[1].length?d+="0"+a[1]:2==a[1].length&&(d+=a[1]),1==a[2].length?d+="0"+a[2]:2==a[2].length&&(d+=a[2]))}}else a=RString.split(a,"-"),3==a.length?(b+="YYYYMMDD",4==a[0].length&&(d+=a[0]),
1==a[1].length?d+="0"+a[1]:2==a[1].length&&(d+=a[1]),1==a[2].length?d+="0"+a[2]:2==a[2].length&&(d+=a[2])):2==a.length?(b="YYYYMM",4==a[0].length&&(d+=a[0]),1==a[1].length?d+="0"+a[1]:2==a[1].length&&(d+=a[1])):1==a.length&&(b+="YYYY",4==a[0].length&&(d+=a[0]));a=Array(2);a[0]=b;a[1]=d;return a}},MO.RDate=new RDate;
with(MO)MO.REnum=function(){this.contains=REnum_contains;this.tryEncode=REnum_tryEncode;this.encode=REnum_encode;this.tryDecode=REnum_tryDecode;this.decode=REnum_decode;this.parse=REnum_encode;this.format=REnum_decode;return this},MO.REnum_contains=function(){},MO.REnum_tryEncode=function(a,b,d){if(null!=a)for(var f in a)if(f.toLowerCase()==b.toLowerCase())return a[f];return d},MO.REnum_encode=function(a,b){var d=this.tryEncode(a,b);if(null==d)throw new TError(this,"Invalid value (enum={1}, value={2})",
RClass.dump(a),b);return d},MO.REnum_tryDecode=function(a,b,d){if(null!=a)for(var f in a)if(a[f]==b)return f;return d},MO.REnum_decode=function(a,b){var d=this.tryDecode(a,b);if(null==d)throw new TError(this,"Invalid value (enum={1}, value={2})",RClass.dump(a),b);return d},MO.REnum=new REnum;
with(MO)MO.RFile=function(){this.pictures=["jpg","png","gif","bmp"];this.knowns="jpg png gif bmp doc docx vsd xls xlsx".split(" ");this.inPicture=RFile_inPicture;this.isPicture=RFile_isPicture;this.isKnown=RFile_isKnown;this.name=RFile_name;this.extension=RFile_extension;return this},MO.RFile_inPicture=function(a){if(a){a=a.toLowerCase();for(var b in this.pictures)if(this.pictures[b]==a)return!0}},MO.RFile_isPicture=function(a){return this.inPicture(this.extension(a))},MO.RFile_isKnown=function(a){a=
this.extension(a).toLowerCase();for(var b in this.knowns)if(this.knowns[b]==a)return!0;return!1},MO.RFile_name=function(a){if(a){a=a.replace(/\\/g,"/");var b=a.lastIndexOf("/");-1!=b&&(a=a.substring(b+1));b=a.lastIndexOf(".");return-1!=b?a.substring(0,b):a}return""},MO.RFile_extension=function(a){if(a){a=a.replace(/\\/g,"/");var b=a.lastIndexOf("/");-1!=b&&(a=a.substring(b+1));b=a.lastIndexOf(".");return-1!=b?a.substring(b+1):a}return""},MO.RFile=new RFile;
with(MO)MO.RFloat=function(){this.NUMBER=this.Chars="0123456789-.%";this.LEFT_CHAR="0";this.isFloat=RFloat_isFloat;this.parse=RFloat_parse;this.format=RFloat_format;this.nvl=RFloat_nvl;this.toRange=RFloat_toRange;this.sum=RFloat_sum;this.calculate=RFloat_calculate;this.attach=RFloat_attach;this.fill=RFloat_fill;this.copy=RFloat_copy;return this},MO.RFloat_isFloat=function(a){return RString.isPattern(a,"n")},MO.RFloat_parse=function(a){if(null==a||""==a)return 0;a=RString.trim(a.toString());if(null==
a)return 0;for(;"0"==a.charAt(0);)a=a.substr(1);a=0<a.length?parseFloat(a):0;-1!=RString.findChars(a,"%")&&(a/=100);return isNaN(a)?0:a},MO.RFloat_format=function(a,b,d,f,g){null==b&&(b=0);null==d&&(d=this.LEFT_CHAR);null==f&&(f=6);null==g&&(g=this.LEFT_CHAR);var h=a.toString(),k=h.indexOf(".");-1==k?(a=h,h=""):(a=h.substring(0,k),h=h.substring(k+1,k+f+1));b=RString.lpad(a,b,d);f=RString.rpad(h,f,g);return b+"."+f},MO.RFloat_nvl=function(a,b){return a?a:b?b:0},MO.RFloat_toRange=function(a,b,d){null==
a&&(a=0);return Math.min(Math.max(a,b),d)},MO.RFloat_sum=function(){for(var a=arguments,b=0,d=a.length-1;0<=d;d--){var f=a[n];null!=f&&(b+=parseFloat(f))}return b},MO.RFloat_calculate=function(a,b,d){b=RFloat.nvl(b);d=RFloat.nvl(d);b=parseFloat(b);d=parseFloat(d);return a?(b+d).toString():(b-d).toString()},MO.RFloat_attach=function(a,b,d){for(var f=!1,g=0;g<d;g++)a[g]!=b[g]&&(a[g]=b[g],f=!0);return f},MO.RFloat_fill=function(a,b,d,f){for(var g=0;g<d;g++)a[b++]=f},MO.RFloat_copy=function(a,b,d,f,g){for(var h=
0;h<g;h++)a[b++]=d[f++]},MO.RFloat=new RFloat;with(MO)MO.RHex=function(){this.NUMBER="0x123456789ABCDEF";this.PAD="0";this.isValid=RHex_isValid;this.parse=RHex_parse;this.format=RHex_format;return this},MO.RHex_isValid=function(a){return RString.isPattern(a,this.NUMBER)},MO.RHex_parse=function(a){return a?parseInt("0x"+a):"0"},MO.RHex_format=function(a,b){var d=null,d=a?a.toString(16):"0";return b?RString.lpad(d,b,this.PAD):d},MO.RHex=new RHex;
with(MO)MO.RInstance=function(){this._pools=new TDictionary;this.pool=RInstance_pool;this.get=RInstance_get;this.alloc=RInstance_alloc;this.free=RInstance_free;return this},MO.RInstance_pool=function(a){a=RClass.name(a);var b=this._pools.get(a);null==b&&(b=new TInstancePool,this._pools.set(a,b));return b},MO.RInstance_get=function(a){return this.pool(a).instance(a)},MO.RInstance_alloc=function(a){return this.pool(p).alloc(p)},MO.RInstance_free=function(a){this.pool(p).free(p)},MO.RInstance=new RInstance;
with(MO)MO.RInteger=function(){this.NUMBER=this.Chars="0123456789-%";this.LEFT_CHAR="0";this.MAX_UINT16=65535;this.MAX_UINT32=4294967295;this.isInteger=this.isInt=RInteger_isInt;this.nvl=RInteger_nvl;this.strideByte=RInteger_strideByte;this.strideBit=RInteger_strideBit;this.parse=RInteger_parse;this.format=RInteger_format;this.toRange=RInteger_toRange;this.pow2=RInteger_pow2;this.sum=RInteger_sum;this.calculate=RInteger_calculate;this.copy=RInteger_copy;this.toString=RInteger_toString;return this},
MO.RInteger_isInt=function(a){return RString.isPattern(a,"n")},MO.RInteger_nvl=function(a,b){return a?a:b?b:0},MO.RInteger_strideByte=function(a){return 65535<a?4:255<a?2:1},MO.RInteger_strideBit=function(a){return 65535<a?32:255<a?16:8},MO.RInteger_parse=function(a,b){null==b&&(b=0);if(null==a||""==a)return b;for(a=RString.trim(a.toString());"0"==a.charAt(0);)a=a.substr(1);var d=0<a.length?parseInt(a):b;return isNaN(d)?b:d},MO.RInteger_format=function(a,b,d){d||(d=this.LEFT_CHAR);a=a.toString();
for(b=parseInt(b)-a.length-1;0<=b;b--)a=d+a;return a},MO.RInteger_toRange=function(a,b,d){null==a&&(a=0);isNaN(a)&&(a=0);a<b&&(a=b);a>d&&(a=d);return a},MO.RInteger_pow2=function(a){return 4096<a?8192:2048<a?4096:1024<a?2048:512<a?1024:256<a?512:128<a?256:64<a?128:32<a?64:16<a?32:8<a?16:4<a?8:2<a?4:1<a?2:1},MO.RInteger_sum=function(){for(var a=0,b=arguments,d=b.length,f=0;f<d;f++)null!=b[f]&&(a+=parseInt(b[f]));return a},MO.RInteger_calculate=function(a,b,d){b=RInteger.parse(b);d=RInteger.parse(d);
var f="";"+"==a?f=b+d:"-"==a?f=b-d:"x"==a?f=b*d:"/"==a&&(f=b/d);return f.toString()},MO.RInteger_copy=function(a,b,d,f,g){for(var h=0;h<g;h++)a[b++]=d[f++]},MO.RInteger_toString=function(a){return null==a?"0":a.toString()},MO.RInteger=new RInteger;with(MO)MO.RJson=function(){this.parse=RJson_parse;this.toString=RJson_toString;return this},MO.RJson_parse=function(a,b){var d=null;try{d=JSON.parse(a)}catch(f){b&&(d=new b)}return d},MO.RJson_toString=function(a){return JSON.stringify(a)},MO.RJson=new RJson;
with(MO)MO.RLogger=function(){this._statusError=!1;this._labelLength=40;this.lsnsOutput=new TListeners;this.output=RLogger_output;this.debug=RLogger_debug;this.info=RLogger_info;this.warn=RLogger_warn;this.error=RLogger_error;this.fatal=RLogger_fatal;this.show=RLogger_show;return this},MO.RLogger_output=function(a,b){this.lsnsOutput.process(a,b)},MO.RLogger_debug=function RLogger_debug(b,d,f){var g=RMethod.name(RLogger_debug.caller),g=g.replace("_","."),h=new TString;h.append(RDate.format("yymmdd-hh24miss.ms"));
h.append("|D ["+RString.rpad(g,this._labelLength)+"] ");for(var k=arguments,m=k.length,g=2;g<m;g++){var q=k[g],r="";null!=q&&(r="function"==typeof q?RMethod.name(q):q.toString());d=d.replace("{"+(g-1)+"}",r)}h.append(d);this.output(b,h.flush())},MO.RLogger_info=function RLogger_info(b,d,f){var g=RMethod.name(RLogger_info.caller),g=g.replace("_","."),h=new TString;h.append(RDate.format("yymmdd-hh24miss.ms"));h.append("|I ["+RString.rpad(g,this._labelLength)+"] ");for(var k=arguments,m=k.length,g=2;g<
m;g++){var q=k[g],r="";null!=q&&(r="function"==typeof q?RMethod.name(q):q.toString());d=d.replace("{"+(g-1)+"}",r)}h.append(d);this.output(b,h.flush())},MO.RLogger_warn=function RLogger_warn(b,d,f){var g=RMethod.name(RLogger_warn.caller),g=g.replace("_","."),h=new TString;h.append(RDate.format("yymmdd-hh24miss.ms"));h.append("|W ["+RString.rpad(g,this._labelLength)+"] ");for(var k=arguments,m=k.length,g=2;g<m;g++){var q=k[g],r="";null!=q&&(r="function"==typeof q?RMethod.name(q):q.toString());d=d.replace("{"+
(g-1)+"}",r)}h.append(d);this.output(b,h.flush())},MO.RLogger_error=function RLogger_error(b,d,f){var g=RMethod.name(RLogger_error.caller),g=g.replace("_","."),h=new TString;h.append(RDate.format("yymmdd-hh24miss.ms"));h.append("|E ["+RString.rpad(g,this._labelLength)+"] ");for(var k=arguments,m=k.length,g=2;g<m;g++){var q=k[g],r="";null!=q&&(r="function"==typeof q?RMethod.name(q):q.toString());d=d.replace("{"+(g-1)+"}",r)}h.append(d);this.output(b,h.flush())},MO.RLogger_fatal=function RLogger_fatal(b,
d,f,g){if(!this._statusError){this._statusError=!0;for(var h=new TString,k=[],m=RLogger_fatal.caller;m&&!RArray.contains(k,m);)k.push(m),m=m.caller;for(var q=k.length,r=0;r<q;r++)m=k[r],0<r&&h.appendLine(),h.append("   "+(q-r)+": "+RMethod.name(m));k=new TString;k.appendLine(RContext.get("RMessage:fatal"));k.appendLine(RString.repeat("-",60));k.append(RClass.dump(b),": ");if(f)for(m=arguments,q=m.length,r=3;r<q;r++){var u=m[r];"function"==typeof u&&(u=RMethod.name(u));f=f.replace("{"+(r-2)+"}",u)}k.appendLine(f);
k.appendLine(RString.repeat("-",60));k.appendLine("Stack:");k.append(h);throw Error(k.toString());}},MO.RLogger_show=function RLogger_show(b,d,f){var g=RMethod.name(RLogger_show.caller),g=g.replace("_","."),h=new TString;h.append(RDate.format("yymmdd-hh24miss.ms"));h.append("|I ["+RString.rpad(g,this._labelLength)+"] ");for(var k=arguments,m=k.length,g=2;g<m;g++){var q=k[g],r="";null!=q&&(r="function"==typeof q?RMethod.name(q):q.toString());d=d.replace("{"+(g-1)+"}",r)}h.append(d);alert(h.flush())},
MO.RLogger=new RLogger;
with(MO)MO.RMethod=function(){this._virtuals={};this.isFunction=RMethod_isFunction;this.isEmpty=RMethod_isEmpty;this.isVirtual=RMethod_isVirtual;this.name=RMethod_name;this.fullName=RMethod_fullName;this.empty=RMethod_empty;this.emptyTrue=RMethod_emptyTrue;this.emptyFalse=RMethod_emptyFalse;this.emptyCall=RMethod_emptyCall;this.virtual=RMethod_virtual;this.empty.__empty=!0;this.emptyTrue.__empty=!0;this.emptyFalse.__empty=!0;return this},MO.RMethod_isFunction=function(a){return"function"==typeof a},
MO.RMethod_isEmpty=function(a){return a&&a.__empty},MO.RMethod_isVirtual=function(a){return a&&a.__virtual},MO.RMethod_name=function(a){return a&&"function"==typeof a?a.__name?a.__name:a.__name=RString.mid(a.toString(),"function ","("):null},MO.RMethod_fullName=function(a){return a&&a.constructor==Function?a.__fullname?a.__fullname:a.__fullname=RString.mid(a.toString(),"function ",")")+")":null},MO.RMethod_empty=function(){},MO.RMethod_emptyTrue=function(){return!0},MO.RMethod_emptyFalse=function(){return!1},
MO.RMethod_emptyCall=function(){},MO.RMethod_virtual=function(a,b){var d=RClass.name(a)+"."+b;if(this._virtuals[d])return this._virtuals[d];var f=function(){throw Error("Virtual method be called.("+d+")");};f.__virtual=!0;f.__name=d;return this._virtuals[d]=f},MO.RMethod=new RMethod;
with(MO)MO.RObject=function(){this._hash=1;this.nextId=RObject_nextId;this.nvl=RObject_nvl;this.clone=RObject_clone;this.copy=RObject_copy;this.free=RObject_free;this.dispose=RObject_dispose;this.release=RObject_release;return this},MO.RObject_nextId=function(a){return this._hash++},MO.RObject_nvl=function(a){for(var b=arguments,d=b.length,f=0;f<d;f++)if(null!=b[f])return b[f];return null},MO.RObject_clone=function(a){var b=new a.constructor,d;for(d in a){var f=a[d];null!=f&&(RClass.isBaseType(f.constructor)||
(f=RObject.clone(f)));b[d]=f}return b},MO.RObject_copy=function(a,b){if(null!=a&&null!=b)for(var d in a){var f=a[d];null==f||RClass.isBaseType(f.constructor)||(null==b[d]&&(b[d]=new c),RObject.copy(f,b[d]));b[d]=f}},MO.RObject_free=function(a){if(a)if(RRuntime.isDebug())for(var b in a)if("__base"==b||"__inherits"==b||"__class"==b)a[b]=null;else{var d=a[b];if(null!=d){if(!RClass.isBaseType(d.constructor))throw new TError(RObject,"Free object is not base object.");a[b]=null}}else for(b in a)a[b]=null},
MO.RObject_dispose=function(a){a&&(a.__dispose||a.dispose());return null},MO.RObject_release=function(a){if(a)for(var b in p){var d=a[b];"Object"==typeof d&&RObject.release(d);a[b]=null}},MO.RObject=new RObject;
with(MO)MO.RRect=function(){this.nvl=RRect_nvl;this.pack=RRect_pack;this.unpack=RRect_unpack;return this},MO.RRect_nvl=function(a){return a?a:new TRect},MO.RRect_pack=function(a){var b=null;a&&(b=a.left+","+a.top+","+a.right+","+a.bottom);return b},MO.RRect_unpack=function(a,b){b=this.nvl(b);if(a){var d=a.split(",");4==d.length&&(b.left=RInt.parse(d[0]),b.top=RInt.parse(d[1]),b.right=RInt.parse(d[2]),b.bottom=RInt.parse(d[3]))}return b},MO.RRect=new RRect;
with(MO)MO.RRegExp=function(){this.test=RRegExp_test;this.testRgexp=RRegExp_testRgexp;return this},MO.RRegExp_test=function(a,b){return a&&null!=b?a.test(b):!1},MO.RRegExp_testRgexp=function(a,b){return a&&b?(new R,a.test(b)):!1},MO.RRegExp=new RRegExp;with(MO)MO.RSet=function(){this.contains=RSet_contains;this.containsString=RSet_containsString;return this},MO.RSet_contains=function(a,b){return(a&b)==b},MO.RSet_containsString=function(a,b){return null!=a&&null!=s?-1!=a.indexOf(s):!1},MO.RSet=new RSet;
with(MO)MO.RString=function(){this.EMPTY="";this.SPACE="   ";this.PAD=" ";this.TRIM=" \t\r\n";this.LOWER="abcdefghijklmnopqrstuvwxyz";this.UPPER="ABCDEFGHIJKLMNOPQRSTUVWXYZ";this.CodeLowerA=97;this.CodeLowerZ=122;this.CodeUpperA=65;this.CodeUpperZ=90;this.isEmpty=RString_isEmpty;this.isBlank=RString_isBlank;this.isAnsi=RString_isAnsi;this.isDbcs=RString_isDbcs;this.isPattern=RString_isPattern;this.inChars=RString_inChars;this.contains=RString_contains;this.equals=RString_equals;this.startsWith=RString_startsWith;
this.endsWith=RString_endsWith;this.findChars=RString_findChars;this.inRange=RString_inRange;this.nvl=RString_nvl;this.nvlString=RString_nvlString;this.empty=RString_empty;this.firstUpper=RString_firstUpper;this.firstLower=RString_firstLower;this.firstLine=RString_firstLine;this.format=RString_format;this.formatLines=RString_formatLines;this.repeat=RString_repeat;this.pad=RString_pad;this.lpad=RString_lpad;this.rpad=RString_rpad;this.trim=RString_trim;this.ltrim=RString_ltrim;this.rtrim=RString_rtrim;
this.mid=RString_mid;this.toLine=RString_toLine;this.toUnderline=RString_toUnderline;this.toLower=RString_toLower;this.toUpper=RString_toUpper;this.split=RString_split;this.splitTwo=RString_splitTwo;this.splitParts=RString_splitParts;this.splitPattern=RString_splitPattern;this.replace=RString_replace;this.replaceChar=RString_replaceChar;this.remove=RString_remove;this.removeChars=RString_removeChars;return this},MO.RString_isEmpty=function(a){return null!=a?0==a.length:!0},MO.RString_isBlank=function(a){return null!=
a?0==a.trim().length:!0},MO.RString_isAnsi=function(a){if(null!=a){for(var b=a.length,d=0;d<b;d++)if(255<a.charCodeAt(d))return!1;return!0}return!1},MO.RString_isDbcs=function(a){if(null==a){a=a.length;for(var b=0;b<a;b++)if(256>value.charCodeAt(b))return!1;return!0}return!1},MO.RString_isPattern=function(a,b){if(null!=a){null==b&&(b="$a$A$f");b=b.replace(/\a/g,this.LOWER);b=b.replace(/\A/g,this.UPPER);b=b.replace(/\f/g,RFloat.NUMBER);b=b.replace(/\n/g,RInteger.NUMBER);for(var d=a.length,f=0;f<d;f++)if(-1==
b.indexOf(a.charAt(f)))return!1;return!0}return!1},MO.RString_inChars=function(a,b){return-1!=this.findChars(b,a)?!0:!1},MO.RString_contains=function(a,b){return null!=a&&null!=b?-1!=a.toString().indexOf(b):!1},MO.RString_equals=function(a,b,d){null==a?a="":a.constructor!=String&&(a=a.toString());null==b?b="":b.constructor!=String&&(b=b.toString());return d?a==b:a.toLowerCase()==b.toLowerCase()},MO.RString_startsWith=function(a,b){return null==b?!0:null!=a?0==a.indexOf(b):!1},MO.RString_endsWith=
function(a,b){if(null==b)return!0;var d=null!=a?a.indexOf(b):-1;return-1!=d?d==a.length-b.length:!1},MO.RString_findChars=function(a,b){if(null!=a&&null!=b)for(var d=a.length,f=0;f<d;f++)if(-1!=b.indexOf(a.charAt(f)))return f;return-1},MO.RString_inRange=function(a,b,d){if(a&&b){d||(a=a.toLowerCase());for(var f=b.length,g=0;g<f;g++){var h=b[g];if(null!=h)if(d){if(a==h)return!0}else if(a==h.toLowerCase())return!0}}return!1},MO.RString_nvl=function(a,b){if(null!=a){var d=null,d=a.constructor!=String?
a.toString():a;if(0<d.length)return d}return null!=b?b:this.EMPTY},MO.RString_nvlString=function(a){null==a&&(a=new TString);return a},MO.RString_empty=function(a){if(null!=a){var b=null,b=a.constructor!=String?a.toString():a;if(0<b.length)return b}return null},MO.RString_firstUpper=function(a){return null!=a?a.charAt(0).toUpperCase()+a.substr(1):a},MO.RString_firstLower=function(){return null!=v?v.charAt(0).toLowerCase()+v.substr(1):v},MO.RString_firstLine=function(a){if(a){var b=Math.min(a.indexOf("\r"),
a.indexOf("\n"));return-1!=b?a.substr(0,b):a}return""},MO.RString_format=function(a,b){for(var d=arguments,f=d.length,g=1;g<f;g++)b=d[g],"function"==typeof b?b=RMethod.name(b):null==b&&(b=""),a=a.replace("{"+(g-1)+"}",b);return a},MO.RString_formatLines=function(a){a=a.replace(/\\r/g,"");a=a.split("\n");for(var b=a.length,d=new TString,f=0;f<b;f++){var g=a[f],g=this.trim(g);this.isEmpty(g)||this.startsWith(g,"//")||d.appendLine(g)}return d.toString()},MO.RString_repeat=function(a,b){return Array(b+
1).join(a)},MO.RString_pad=function(a,b,d){a=null!=a?a.toString():this.EMPTY;b-=a.length;if(0<b){null==d&&(d=this.PAD);var f=0==b%2?b/2:(b-1)/2;return Array(f+1).join(d)+a+Array(b-f+1).join(d)}return a},MO.RString_lpad=function(a,b,d){a=null!=a?a.toString():this.EMPTY;b-=a.length;return 0<b?(null==d&&(d=this.PAD),b=Array(b),b[b.length]=a,b.join(d)):a},MO.RString_rpad=function(a,b,d){a=null!=a?a.toString():this.EMPTY;b-=a.length;return 0<b?(null==d&&(d=this.PAD),a+Array(b+1).join(d)):a},MO.RString_trim=
function(a,b){a=this.nvl(a);b=this.nvl(b,this.TRIM);for(var d=0,f=a.length-1;d<f&&-1!=b.indexOf(a.charAt(d));d++);for(;f>=d&&-1!=b.indexOf(a.charAt(f));f--);return d==f+1?null:0!=d||f!=a.length-1?a.substring(d,f+1):a},MO.RString_ltrim=function(a,b){a=this.nvl(value);b=this.nvl(trims,this.TRIM);for(var d=0,f=a.length-1;d<f&&-1!=b.indexOf(a.charAt(d));d++);return 0!=d?a.substring(d,f+1):a},MO.RString_rtrim=function(a,b){a=this.nvl(a);b=this.nvl(b,this.TRIM);for(var d=a.length-1;0<=d&&-1!=b.indexOf(a.charAt(d));d--);
return d!=a.length-1?a.substring(0,d+1):a},MO.RString_mid=function(a,b,d){if(null==a)return a;var f=0;if(null!=b){var g=a.indexOf(b);-1!=g&&(f=g+b.length)}b=a.length;null!=d&&(g=a.indexOf(d,f),-1!=g&&(b=g));return a.substring(f,b)},MO.RString_toLine=function(a){return a.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")},MO.RString_toUnderline=function(a){var b=null;if(a){for(var b=new TString,d=a.length,f=0;f<d;f++){var g=a.charAt(f);g.toUpperCase()==g?(0<f&&b.append("_"),b.append(g.toLowerCase())):
b.append(g)}b=b.toString()}return b},MO.RString_toLower=function(a){return null!=a?a.toLowerCase():this.EMPTY},MO.RString_toUpper=function(a){return null!=a?a.toUpperCase():this.EMPTY},MO.RString_split=function(a,b){return a&&b?a.split(b):null},MO.RString_splitTwo=function(a,b){if(a&&b){var d=[],f=a.indexOf(b);-1==f?d.push(a):(d.push(a.substring(0,f)),d.push(a.substring(f+b.length)));return d}return null},MO.RString_splitParts=function(a,b){for(var d=[],f=0,g=a.length,h=0;h<g;h++)for(var k in b)if(this.startsWith(b[k],
a.charAt(h))&&this.equals(a.substr(h,b[k].length),b[k])){d[f++]=b[k];h=h+b[k].length-1;break}return d},MO.RString_splitPattern=function(a,b){var d=[];if(a)for(var f=a.length,g=b.length,h="",k=0;k<f;k++){for(var m=!1,q=0;q<g;q++){var r=b[q];if(-1==a.indexOf(r)){h.length&&(d[d.length]=h,h="");d[d.length]=r;a=a.substring(r.length);m=!0;break}}m||(h+=a.charAt(0),a=a.substring(1))}return d},MO.RString_replace=function(a,b,d){return a.replace(new RegExp(b,"g"),d)},MO.RString_replaceChar=function(a,b,d){if(null!=
a){for(var f=a.length,g=[],h=0;h<f;h++){var k=a.charAt(h);g[g.length]=k==b?d:k}return g.join("")}return a},MO.RString_remove=function(a,b){return a.replace(b,"")},MO.RString_removeChars=function(a,b){if(null!=a){for(var d=a.length,f=[],g=0;g<d;g++){var h=a.charAt(g);-1==b.indexOf(h)&&(f[f.length]=h)}return f.join("")}return a},MO.RString=new RString;
with(MO)MO.RTimer=function(){this._count=this._lastTime=this._startTime=0;this.setup=RTimer_setup;this.now=RTimer_now;this.current=RTimer_current;this.rate=RTimer_rate;this.update=RTimer_update;return this},MO.RTimer_setup=function(){var a=(new Date).getTime();this._lastTime=this._startTime=a},MO.RTimer_now=function(){return(new Date).getTime()},MO.RTimer_current=function(){return this._lastTime},MO.RTimer_rate=function(){return 0==this._count?0:parseInt(1E3*this._count/(this._lastTime-this._startTime))},
MO.RTimer_update=function(){this._count++;this._lastTime=(new Date).getTime()},MO.RTimer=new RTimer;MO.EFrustumPlane=new function(){this.Near=0;this.Far=1;this.Left=2;this.Right=3;this.Top=4;this.Bottom=5;this.Count=6;return this};
with(MO)MO.SColor4=function(a,b,d,f){this.red=a?a:0;this.green=b?b:0;this.blue=d?d:0;this.alpha=f?f:1;this.assign=SColor4_assign;this.assignPower=SColor4_assignPower;this.set=SColor4_set;this.serialize=SColor4_serialize;this.unserialize=SColor4_unserialize;this.unserialize3=SColor4_unserialize3;this.saveConfig=SColor4_saveConfig;this.savePower=SColor4_savePower;this.copyArray=SColor4_copyArray;this.toString=SColor4_toString;return this},MO.SColor4_assign=function(a){this.red=a.red;this.green=a.green;
this.blue=a.blue;this.alpha=a.alpha},MO.SColor4_assignPower=function(a){this.red=a.red*a.alpha;this.green=a.green*a.alpha;this.blue=a.blue*a.alpha;this.alpha=a.alpha},MO.SColor4_set=function(a,b,d,f){this.red=a;this.green=b;this.blue=d;this.alpha=f},MO.SColor4_serialize=function(a){a.writeFloat(this.red);a.writeFloat(this.green);a.writeFloat(this.blue);a.writeFloat(this.alpha)},MO.SColor4_unserialize=function(a){this.red=a.readFloat();this.green=a.readFloat();this.blue=a.readFloat();this.alpha=a.readFloat()},
MO.SColor4_unserialize3=function(a){this.red=a.readFloat();this.green=a.readFloat();this.blue=a.readFloat();this.alpha=1},MO.SColor4_saveConfig=function(a){a.setFloat("r",this.red);a.setFloat("g",this.green);a.setFloat("b",this.blue);a.setFloat("a",this.alpha)},MO.SColor4_savePower=function(a){a.setFloat("r",this.red);a.setFloat("g",this.green);a.setFloat("b",this.blue);a.setFloat("power",this.alpha)},MO.SColor4_copyArray=function(a,b){a[b++]=this.red;a[b++]=this.green;a[b++]=this.blue;a[b++]=this.alpha;
return 4},MO.SColor4_toString=function(){return RFloat.format(this.red)+","+RFloat.format(this.green)+","+RFloat.format(this.blue)+","+RFloat.format(this.alpha)};
with(MO)MO.SCorners=function(){this.blue=this.green=this.red=0;this.alpha=1;this.assign=SCorners_assign;this.assignPower=SCorners_assignPower;this.set=SCorners_set;this.serialize=SCorners_serialize;this.unserialize=SCorners_unserialize;this.unserialize3=SCorners_unserialize3;this.saveConfig=SCorners_saveConfig;this.savePower=SCorners_savePower;this.copyArray=SCorners_copyArray;this.toString=SCorners_toString;return this},MO.SCorners_assign=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue;
this.alpha=a.alpha},MO.SCorners_assignPower=function(a){this.red=a.red*a.alpha;this.green=a.green*a.alpha;this.blue=a.blue*a.alpha;this.alpha=a.alpha},MO.SCorners_set=function(a,b,d,f){this.red=a;this.green=b;this.blue=d;this.alpha=f},MO.SCorners_serialize=function(a){a.writeFloat(this.red);a.writeFloat(this.green);a.writeFloat(this.blue);a.writeFloat(this.alpha)},MO.SCorners_unserialize=function(a){this.red=a.readFloat();this.green=a.readFloat();this.blue=a.readFloat();this.alpha=a.readFloat()},
MO.SCorners_unserialize3=function(a){this.red=a.readFloat();this.green=a.readFloat();this.blue=a.readFloat();this.alpha=1},MO.SCorners_saveConfig=function(a){a.setFloat("r",this.red);a.setFloat("g",this.green);a.setFloat("b",this.blue);a.setFloat("a",this.alpha)},MO.SCorners_savePower=function(a){a.setFloat("r",this.red);a.setFloat("g",this.green);a.setFloat("b",this.blue);a.setFloat("power",this.alpha)},MO.SCorners_copyArray=function(a,b){a[b++]=this.red;a[b++]=this.green;a[b++]=this.blue;a[b++]=
this.alpha;return 4},MO.SCorners_toString=function(){return RFloat.format(this.red)+","+RFloat.format(this.green)+","+RFloat.format(this.blue)+","+RFloat.format(this.alpha)};
with(MO)MO.SFrustum=function(){this.center=new SPoint3;this.maxZ=this.minZ=this.maxY=this.minY=this.maxX=this.minX=this.radius=null;this.points=Array(24);this.coners=Array(24);this.updateCenter=SFrustum_updateCenter;this.update=SFrustum_update;this.updateFlat=SFrustum_updateFlat;return this},MO.SFrustum_updateCenter=function(){var a=this.coners;this.minX=this.minY=this.minZ=Number.MAX_VALUE;this.maxX=this.maxY=this.maxZ=-Number.MAX_VALUE;for(var b=0;24>b;){var d=a[b++];d<this.minX&&(this.minX=d);
d>this.maxX&&(this.maxX=d);d=a[b++];d<this.minY&&(this.minY=d);d>this.maxY&&(this.maxY=d);d=a[b++];d<this.minZ&&(this.minZ=d);d>this.maxZ&&(this.maxZ=d)}this.center.x=.5*(this.minX+this.maxX);this.center.y=.5*(this.minY+this.maxY);this.center.z=.5*(this.minZ+this.maxZ);a=this.maxX-this.minX;b=this.maxY-this.minY;d=this.maxZ-this.minZ;this.radius=.5*Math.sqrt(a*a+b*b+d*d)},MO.SFrustum_update=function(a,b,d,f,g,h,k,m){d=b/d;h=Math.tan(RConst.DEGREE_RATE*a*.5);a=f*h;b=a*d;h*=g;k=h*d;d=this.points;d[0]=
-b;d[1]=a;d[2]=f;d[3]=b;d[4]=a;d[5]=f;d[6]=b;d[7]=-a;d[8]=f;d[9]=-b;d[10]=-a;d[11]=f;d[12]=-k;d[13]=h;d[14]=g;d[15]=k;d[16]=h;d[17]=g;d[18]=k;d[19]=-h;d[20]=g;d[21]=-k;d[22]=-h;d[23]=g;f=RMath.matrix;f.assign(m);f.invert();f.transform(this.coners,d,8);this.updateCenter()},MO.SFrustum_updateFlat=function(a,b,d,f,g,h,k,m){b/=d;f*=k;g*=h;k=Math.tan(RConst.DEGREE_RATE*a*.5);a=f*k;h=a*b;k*=g;d=k*b;b=this.points;b[0]=-h;b[1]=a;b[2]=f;b[3]=h;b[4]=a;b[5]=f;b[6]=h;b[7]=-a;b[8]=f;b[9]=-h;b[10]=-a;b[11]=f;b[12]=
-d;b[13]=k;b[14]=g;b[15]=d;b[16]=k;b[17]=g;b[18]=d;b[19]=-k;b[20]=g;b[21]=-d;b[22]=-k;b[23]=g;f=RMath.matrix;f.assign(m);f.invert();f.transform(this.coners,0,b,0,8);this.coners[1]=0;this.coners[4]=0;this.coners[7]=0;this.coners[10]=0;this.coners[13]=0;this.coners[16]=0;this.coners[19]=0;this.coners[22]=0;this.updateCenter()};
with(MO)MO.SFrustumPlanes=function(){this.planes=[];this.containsPoint=SFrustumPlanes_containsPoint;this.containsCube=SFrustumPlanes_containsCube;this.containsRectangle=SFrustumPlanes_containsRectangle;this.containsCorners=SFrustumPlanes_containsCorners;this.containsSphere=SFrustumPlanes_containsSphere;this.updateVision=SFrustumPlanes_updateVision;for(var a=0;a<EFrustumPlane.Count;a++)this.planes.push(new SPlane);return this},MO.SFrustumPlanes_containsPoint=function(a,b,d){for(var f=this.planes,g=
0;g<EFrustumPlane.Count;g++)if(0>f[n].dot(a,b,d))return!1;return!0},MO.SFrustumPlanes_containsCube=function(a,b,d,f){f=this.planes;for(var g=0;g<EFrustumPlane.Count;g++){var h=f[n];if(!(0<=h.dot(a-l,b-l,d-l)||0<=h.dot(a+l,b-l,d-l)||0<=h.dot(a-l,b+l,d-l)||0<=h.dot(a+l,b+l,d-l)||0<=h.dot(a-l,b-l,d+l)||0<=h.dot(a+l,b-l,d+l)||0<=h.dot(a-l,b+l,d+l)||0<=h.dot(a+l,b+l,d+l)))return!1}return!0},MO.SFrustumPlanes_containsRectangle=function(a,b,d,f,g,h){for(var k=this.planes,m=0;m<EFrustumPlane.Count;m++){var q=
k[n];if(!(0<=q.dot(a-f,b-g,d-h)||0<=q.dot(a+f,b-g,d-h)||0<=q.dot(a-f,b+g,d-h)||0<=q.dot(a+f,b+g,d-h)||0<=q.dot(a-f,b-g,d+h)||0<=q.dot(a+f,b-g,d+h)||0<=q.dot(a-f,b+g,d+h)||0<=q.dot(a+f,b+g,d+h)))return!1}return!0},MO.SFrustumPlanes_containsCorners=function(a){for(var b=this.planes,d=EFrustumPlane.Count-1;0<=d;d--){var f=b[d];if(!(0<=f.dot(a[0],a[1],a[2])||0<=f.dot(a[3],a[4],a[5])||0<=f.dot(a[6],a[7],a[8])||0<=f.dot(a[9],a[10],a[11])||0<=f.dot(a[12],a[13],a[14])||0<=f.dot(a[15],a[16],a[17])||0<=f.dot(a[18],
a[19],a[20])||0<=f.dot(a[21],a[22],a[23])))return!1}return!0},MO.SFrustumPlanes_containsSphere=function(a,b,d,f){for(var g=this.planes,h=0;h<EFrustumPlane.Count;h++)if(g[n].dot(a,b,d)<-f)return!1;return!0},MO.SFrustumPlanes_updateVision=function(a){var b=this.planes,d=b[EFrustumPlane.Near];d.a=a[3]+a[2];d.b=a[7]+a[6];d.c=a[11]+a[10];d.d=a[15]+a[14];d.normalize();d=b[EFrustumPlane.Far];d.a=a[3]-a[2];d.b=a[7]-a[6];d.c=a[11]-a[10];d.d=a[15]-a[14];d.normalize();d=b[EFrustumPlane.Left];d.a=a[3]-a[0];d.b=
a[7]-a[4];d.c=a[11]-a[8];d.d=a[15]-a[12];d.normalize();d=b[EFrustumPlane.Right];d.a=a[3]+a[0];d.b=a[7]+a[4];d.c=a[11]+a[8];d.d=a[15]+a[12];d.normalize();d=b[EFrustumPlane.Top];d.a=a[3]-a[1];d.b=a[7]-a[5];d.c=a[11]-a[9];d.d=a[15]-a[13];d.normalize();b=b[EFrustumPlane.Bottom];b.a=a[3]+a[1];b.b=a[7]+a[5];b.c=a[11]+a[9];b.d=a[15]+a[13];b.normalize()};
with(MO)MO.SMatrix3d=function(){SMatrix4x4.call(this);this._dirty=!1;this.rz=this.ry=this.rx=this.tz=this.ty=this.tx=0;this.sz=this.sy=this.sx=1;this.isIdentity=SMatrix3d_isIdentity;this.identity=SMatrix3d_identity;this.setTranslate=SMatrix3d_setTranslate;this.setRotation=SMatrix3d_setRotation;this.setScale=SMatrix3d_setScale;this.setScaleAll=SMatrix3d_setScaleAll;this.set=SMatrix3d_set;this.setAll=SMatrix3d_setAll;this.equals=SMatrix3d_equals;this.assign=SMatrix3d_assign;this.attach=SMatrix3d_attach;
this.append=SMatrix3d_append;this.updateForce=SMatrix3d_updateForce;this.update=SMatrix3d_update;this.merge=SMatrix3d_merge;this.serialize=SMatrix3d_serialize;this.unserialize=SMatrix3d_unserialize;this.saveConfig=SMatrix3d_saveConfig;this.identity();return this},MO.SMatrix3d_isIdentity=function(){return 0!=this.tx||0!=this.ty||0!=this.tz||0!=this.rx||0!=this.ry||0!=this.rz||1!=this.sx||1!=this.sy||1!=this.sz?!1:this.isIdentityData()},MO.SMatrix3d_identity=function(){this.rx=this.ry=this.rz=this.tx=
this.ty=this.tz=0;this.sx=this.sy=this.sz=1;return this.identityData()},MO.SMatrix3d_setTranslate=function(a,b,d){this.tx=a;this.ty=b;this.tz=d;this._dirty=!0},MO.SMatrix3d_setRotation=function(a,b,d){this.rx=a;this.ry=b;this.rz=d;this._dirty=!0},MO.SMatrix3d_setScale=function(a,b,d){this.sx=a;this.sy=b;this.sz=d;this._dirty=!0},MO.SMatrix3d_setScaleAll=function(a){this.sz=this.sy=this.sx=a;this._dirty=!0},MO.SMatrix3d_set=function(a,b,d){this.tx=a.x;this.ty=a.y;this.tz=a.z;this.rx=b.x;this.ry=b.y;
this.rz=b.z;this.sx=d.x;this.sy=d.y;this.sz=d.z;this._dirty=!0},MO.SMatrix3d_setAll=function(a,b,d,f,g,h,k,m,q){this.tx=a;this.ty=b;this.tz=d;this.rx=f;this.ry=g;this.rz=h;this.sx=k;this.sy=m;this.sz=q;this._dirty=!0},MO.SMatrix3d_equals=function(a){return this.equalsData(a._data)},MO.SMatrix3d_assign=function(a){this.tx=a.tx;this.ty=a.ty;this.tz=a.tz;this.rx=a.rx;this.ry=a.ry;this.rz=a.rz;this.sx=a.sx;this.sy=a.sy;this.sz=a.sz;this.assignData(a._data)},MO.SMatrix3d_attach=function(a){this.tx=a.tx;
this.ty=a.ty;this.tz=a.tz;this.rx=a.rx;this.ry=a.ry;this.rz=a.rz;this.sx=a.sx;this.sy=a.sy;this.sz=a.sz;return this.attachData(a._data)},MO.SMatrix3d_append=function(a){this.appendData(a._data)},MO.SMatrix3d_updateForce=function(){var a=this._data,b=Math.sin(this.rx),d=Math.cos(this.rx),f=Math.sin(this.ry),g=Math.cos(this.ry),h=Math.sin(this.rz),k=Math.cos(this.rz);a[0]=g*k*this.sx;a[1]=g*h*this.sx;a[2]=-f*this.sx;a[3]=0;a[4]=(b*f*k-d*h)*this.sy;a[5]=(b*f*h+d*k)*this.sy;a[6]=b*g*this.sy;a[7]=0;a[8]=
(d*f*k+b*h)*this.sz;a[9]=(d*f*h-b*k)*this.sz;a[10]=d*g*this.sz;a[11]=0;a[12]=this.tx;a[13]=this.ty;a[14]=this.tz;a[15]=1},MO.SMatrix3d_update=function(){this._dirty&&(this.updateForce(),this._dirty=!1)},MO.SMatrix3d_merge=function(a,b){this.tx=a.tx+b.tx;this.ty=a.ty+b.ty;this.tz=a.tz+b.tz;this.rx=a.rx+b.rx;this.ry=a.ry+b.ry;this.rz=a.rz+b.rz;this.sx=a.sx*b.sx;this.sy=a.sy*b.sy;this.sz=a.sz*b.sz;this.updateForce()},MO.SMatrix3d_serialize=function(a){a.writeFloat(this.tx);a.writeFloat(this.ty);a.writeFloat(this.tz);
a.writeFloat(this.rx);a.writeFloat(this.ry);a.writeFloat(this.rz);a.writeFloat(this.sx);a.writeFloat(this.sy);a.writeFloat(this.sz)},MO.SMatrix3d_unserialize=function(a){this.tx=a.readFloat();this.ty=a.readFloat();this.tz=a.readFloat();this.rx=a.readFloat();this.ry=a.readFloat();this.rz=a.readFloat();this.sx=a.readFloat();this.sy=a.readFloat();this.sz=a.readFloat();this.updateForce()},MO.SMatrix3d_saveConfig=function(a){a.set("tx",RFloat.format(this.tx));a.set("ty",RFloat.format(this.ty));a.set("tz",
RFloat.format(this.tz));a.set("rx",RFloat.format(this.rx));a.set("ry",RFloat.format(this.ry));a.set("rz",RFloat.format(this.rz));a.set("sx",RFloat.format(this.sx));a.set("sy",RFloat.format(this.sy));a.set("sz",RFloat.format(this.sz))};
with(MO)MO.SMatrix3x3=function(){this._data=Array(9);this.data=SMatrix3x3_data;this.equalsData=SMatrix3x3_equalsData;this.assignData=SMatrix3x3_assignData;this.appendData=SMatrix3x3_appendData;this.rotationX=SMatrix3x3_rotationX;this.rotationY=SMatrix3x3_rotationY;this.rotationZ=SMatrix3x3_rotationZ;this.rotation=SMatrix3x3_rotation;this.invert=SMatrix3x3_invert;this.transform=SMatrix3x3_transform;this.transformPoint3=SMatrix3x3_transformPoint3;this.build=SMatrix3x3_build;this.writeData=SMatrix3x3_writeData;
this.toString=SMatrix3x3_toString;return this},MO.SMatrix3x3_data=function(){return this._data},MO.SMatrix3x3_equalsData=function(a){for(var b=this._data,d=0;9>d;d++)if(b[d]!=a[d])return!1;return!0},MO.SMatrix3x3_assignData=function(a){for(var b=this._data,d=0;9>d;d++)b[d]=a[d]},MO.SMatrix3x3_appendData=function(a){var b=this._data,d=b[0]*a[1]+b[1]*a[4]+b[2]*a[7],f=b[0]*a[2]+b[1]*a[5]+b[2]*a[8],g=b[3]*a[0]+b[4]*a[3]+b[5]*a[6],h=b[3]*a[1]+b[4]*a[4]+b[5]*a[7],k=b[3]*a[2]+b[4]*a[5]+b[5]*a[8],m=b[6]*
a[0]+b[7]*a[3]+b[8]*a[6],q=b[6]*a[1]+b[7]*a[4]+b[8]*a[7],r=b[6]*a[2]+b[7]*a[5]+b[8]*a[8];b[0]=b[0]*a[0]+b[1]*a[3]+b[2]*a[6];b[1]=d;b[2]=f;b[3]=g;b[4]=h;b[5]=k;b[6]=m;b[7]=q;b[8]=r},MO.SMatrix3x3_rotationX=function(a){var b=Math.sin(a);a=Math.cos(a);var d=RMath.value9;d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=a;d[5]=b;d[6]=0;d[7]=-b;d[8]=a;this.appendData(d)},MO.SMatrix3x3_rotationY=function(a){var b=Math.sin(a);a=Math.cos(a);var d=RMath.value9;d[0]=a;d[1]=0;d[2]=b;d[3]=0;d[4]=1;d[5]=0;d[6]=-b;d[7]=0;d[8]=
a;this.appendData(d)},MO.SMatrix3x3_rotationZ=function(a){var b=Math.sin(a);a=Math.cos(a);var d=RMath.value9;d[0]=a;d[1]=b;d[2]=0;d[3]=-b;d[4]=a;d[5]=1;d[6]=0;d[7]=0;d[8]=1;this.appendData(d)},MO.SMatrix3x3_rotation=function(a,b,d){var f=Math.sin(a);a=Math.cos(a);var g=Math.sin(b);b=Math.cos(b);var h=Math.sin(d);d=Math.cos(d);var k=RMath.value9;k[0]=b*d;k[1]=b*h;k[2]=-g;k[3]=f*g*d-a*h;k[4]=f*g*h+a*d;k[5]=f*b;k[6]=a*g*d+f*h;k[7]=a*g*h-f*a;k[8]=a*b;this.appendData(k)},MO.SMatrix3x3_invert=function(){var a=
this._data,b=RValue.value9;b[0]=a[4]*a[8]-a[5]*a[7];b[1]=a[2]*a[7]-a[1]*a[8];b[2]=a[1]*a[5]-a[2]*a[4];b[3]=a[5]*a[6]-a[3]*a[8];b[4]=a[0]*a[8]-a[2]*a[6];b[5]=a[2]*a[3]-a[0]*a[5];b[6]=a[3]*a[7]-a[4]*a[6];b[7]=a[1]*a[6]-a[0]*a[7];b[8]=a[0]*a[4]-a[1]*a[3];var d=a[0]*b[0]+a[1]*b[3]+a[2]*b[6];if(0==d)return!1;for(var d=1/d,f=0;9>f;f++)a[f]=b[f]*d;return!0},MO.SMatrix3x3_transform=function(a,b,d){for(var f=this._data,g=0;g<d;g++){var h=(g<<1)+g;a[h]=b[h]*f[0]+b[h+1]*f[3]+b[h+2]*f[6];a[h+1]=b[h]*f[1]+b[h+
1]*f[4]+b[h+2]*f[7];a[h+2]=b[h]*f[2]+b[h+1]*f[5]+b[h+2]*f[8]}},MO.SMatrix3x3_transformPoint3=function(a,b){var d=this._data,f=a.x*d[0]+a.y*d[3]+a.z*d[6],g=a.x*d[1]+a.y*d[4]+a.z*d[7],d=a.x*d[2]+a.y*d[5]+a.z*d[8],h=null,h=b?b:new SPoint3;h.set(f,g,d);return h},MO.SMatrix3x3_build=function(a){var b=this._data,d=a.x*a.x,f=a.y*a.y,g=a.z*a.z,h=a.x*a.y,k=a.x*a.z,m=a.y*a.z,q=a.w*a.x,r=a.w*a.y;a=a.w*a.z;b[0]=1-2*(f+g);b[1]=2*(h-a);b[2]=2*(k+r);b[3]=2*(h+a);b[4]=1-2*(d+g);b[5]=2*(m-q);b[6]=2*(k-r);b[7]=2*(m+
q);b[8]=1-2*(d+f)},MO.SMatrix3x3_writeData=function(a,b){var d=this._data;a[b++]=d[0];a[b++]=d[3];a[b++]=d[6];a[b++]=d[1];a[b++]=d[4];a[b++]=d[7];a[b++]=d[2];a[b++]=d[5];a[b++]=d[8]},MO.SMatrix3x3_toString=function(){for(var a=this._data,b=new TString,d=0;3>d;d++){0<d&&b.append("|");for(var f=0;3>f;f++){var g=a[3*d+f];0<f&&b.append(",");b.append(RFloat.format(g,0,null,3,null))}}return b.flush()};
with(MO)MO.SMatrix4x4=function(){this._data=Array(16);this.data=SMatrix4x4_data;this.isIdentityData=SMatrix4x4_isIdentityData;this.identityData=SMatrix4x4_identityData;this.equalsData=SMatrix4x4_equalsData;this.assignData=SMatrix4x4_assignData;this.attachData=SMatrix4x4_attachData;this.appendData=SMatrix4x4_appendData;this.addTranslate=SMatrix4x4_addTranslate;this.addRotationX=SMatrix4x4_addRotationX;this.addRotationY=SMatrix4x4_addRotationY;this.addRotationZ=SMatrix4x4_addRotationZ;this.addRotation=
SMatrix4x4_addRotation;this.addScale=SMatrix4x4_addScale;this.invert=SMatrix4x4_invert;this.transform=SMatrix4x4_transform;this.transformPoint3=SMatrix4x4_transformPoint3;this.buildQuaternion=SMatrix4x4_buildQuaternion;this.build=SMatrix4x4_build;this.writeData=SMatrix4x4_writeData;this.writeData4x3=SMatrix4x4_writeData4x3;this.toString=SMatrix4x4_toString;return this},MO.SMatrix4x4_data=function(){return this._data},MO.SMatrix4x4_isIdentityData=function(){for(var a=this._data,b=RConst.identity4x4,
d=0;16>d;d++)if(a[d]!=b[d])return!1;return!0},MO.SMatrix4x4_identityData=function(){for(var a=this._data,b=RConst.identity4x4,d=0;16>d;d++)a[d]=b[d];return this},MO.SMatrix4x4_equalsData=function(a){for(var b=this._data,d=0;16>d;d++)if(b[d]!=a[d])return!1;return!0},MO.SMatrix4x4_assignData=function(a){for(var b=this._data,d=0;16>d;d++)b[d]=a[d]},MO.SMatrix4x4_attachData=function(a){for(var b=!1,d=this._data,f=0;16>f;f++){var g=a[f];b||d[f]!=g&&(b=!0);d[f]=g}return b},MO.SMatrix4x4_appendData=function(a){var b=
this._data,d=b[0]*a[1]+b[1]*a[5]+b[2]*a[9]+b[3]*a[13],f=b[0]*a[2]+b[1]*a[6]+b[2]*a[10]+b[3]*a[14],g=b[0]*a[3]+b[1]*a[7]+b[2]*a[11]+b[3]*a[15],h=b[4]*a[0]+b[5]*a[4]+b[6]*a[8]+b[7]*a[12],k=b[4]*a[1]+b[5]*a[5]+b[6]*a[9]+b[7]*a[13],m=b[4]*a[2]+b[5]*a[6]+b[6]*a[10]+b[7]*a[14],q=b[4]*a[3]+b[5]*a[7]+b[6]*a[11]+b[7]*a[15],r=b[8]*a[0]+b[9]*a[4]+b[10]*a[8]+b[11]*a[12],u=b[8]*a[1]+b[9]*a[5]+b[10]*a[9]+b[11]*a[13],w=b[8]*a[2]+b[9]*a[6]+b[10]*a[10]+b[11]*a[14],B=b[8]*a[3]+b[9]*a[7]+b[10]*a[11]+b[11]*a[15],y=b[12]*
a[0]+b[13]*a[4]+b[14]*a[8]+b[15]*a[12],A=b[12]*a[1]+b[13]*a[5]+b[14]*a[9]+b[15]*a[13],x=b[12]*a[2]+b[13]*a[6]+b[14]*a[10]+b[15]*a[14],z=b[12]*a[3]+b[13]*a[7]+b[14]*a[11]+b[15]*a[15];b[0]=b[0]*a[0]+b[1]*a[4]+b[2]*a[8]+b[3]*a[12];b[1]=d;b[2]=f;b[3]=g;b[4]=h;b[5]=k;b[6]=m;b[7]=q;b[8]=r;b[9]=u;b[10]=w;b[11]=B;b[12]=y;b[13]=A;b[14]=x;b[15]=z},MO.SMatrix4x4_addTranslate=function(a,b,d){var f=RArray.array16;f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=a;f[13]=
b;f[14]=d;f[15]=1;this.appendData(f)},MO.SMatrix4x4_addRotationX=function(a){var b=Math.sin(a);a=Math.cos(a);var d=RArray.array16;d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=a;d[6]=b;d[7]=0;d[8]=0;d[9]=-b;d[10]=a;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;this.appendData(d)},MO.SMatrix4x4_addRotationY=function(a){var b=Math.sin(a);a=Math.cos(a);var d=RArray.array16;d[0]=a;d[1]=0;d[2]=b;d[3]=0;d[4]=0;d[5]=1;d[6]=0;d[7]=0;d[8]=-b;d[9]=0;d[10]=a;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;this.appendData(d)},MO.SMatrix4x4_addRotationZ=
function(a){var b=Math.sin(a);a=Math.cos(a);var d=RArray.array16;d[0]=a;d[1]=b;d[2]=0;d[3]=0;d[4]=-b;d[5]=a;d[6]=1;d[7]=0;d[8]=0;d[9]=0;d[10]=1;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;this.appendData(d)},MO.SMatrix4x4_addRotation=function(a,b,d){var f=Math.sin(a);a=Math.cos(a);var g=Math.sin(b);b=Math.cos(b);var h=Math.sin(d);d=Math.cos(d);var k=RArray.array16;k[0]=b*d;k[1]=b*h;k[2]=-g;k[3]=0;k[4]=f*g*d-a*h;k[5]=f*g*h+a*d;k[6]=f*b;k[7]=0;k[8]=a*g*d+f*h;k[9]=a*g*h-f*a;k[10]=a*b;k[11]=0;k[12]=0;k[13]=
0;k[14]=0;k[15]=1;this.appendData(k)},MO.SMatrix4x4_addScale=function(a,b,d){var f=RArray.array16;f[0]=a;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=b;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=d;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;this.appendData(f)},MO.SMatrix4x4_invert=function(){var a=this._data,b=RArray.array16;b[0]=a[5]*a[10]*a[15]-a[5]*a[11]*a[14]-a[9]*a[6]*a[15]+a[9]*a[7]*a[14]+a[13]*a[6]*a[11]-a[13]*a[7]*a[10];b[4]=-(a[4]*a[10]*a[15])+a[4]*a[11]*a[14]+a[8]*a[6]*a[15]-a[8]*a[7]*a[14]-a[12]*a[6]*a[11]+a[12]*
a[7]*a[10];b[8]=a[4]*a[9]*a[15]-a[4]*a[11]*a[13]-a[8]*a[5]*a[15]+a[8]*a[7]*a[13]+a[12]*a[5]*a[11]-a[12]*a[7]*a[9];b[12]=-(a[4]*a[9]*a[14])+a[4]*a[10]*a[13]+a[8]*a[5]*a[14]-a[8]*a[6]*a[13]-a[12]*a[5]*a[10]+a[12]*a[6]*a[9];b[1]=-(a[1]*a[10]*a[15])+a[1]*a[11]*a[14]+a[9]*a[2]*a[15]-a[9]*a[3]*a[14]-a[13]*a[2]*a[11]+a[13]*a[3]*a[10];b[5]=a[0]*a[10]*a[15]-a[0]*a[11]*a[14]-a[8]*a[2]*a[15]+a[8]*a[3]*a[14]+a[12]*a[2]*a[11]-a[12]*a[3]*a[10];b[9]=-(a[0]*a[9]*a[15])+a[0]*a[11]*a[13]+a[8]*a[1]*a[15]-a[8]*a[3]*
a[13]-a[12]*a[1]*a[11]+a[12]*a[3]*a[9];b[13]=a[0]*a[9]*a[14]-a[0]*a[10]*a[13]-a[8]*a[1]*a[14]+a[8]*a[2]*a[13]+a[12]*a[1]*a[10]-a[12]*a[2]*a[9];b[2]=a[1]*a[6]*a[15]-a[1]*a[7]*a[14]-a[5]*a[2]*a[15]+a[5]*a[3]*a[14]+a[13]*a[2]*a[7]-a[13]*a[3]*a[6];b[6]=-(a[0]*a[6]*a[15])+a[0]*a[7]*a[14]+a[4]*a[2]*a[15]-a[4]*a[3]*a[14]-a[12]*a[2]*a[7]+a[12]*a[3]*a[6];b[10]=a[0]*a[5]*a[15]-a[0]*a[7]*a[13]-a[4]*a[1]*a[15]+a[4]*a[3]*a[13]+a[12]*a[1]*a[7]-a[12]*a[3]*a[5];b[14]=-(a[0]*a[5]*a[14])+a[0]*a[6]*a[13]+a[4]*a[1]*
a[14]-a[4]*a[2]*a[13]-a[12]*a[1]*a[6]+a[12]*a[2]*a[5];b[3]=-(a[1]*a[6]*a[11])+a[1]*a[7]*a[10]+a[5]*a[2]*a[11]-a[5]*a[3]*a[10]-a[9]*a[2]*a[7]+a[9]*a[3]*a[6];b[7]=a[0]*a[6]*a[11]-a[0]*a[7]*a[10]-a[4]*a[2]*a[11]+a[4]*a[3]*a[10]+a[8]*a[2]*a[7]-a[8]*a[3]*a[6];b[11]=-(a[0]*a[5]*a[11])+a[0]*a[7]*a[9]+a[4]*a[1]*a[11]-a[4]*a[3]*a[9]-a[8]*a[1]*a[7]+a[8]*a[3]*a[5];b[15]=a[0]*a[5]*a[10]-a[0]*a[6]*a[9]-a[4]*a[1]*a[10]+a[4]*a[2]*a[9]+a[8]*a[1]*a[6]-a[8]*a[2]*a[5];var d=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];
if(0==d)return!1;for(var d=1/d,f=0;16>f;f++)a[f]=b[f]*d;return!0},MO.SMatrix4x4_transform=function(a,b,d,f,g){for(var h=this._data,k=0;k<g;k++){var m=d[f++],q=d[f++],r=d[f++];a[b++]=m*h[0]+q*h[4]+r*h[8]+h[12];a[b++]=m*h[1]+q*h[5]+r*h[9]+h[13];a[b++]=m*h[2]+q*h[6]+r*h[10]+h[14]}},MO.SMatrix4x4_transformPoint3=function(a,b){var d=this._data,f=a.x*d[0]+a.y*d[4]+a.z*d[8]+d[12],g=a.x*d[1]+a.y*d[5]+a.z*d[9]+d[13],d=a.x*d[2]+a.y*d[6]+a.z*d[10]+d[14],h=null,h=b?b:new SPoint3;h.set(f,g,d);return h},MO.SMatrix4x4_build=
function(a,b,d){var f=this._data,g=b.x*b.x,h=b.y*b.y,k=b.z*b.z,m=b.x*b.y,q=b.x*b.z,r=b.y*b.z,u=b.w*b.x,w=b.w*b.y;b=b.w*b.z;f[0]=(1-2*(h+k))*d.x;f[1]=2*(m-b)*d.x;f[2]=2*(q+w)*d.x;f[3]=0;f[4]=2*(m+b)*d.y;f[5]=(1-2*(g+k))*d.y;f[6]=2*(r-u)*d.y;f[7]=0;f[8]=2*(q-w)*d.z;f[9]=2*(r+u)*d.z;f[10]=(1-2*(g+h))*d.z;f[11]=0;f[12]=a.x;f[13]=a.y;f[14]=a.z;f[15]=1},MO.SMatrix4x4_buildQuaternion=function(a){var b=this._data,d=a.x*a.x,f=a.y*a.y,g=a.z*a.z,h=a.x*a.y,k=a.x*a.z,m=a.y*a.z,q=a.w*a.x,r=a.w*a.y;a=a.w*a.z;b[0]=
1-2*(f+g);b[1]=2*(h-a);b[2]=2*(k+r);b[3]=0;b[4]=2*(h+a);b[5]=1-2*(d+g);b[6]=2*(m-q);b[7]=0;b[8]=2*(k-r);b[9]=2*(m+q);b[10]=1-2*(d+f);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1},MO.SMatrix4x4_writeData=function(a,b){var d=this._data;a[b++]=d[0];a[b++]=d[4];a[b++]=d[8];a[b++]=d[12];a[b++]=d[1];a[b++]=d[5];a[b++]=d[9];a[b++]=d[13];a[b++]=d[2];a[b++]=d[6];a[b++]=d[10];a[b++]=d[14];a[b++]=d[3];a[b++]=d[7];a[b++]=d[11];a[b++]=d[15]},MO.SMatrix4x4_writeData4x3=function(a,b){var d=this._data;a[b++]=d[0];a[b++]=
d[4];a[b++]=d[8];a[b++]=d[12];a[b++]=d[1];a[b++]=d[5];a[b++]=d[9];a[b++]=d[13];a[b++]=d[2];a[b++]=d[6];a[b++]=d[10];a[b++]=d[14]},MO.SMatrix4x4_toString=function(){for(var a=this._data,b=new TString,d=0;4>d;d++){0<d&&b.append("|");for(var f=0;4>f;f++){var g=a[4*d+f];0<f&&b.append(",");b.append(RFloat.format(g,0,null,3,null))}}return b.flush()};
with(MO)MO.SOrthoMatrix3d=function(){SMatrix3d.call(this);this.perspectiveLH=SOrthoMatrix3d_perspectiveLH;this.perspectiveRH=SOrthoMatrix3d_perspectiveRH;this.perspectiveFieldOfViewLH=SOrthoMatrix3d_perspectiveFieldOfViewLH;this.perspectiveFieldOfViewRH=SOrthoMatrix3d_perspectiveFieldOfViewRH;return this},MO.SOrthoMatrix3d_perspectiveLH=function(a,b,d,f){var g=this._data;g[0]=2*d/a;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2*d/b;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=f/(f-d);g[11]=1;g[12]=0;g[13]=0;g[14]=d*f/(d-
f);g[15]=0},MO.SOrthoMatrix3d_perspectiveRH=function(a,b,d,f){var g=this._data;g[0]=2*d/a;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2*d/b;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=f/(d-f);g[11]=1;g[12]=0;g[13]=0;g[14]=d*f/(d-f);g[15]=0},MO.SOrthoMatrix3d_perspectiveFieldOfViewLH=function(a,b,d,f){var g=this._data;a=1/Math.tan(.5*a);g[0]=a/b;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=a;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=f/(f-d);g[11]=1;g[12]=0;g[13]=0;g[14]=d*f/(d-f);g[15]=0},MO.SOrthoMatrix3d_perspectiveFieldOfViewRH=function(a,
b,d,f){var g=this._data;a=1/Math.tan(.5*a);g[0]=a/b;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=a;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=f/(d-f);g[11]=1;g[12]=0;g[13]=0;g[14]=d*f/(f-d);g[15]=0};
with(MO)MO.SOutline3=function(){this.min=new SPoint3;this.max=new SPoint3;this.isEmpty=SOutline3_isEmpty;this.assign=SOutline3_assign;this.setMin=SOutline3_setMin;this.setMax=SOutline3_setMax;this.set=SOutline3_set;this.mergeMin=SOutline3_mergeMin;this.mergeMax=SOutline3_mergeMax;this.mergePoint=SOutline3_mergePoint;this.serialize=SOutline3_serialize;this.unserialize=SOutline3_unserialize;this.toString=SOutline3_toString;return this},MO.SOutline3_isEmpty=function(a){return this.min.isEmpty()&&this.max.isEmpty()},
MO.SOutline3_assign=function(a){this.min.assign(a.min);this.max.assign(a.max)},MO.SOutline3_setMin=function(){this.min.setMax();this.max.setMin()},MO.SOutline3_setMax=function(){this.min.setMin();this.max.setMax()},MO.SOutline3_set=function(a,b,d,f,g,h){this.min.set(a,b,d);this.max.set(f,g,h)},MO.SOutline3_mergeMin=function(a){this.min.mergeMax(a.min);this.max.mergeMin(a.max)},MO.SOutline3_mergeMax=function(a){this.min.mergeMin(a.min);this.max.mergeMax(a.max)},MO.SOutline3_mergePoint=function(a,b,
d){this.min.mergeMin3(a,b,d);this.max.mergeMax3(a,b,d)},MO.SOutline3_serialize=function(a){this.min.serialize(a);this.max.serialize(a)},MO.SOutline3_unserialize=function(a){this.min.unserialize(a);this.max.unserialize(a)},MO.SOutline3_toString=function(){return"("+this.min+")-("+this.max+")"};
with(MO)MO.SOutline3d=function(){SOutline3.call(this);this.center=new SPoint3;this.distance=new SPoint3;this.radius=0;this.points=Array(24);this.update=SOutline3d_update;this.calculateFrom=SOutline3d_calculateFrom;this.calculate=SOutline3d_calculate;return this},MO.SOutline3d_update=function(){var a=this.min,b=a.x,d=a.y,a=a.z,f=this.max,g=f.x,h=f.y,f=f.z,k=this.points;k[0]=b;k[1]=h;k[2]=a;k[3]=g;k[4]=h;k[5]=a;k[6]=g;k[7]=d;k[8]=a;k[9]=b;k[10]=d;k[11]=a;k[12]=b;k[13]=h;k[14]=f;k[15]=g;k[16]=h;k[17]=
f;k[18]=g;k[19]=d;k[20]=f;k[21]=b;k[22]=d;k[23]=f;k=this.center;k.x=.5*(b+g);k.y=.5*(d+h);k.z=.5*(a+f);k=this.distance;k.x=g-b;k.y=h-d;k.z=f-a;b=g-b;d=h-d;a=f-a;this.radius=.5*Math.sqrt(b*b+d*d+a*a)},MO.SOutline3d_calculateFrom=function(a,b){var d=this.points;b.transform(d,0,a.points,0,8);for(var f=minY=minZ=Number.MAX_VALUE,g=maxY=maxZ=-Number.MAX_VALUE,h=0;24>h;){var k=d[h++];k<f&&(f=k);k>g&&(g=k);k=d[h++];k<minY&&(minY=k);k>maxY&&(maxY=k);k=d[h++];k<minZ&&(minZ=k);k>maxZ&&(maxZ=k)}this.min.set(f,
minY,minZ);this.max.set(g,maxY,maxZ);this.update()},MO.SOutline3d_calculate=function(a){a=viy=viz=Number.MAX_VALUE;for(var b=vay=vaz=-Number.MAX_VALUE,d=0,f=this.points;24>d;){var g=f[d++];g<a&&(a=g);g>b&&(b=g);g=f[d++];g<viy&&(viy=g);g>vay&&(vay=g);g=f[d++];g<viz&&(viz=g);g>vaz&&(vaz=g)}this.min.set(a,viy,viz);this.max.set(b,vay,vaz);this.center.x=.5*(a+b);this.center.y=.5*(viy+vay);this.center.z=.5*(viz+vaz);a=b-a;b=vay-viy;d=vaz-viz;this.radius=.5*Math.sqrt(a*a+b*b+d*d)};
with(MO)MO.SPadding=function(a,b,d,f){this.left=RInteger.nvl(a);this.top=RInteger.nvl(b);this.right=RInteger.nvl(d);this.bottom=RInteger.nvl(f);this.isEmpty=SPadding_isEmpty;this.reset=SPadding_reset;this.assign=SPadding_assign;this.set=SPadding_set;this.parse=SPadding_parse;this.toString=SPadding_toString;this.dispose=SPadding_dispose;this.dump=SPadding_dump;return this},MO.SPadding_isEmpty=function(){return 0==this.left&&0==this.top&&0==this.right&&0==this.bottom},MO.SPadding_reset=function(){this.bottom=
this.right=this.top=this.left=0},MO.SPadding_assign=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom},MO.SPadding_set=function(a,b,d,f){this.left=a;this.top=b;this.right=d;this.bottom=f},MO.SPadding_parse=function(a){var b=a.split(",");if(4==b.length)this.left=parseInt(b[0]),this.top=parseInt(b[1]),this.right=parseInt(b[2]),this.bottom=parseInt(b[3]);else throw new TError(this,"Parse value failure. (value={1})",a);},MO.SPadding_toString=function(){return this.left+
","+this.top+","+this.right+","+this.bottom},MO.SPadding_dispose=function(){this.bottom=this.right=this.top=this.left=null},MO.SPadding_dump=function(a){return RClass.dump(this)+" ["+this.left+","+this.top+","+this.right+","+this.bottom+"]"};
with(MO)MO.SPerspectiveMatrix3d=function(){SMatrix3d.call(this);this.perspectiveLH=SPerspectiveMatrix3d_perspectiveLH;this.perspectiveRH=SPerspectiveMatrix3d_perspectiveRH;this.perspectiveFieldOfViewLH=SPerspectiveMatrix3d_perspectiveFieldOfViewLH;this.perspectiveFieldOfViewRH=SPerspectiveMatrix3d_perspectiveFieldOfViewRH;return this},MO.SPerspectiveMatrix3d_perspectiveLH=function(a,b,d,f){var g=this._data;g[0]=2*d/a;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2*d/b;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=f/(f-d);
g[11]=1;g[12]=0;g[13]=0;g[14]=d*f/(d-f);g[15]=0},MO.SPerspectiveMatrix3d_perspectiveRH=function(a,b,d,f){var g=this._data;g[0]=2*d/a;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2*d/b;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=f/(d-f);g[11]=1;g[12]=0;g[13]=0;g[14]=d*f/(d-f);g[15]=0},MO.SPerspectiveMatrix3d_perspectiveFieldOfViewLH=function(a,b,d,f){var g=this._data;a=1/Math.tan(.5*a);g[0]=a/b;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=a;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=f/(f-d);g[11]=1;g[12]=0;g[13]=0;g[14]=d*f/(d-f);g[15]=0},
MO.SPerspectiveMatrix3d_perspectiveFieldOfViewRH=function(a,b,d,f){var g=this._data;a=1/Math.tan(.5*a);g[0]=a/b;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=a;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=f/(d-f);g[11]=1;g[12]=0;g[13]=0;g[14]=d*f/(f-d);g[15]=0};
with(MO)MO.SPlane=function(){this.d=this.c=this.b=this.a=0;this.assign=SPlane_assign;this.set=SPlane_set;this.normalize=SPlane_normalize;this.dot=SPlane_dot;this.toString=SPlane_toString;this.dump=SPlane_dump;return this},MO.SPlane_assign=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d},MO.SPlane_set=function(a,b,d,f){this.a=a;this.b=b;this.c=d;this.d=f},MO.SPlane_normalize=function(){var a=1/Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);this.a*=a;this.b*=a;this.c*=a;this.d*=a},MO.SPlane_dot=
function(a,b,d){return a*this.a+b*this.b+d*this.c+this.d},MO.SPlane_toString=function(){return this.a+","+this.b+","+this.c+","+this.d},MO.SPlane_dump=function(){return RClass.dump(this)+" ["+this.toString()+"]"};
with(MO)MO.SPoint2=function(a,b){this.x=RInteger.nvl(a);this.y=RInteger.nvl(b);this.isEmpty=SPoint2_isEmpty;this.equals=SPoint2_equals;this.assign=SPoint2_assign;this.set=SPoint2_set;this.serialize=SPoint2_serialize;this.unserialize=SPoint2_unserialize;this.toString=SPoint2_toString;this.dispose=SPoint2_dispose;this.dump=SPoint2_dump;return this},MO.SPoint2_isEmpty=function(){return 0==this.x&&0==this.y},MO.SPoint2_equals=function(a){return a?this.x==a.x&&this.y==a.y:!1},MO.SPoint2_assign=function(a){this.x=
a.x;this.y=a.y},MO.SPoint2_set=function(a,b){this.x=a;this.y=b},MO.SPoint2_serialize=function(a){a.writeFloat(this.x);a.writeFloat(this.y)},MO.SPoint2_unserialize=function(a){this.x=a.readFloat();this.y=a.readFloat()},MO.SPoint2_toString=function(){return this.x+","+this.y},MO.SPoint2_dispose=function(){this.y=this.x=null},MO.SPoint2_dump=function(){return RClass.dump(this)+" ["+this.x+","+this.y+"]"};
with(MO)MO.SPoint3=function(a,b,d){SValue3.call(this,a,b,d);this.conjugate=SPoint3_conjugate;this.mergeMin=SPoint3_mergeMin;this.mergeMin3=SPoint3_mergeMin3;this.mergeMax=SPoint3_mergeMax;this.mergeMax3=SPoint3_mergeMax3;this.resize=SPoint3_resize;this.slerp=SPoint3_slerp;return this},MO.SPoint3_conjugate=function(a){var b=null,b=a?a:new SPoint3;b.x=-this.x;b.y=-this.y;b.z=-this.z;return b},MO.SPoint3_mergeMin=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,
a.z)},MO.SPoint3_mergeMin3=function(a,b,d){this.x=Math.min(this.x,a);this.y=Math.min(this.y,b);this.z=Math.min(this.z,d)},MO.SPoint3_mergeMax=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z)},MO.SPoint3_mergeMax3=function(a,b,d){this.x=Math.max(this.x,a);this.y=Math.max(this.y,b);this.z=Math.max(this.z,d)},MO.SPoint3_resize=function(a,b,d){null!=a&&(this.x+=a);null!=b&&(this.y+=b);null!=d&&(this.z+=d)},MO.SPoint3_slerp=function(a,b,d){this.x=(b.x-a.x)*
d+a.x;this.y=(b.y-a.y)*d+a.y;this.z=(b.z-a.z)*d+a.z};with(MO)MO.SPoint4=function(a,b,d,f){SValue4.call(this,a,b,d,f);this.serialize3=SPoint4_serialize3;this.unserialize3=SPoint4_unserialize3;return this},MO.SPoint4_serialize3=function(a){a.writeFloat(this.x);a.writeFloat(this.y);a.writeFloat(this.z)},MO.SPoint4_unserialize3=function(a){this.x=a.readFloat();this.y=a.readFloat();this.z=a.readFloat()};
with(MO)MO.SQuaternion=function(a){a||(a=this);a.x=0;a.y=0;a.z=0;a.w=1;a.identity=SQuaternion_identity;a.assign=SQuaternion_assign;a.set=SQuaternion_set;a.absolute=SQuaternion_absolute;a.normalize=SQuaternion_normalize;a.conjugate=SQuaternion_conjugate;a.mul=SQuaternion_mul;a.mul2=SQuaternion_mul2;a.translate=SQuaternion_translate;a.slerp=SQuaternion_slerp;a.fromAxisAngle=SQuaternion_fromAxisAngle;a.fromEuler=SQuaternion_fromEuler;a.parseEuler=SQuaternion_parseEuler;a.serialize=SQuaternion_serialize;
a.unserialize=SQuaternion_unserialize;a.clone=SQuaternion_clone;a.toString=SQuaternion_toString;return a},MO.SQuaternion_identity=function(){this.x=this.y=this.z=0;this.w=1;return this},MO.SQuaternion_assign=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w},MO.SQuaternion_set=function(a,b,d,f){this.x=a;this.y=b;this.z=d;this.w=f},MO.SQuaternion_absolute=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},MO.SQuaternion_normalize=function(){var a=this.absolute();
0!=a&&(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a)},MO.SQuaternion_conjugate=function(a){var b=null,b=a?a:new SQuaternion;b.x=-this.x;b.y=-this.y;b.z=-this.z;b.w=this.w;return b},MO.SQuaternion_mul=function(a){var b=this.x,d=this.y,f=this.z,g=this.w;this.x=g*a.x+b*a.w+d*a.z-f*a.y;this.y=g*a.y+d*a.w+f*a.x-b*a.z;this.z=g*a.z+f*a.w+b*a.y-d*a.x;this.w=g*a.w-b*a.x-d*a.y-f*a.z},MO.SQuaternion_mul2=function(a,b){this.x=a.w*b.x+a.x*b.w+a.y*b.z-a.z*b.y;this.y=a.w*b.y+a.y*b.w+a.z*b.x-a.x*b.z;this.z=a.w*
b.z+a.z*b.w+a.x*b.y-a.y*b.x;this.w=a.w*b.w-a.x*b.x-a.y*b.y-a.z*b.z},MO.SQuaternion_translate=function(a,b){var d=new SQuaternion;d.set(a.x,a.y,a.z,0);d.normalize();var f=this.conjugate();d.mul(f);f=this.clone();f.mul(d);d=null;d=b?b:new SVector3;d.set(f.x,f.y,f.z);return d},MO.SQuaternion_slerp=function(a,b,d){var f=a.x*b.x+a.y*b.y+a.z*b.z+a.w*b.w,g=!1;0>f&&(g=!0,f=-f);var h=0,k=0;.999999<f?(h=1-d,k=g?-d:d):(f=Math.acos(f),k=1/Math.sin(f),h=Math.sin((1-d)*f)*k,k=g?-Math.sin(d*f)*k:Math.sin(d*f)*k);
this.x=h*a.x+k*b.x;this.y=h*a.y+k*b.y;this.z=h*a.z+k*b.z;this.w=h*a.w+k*b.w},MO.SQuaternion_fromAxisAngle=function(a,b){var d=.5*b,f=Math.sin(d);this.x=a.x*f;this.y=a.y*f;this.z=a.z*f;this.w=Math.cos(d)},MO.SQuaternion_fromEuler=function(a,b,d){var f=Math.sin(.5*d);d=Math.cos(.5*d);var g=Math.sin(.5*a);a=Math.cos(.5*a);var h=Math.sin(.5*b);b=Math.cos(.5*b);this.x=d*g*b+f*a*h;this.y=d*a*h-f*g*b;this.z=f*a*b-d*g*h;this.w=d*a*b+f*g*h},MO.SQuaternion_parseEuler=function(a){var b=this.x*this.x,d=this.y*
this.y,f=this.z*this.z,g=null,g=a?a:new SVector3;g.x=Math.asin(RFloat.toRange(2*(this.w*this.x-this.y*this.z),-1,1));g.y=Math.atan2(2*(this.w*this.y+this.z*this.x),1-2*(b+d));g.z=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(f+b));return g},MO.SQuaternion_serialize=function(a){a.writeFloat(this.x);a.writeFloat(this.y);a.writeFloat(this.z);a.writeFloat(this.w)},MO.SQuaternion_unserialize=function(a){this.x=a.readFloat();this.y=a.readFloat();this.z=a.readFloat();this.w=a.readFloat()},MO.SQuaternion_clone=
function(){var a=new SQuaternion;a.x=this.x;a.y=this.y;a.z=this.z;a.w=this.w;return a},MO.SQuaternion_toString=function(){return this.x+","+this.y+","+this.z+","+this.w};
with(MO)MO.SRange=function(a,b,d,f){this.x=a;this.y=b;this.width=d;this.height=f;this.dump=SRange_dump;return this},MO.SRange_reset=function(){this.bottom=this.right=this.top=this.left=0},MO.SRange_assign=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom},MO.SRange_set=function(a,b,d,f){this.left=a;this.top=b;this.right=d;this.bottom=f},MO.SRange_setBounds=function(a,b,d,f){this.left=a;this.top=b;this.right=this.left+d-1;this.bottom=this.top+f-1},MO.SRange_width=
function(){return this.right-this.left+1},MO.SRange_setWidth=function(a){a&&(this.right=this.left+a-1)},MO.SRange_height=function(){return this.bottom-this.top+1},MO.SRange_setHeight=function(a){a&&(this.bottom=this.top+a-1)},MO.SRange_move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b},MO.SRange_inc=function(a){a=RInt.nvl(a,1);this.left-=a;this.top-=a;this.right+=a;this.bottom+=a},MO.SRange_dec=function(a){a=RInt.nvl(a,1);this.left+=a;this.top+=a;this.right-=a;this.bottom-=
a},MO.SRange_dump=function(a){a=RString.nvlStr(a);a.append(RClass.name(this));a.append(" [",this.x,",",this.y,"-",this.width,",",this.height,"] ");return a};
with(MO)MO.SRectangle=function(){this.position=new SPoint2;this.size=new SSize2;this.left=SRectangle_left;this.top=SRectangle_top;this.right=SRectangle_right;this.bottom=SRectangle_bottom;this.width=SRectangle_width;this.height=SRectangle_height;this.assign=SRectangle_assign;this.setPosition=SRectangle_setPosition;this.setSize=SRectangle_setSize;this.set=SRectangle_set;this.toString=SRectangle_toString;this.dispose=SRectangle_dispose;this.dump=SRectangle_dump;return this},MO.SRectangle_left=function(){return this.position.x},
MO.SRectangle_top=function(){return this.position.y},MO.SRectangle_right=function(){return this.position.x+this.size.width},MO.SRectangle_bottom=function(){return this.position.y+this.size.height},MO.SRectangle_width=function(){return this.size.width},MO.SRectangle_height=function(){return this.size.height},MO.SRectangle_assign=function(a){this.position.assign(a.position);this.size.assign(a.size)},MO.SRectangle_setPosition=function(a,b,d,f){this.position.set(a,b)},MO.SRectangle_setSize=function(a,
b){this.size.set(a,b)},MO.SRectangle_set=function(a,b,d,f){this.position.set(a,b);this.size.set(d,f)},MO.SRectangle_toString=function(){return this.position.x+","+this.position.y+","+this.size.width+","+this.size.height},MO.SRectangle_dispose=function(){this.position=this.position.dispose();this.size=this.size.dispose()},MO.SRectangle_dump=function(){return RClass.dump(this)+" ["+this.position.x+","+this.position.y+"-"+this.size.width+","+this.size.height+"]"};
with(MO)MO.SSize2=function(a,b){this.width=RInteger.nvl(a);this.height=RInteger.nvl(b);this.isEmpty=SSize2_isEmpty;this.equalsData=SSize2_equalsData;this.equals=SSize2_equals;this.square=SSize2_square;this.assign=SSize2_assign;this.set=SSize2_set;this.serialize=SSize2_serialize;this.unserialize=SSize2_unserialize;this.parse=SSize2_parse;this.toString=SSize2_toString;this.dispose=SSize2_dispose;this.dump=SSize2_dump;return this},MO.SSize2_isEmpty=function(){return 0==this.width&&0==this.height},MO.SSize2_equalsData=
function(a,b){return this.width!=a||this.height!=b?!1:!0},MO.SSize2_equals=function(a){return this.width!=a.width||this.height!=a.height?!1:!0},MO.SSize2_square=function(){return this.width*this.height},MO.SSize2_assign=function(a){this.width=a.width;this.height=a.height},MO.SSize2_set=function(a,b){this.width=a;this.height=b},MO.SSize2_serialize=function(a){a.writeFloat(this.width);a.writeFloat(this.height)},MO.SSize2_unserialize=function(a,b){b||(b=EDataType.Float16);this.width=a.readData(b);this.height=
a.readData(b)},MO.SSize2_parse=function(a){var b=a.split(",");if(2==b.length)this.width=parseInt(b[0]),this.height=parseInt(b[1]);else throw new TError(this,"Parse value failure. (value={1})",a);},MO.SSize2_toString=function(){return this.width+","+this.height},MO.SSize2_dispose=function(){this.height=this.width=null},MO.SSize2_dump=function(){return RClass.dump(this)+" ["+this.width+","+this.height+"]"};
with(MO)MO.SSize3=function(a,b,d){this.width=RInteger.nvl(a);this.height=RInteger.nvl(b);this.deep=RInteger.nvl(d);this.assign=SSize3_assign;this.set=SSize3_set;this.parse=SSize3_parse;this.toString=SSize3_toString;this.dump=SSize3_dump;return this},MO.SSize3_assign=function(a){this.width=a.width;this.height=a.height;this.deep=a.deep},MO.SSize3_set=function(a,b,d){this.width=a;this.height=b;this.deep=d},MO.SSize3_parse=function(a){var b=a.split(",");if(3==b.length)this.width=parseInt(b[0]),this.height=
parseInt(b[1]),this.deep=parseInt(b[2]);else throw new TError(this,"Parse value failure. (value={1})",a);},MO.SSize3_toString=function(){return this.width+","+this.height+","+this.deep},MO.SSize3_dump=function(){return RClass.dump(this)+" ["+this.width+","+this.height+","+this.deep+"]"};
with(MO)MO.SSquare=function(a,b,d,f){this.left=RInteger.nvl(left);this.top=RInteger.nvl(top);this.right=RInteger.nvl(right);this.bottom=RInteger.nvl(bottom);this.reset=SSquare_reset;this.assign=SSquare_assign;this.set=SSquare_set;this.setBounds=SSquare_setBounds;this.width=SSquare_width;this.setWidth=SSquare_setWidth;this.height=SSquare_height;this.setHeight=SSquare_setHeight;this.move=SSquare_move;this.inc=SSquare_inc;this.dec=SSquare_dec;this.dump=this.unpack=this.pack=SSquare_dump;return this},
MO.SSquare_reset=function(){this.bottom=this.right=this.top=this.left=0},MO.SSquare_assign=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom},MO.SSquare_set=function(a,b,d,f){this.left=a;this.top=b;this.right=d;this.bottom=f},MO.SSquare_setBounds=function(a,b,d,f){this.left=a;this.top=b;this.right=this.left+d-1;this.bottom=this.top+f-1},MO.SSquare_width=function(){return this.right-this.left+1},MO.SSquare_setWidth=function(a){a&&(this.right=this.left+a-1)},MO.SSquare_height=
function(){return this.bottom-this.top+1},MO.SSquare_setHeight=function(a){a&&(this.bottom=this.top+a-1)},MO.SSquare_move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b},MO.SSquare_inc=function(a){a=RInt.nvl(a,1);this.left-=a;this.top-=a;this.right+=a;this.bottom+=a},MO.SSquare_dec=function(a){a=RInt.nvl(a,1);this.left+=a;this.top+=a;this.right-=a;this.bottom-=a},MO.SSquare_dump=function(a){a=RString.nvlStr(a);a.append(RClass.name(this));a.append(" [",this.left,",",this.top,"-",
this.right,",",this.bottom,"] ");a.append("(",this.width(),"-",this.height(),")");return a};
with(MO)MO.SValue3=function(a,b,d){this.x=RRuntime.nvl(a,0);this.y=RRuntime.nvl(b,0);this.z=RRuntime.nvl(d,0);this.isEmpty=SValue3_isEmpty;this.assign=SValue3_assign;this.setMin=SValue3_setMin;this.setMax=SValue3_setMax;this.set=SValue3_set;this.absolute=SValue3_absolute;this.normalize=SValue3_normalize;this.negative=SValue3_negative;this.serialize=SValue3_serialize;this.unserialize=SValue3_unserialize;this.parse=SValue3_parse;this.toString=SValue3_toString;return this},MO.SValue3_isEmpty=function(a){return 0==
this.x&&0==this.y&&0==this.z},MO.SValue3_assign=function(a){this.x=a.x;this.y=a.y;this.z=a.z},MO.SValue3_setMin=function(){this.z=this.y=this.x=Number.MIN_VALUE},MO.SValue3_setMax=function(){this.z=this.y=this.x=Number.MAX_VALUE},MO.SValue3_set=function(a,b,d){this.x=a;this.y=b;this.z=d},MO.SValue3_normalize=function(){var a=this.absolute();0!=a&&(a=1/a,this.x*=a,this.y*=a,this.z*=a);return this},MO.SValue3_absolute=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},MO.SValue3_negative=
function(a){var b=null,b=p?a:new this.constructor;b.x=-this.x;b.y=-this.y;b.z=-this.z;return b},MO.SValue3_serialize=function(a){a.writeFloat(this.x);a.writeFloat(this.y);a.writeFloat(this.z)},MO.SValue3_unserialize=function(a){this.x=a.readFloat();this.y=a.readFloat();this.z=a.readFloat()},MO.SValue3_parse=function(a){var b=a.split(",");if(3==b.length)this.x=parseFloat(b[0]),this.y=parseFloat(b[1]),this.z=parseFloat(b[2]);else throw new TError(o,"Parse value failure. (value={1})",a);},MO.SValue3_toString=
function(){return this.x+","+this.y+","+this.z};
with(MO)MO.SValue3=function(a,b,d,f){this.x=RRuntime.nvl(a,0);this.y=RRuntime.nvl(b,0);this.z=RRuntime.nvl(d,0);this.w=RRuntime.nvl(f,1);this.assign=SValue4_assign;this.set=SValue4_set;this.absolute=SValue4_absolute;this.normalize=SValue4_normalize;this.negative=SValue4_negative;this.serialize=SValue4_serialize;this.unserialize=SValue4_unserialize;this.parse=SValue4_parse;this.toString=SValue4_toString;return this},MO.SValue4_assign=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w},MO.SValue4_set=
function(a,b,d,f){this.x=a;this.y=b;this.z=d;this.w=f},MO.SValue4_absolute=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},MO.SValue4_normalize=function(){var a=this.absolute();0!=a&&(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a)},MO.SValue4_negative=function(a){var b=null,b=a?a:new this.constructor;b.x=-this.x;b.y=-this.y;b.z=-this.z;b.w=-this.w;return b},MO.SValue4_serialize=function(a){a.writeFloat(this.x);a.writeFloat(this.y);a.writeFloat(this.z);a.writeFloat(this.w)},
MO.SValue4_unserialize=function(a){this.x=a.readFloat();this.y=a.readFloat();this.z=a.readFloat();this.w=a.readFloat()},MO.SValue4_parse=function(a){var b=a.split(",");if(4==b.length)this.x=parseFloat(b[0]),this.y=parseFloat(b[1]),this.z=parseFloat(b[2]),this.w=parseFloat(b[3]);else throw new TError(o,"Parse value failure. (value={1})",a);},MO.SValue4_toString=function(){return this.x+","+this.y+","+this.z+","+this.w};
with(MO)MO.SVector3=function(a,b,d){SValue3.call(this,a,b,d);this.length=this.absolute;this.direction=SVector3_direction;this.conjugate=SVector3_conjugate;this.dotPoint3=SVector3_dotPoint3;this.cross=SVector3_cross;this.cross2=SVector3_cross2;this.slerp=SVector3_slerp;this.clone=SVector3_clone;return this},MO.SVector3_direction=function(a,b){this.x=b.x-a.x;this.y=b.y-a.y;this.z=b.z-a.z;return this},MO.SVector3_conjugate=function(a){var b=null,b=a?a:new SVector3;b.x=-this.x;b.y=-this.y;b.z=-this.z;
return b},MO.SVector3_dotPoint3=function(a){return this.x*a.x+this.y*a.y+this.z*a.z},MO.SVector3_cross=function(a){var b=this.z*a.x-this.x*a.z,d=this.x*a.y-this.y*a.x;this.x=this.y*a.z-this.z*a.y;this.y=b;this.z=d},MO.SVector3_cross2=function(a,b){a.x=this.y*b.z-this.z*b.y;a.y=this.z*b.x-this.x*b.z;a.z=this.x*b.y-this.y*b.x},MO.SVector3_slerp=function(a,b,d){this.x=(b.x-a.x)*d+a.x;this.y=(b.y-a.y)*d+a.y;this.z=(b.z-a.z)*d+a.z},MO.SVector3_clone=function(){var a=new SVector3;a.x=this.x;a.y=this.y;
a.z=this.z;return a};with(MO)MO.SVector4=function(a,b,d,f){SValue4.call(this,a,b,d,f);this.serialize3=SVector4_serialize3;this.unserialize3=SVector4_unserialize3;return this},MO.SVector4_serialize3=function(a){a.writeFloat(this.x);a.writeFloat(this.y);a.writeFloat(this.z)},MO.SVector4_unserialize3=function(a){this.x=a.readFloat();this.y=a.readFloat();this.z=a.readFloat()};
with(MO)MO.RMath=function(){this.value1=Array(1);this.value2=Array(2);this.value3=Array(3);this.value4=Array(4);this.value9=Array(9);this.value12=Array(12);this.value16=Array(16);this.matrix=this.rectangle=this.vector3=this.vectorBackward=this.vectorForward=this.vectorScale=this.vectorAxisZ=this.vectorAxisY=this.vectorAxisX=null;this.construct=RMath_construct;this.min=RMath_min;this.max=RMath_max;this.sign=RMath_sign;this.construct();return this},MO.RMath_construct=function(){this.vectorAxisX=new MO.SVector3(1,
0,0);this.vectorAxisY=new MO.SVector3(0,1,0);this.vectorAxisZ=new MO.SVector3(0,0,1);this.vectorScale=new MO.SVector3(1,1,1);this.vectorForward=new MO.SVector3(0,0,1);this.vectorBackward=new MO.SVector3(0,0,-1);this.vector3=new MO.SVector3;this.rectangle=new MO.SRectangle;this.matrix=new MO.SMatrix3d},MO.RMath_min=function(){var a=0,b=arguments.length;if(1<b)for(var a=Number.MAX_VALUE,d=0;d<b;d++){var f=arguments[d];f<a&&(a=f)}return a},MO.RMath_max=function(){var a=0,b=arguments.length;if(1<b)for(var a=
Number.MIN_VALUE,d=0;d<b;d++){var f=arguments[d];f>a&&(a=f)}return a},MO.RMath_sign=function(a){return 0<a?1:0>a?-1:0},MO.RMath=new RMath;with(MO)MO.RRandom=function(){this._seed=(new Date).getTime();this.get=RRandom_get;this.rand=RRandom_rand;return this},MO.RRandom_get=function(){this._seed=(9301*this._seed+49297)%233280;return this._seed/233280},MO.RRandom_rand=function(a){a*=this.get();return Math.ceil(a)},MO.RRandom=new RRandom;
with(MO)MO.AStyle=function(a,b){AAnnotation.call(this,a);this._annotationCd=EAnnotation.Style;this._duplicate=!0;this._style=b;this.code=AStyle_code;this.style=AStyle_style;this.build=AStyle_build;this.toString=AStyle_toString;if(null==b){var d=null;RString.startsWith(a,"_style")?d=a.substring(6):RString.startsWith(a,"style")&&(d=a.substring(5));if(null==d)throw new TError("Style name is empty.");this._style=d}return this},MO.AStyle_code=function(){return this._style},MO.AStyle_style=function(){return this._style},
MO.AStyle_build=function(a){a[this._name]=null},MO.AStyle_toString=function(){return"style="+this._style};
with(MO)MO.AStyleIcon=function(a,b){AAnnotation.call(this,a);this._annotationCd=EAnnotation.Style;this._style=b;this.code=AStyleIcon_code;this.style=AStyleIcon_style;this.build=AStyleIcon_build;this.toString=AStyleIcon_toString;if(null==b){var d=null;RString.startsWith(a,"_style")?d=a.substring(6):RString.startsWith(a,"style")&&(d=a.substring(5));if(null==d)throw new TError("Style name is empty.");this._style=d}return this},MO.AStyleIcon_code=function(){return this._style},MO.AStyleIcon_style=function(){return this._style},
MO.AStyleIcon_build=function(a){a[this._name]=null},MO.AStyleIcon_toString=function(){return"style="+this._style};MO.EEvent=new function(){this.Unknown=0;this.Load=1;this.Process=2;this.EnterFrame=3;this.LeaveFrame=4;this.Enter=5;this.Leave=6;this.Focus=7;this.Blur=8;this.Click=9;this.DoubleClick=10;this.ItemClick=11;this.Selected=12;this.DataChanged=13;this.Result=14;this.TouchZoom="touch.zoom";return this};MO.EHttpContent=new function(){this.Binary=1;this.Text=2;return this};
MO.EHttpMethod=new function(){this.Get="GET";this.Post="POST";return this};MO.EHttpStatus=new function(){this.Uninitialized=0;this.Open=1;this.Send=2;this.Receiving=3;this.Loaded=4;return this};
MO.EKeyCode=new function(){this.None=0;this.Esc=27;this.Tab=9;this.Enter=13;this.Shift=16;this.Alt=18;this.Ctrl=17;this.BackSpace=8;this.Space=32;this.Left=37;this.Up=38;this.Right=39;this.Down=40;this.Insert=45;this.Delete=46;this.Home=36;this.End=35;this.PageUp=33;this.PageDown=34;this.F1=112;this.F2=113;this.F3=114;this.F4=115;this.F5=116;this.F6=117;this.F7=118;this.F8=119;this.F9=120;this.F10=121;this.F11=122;this.F12=123;this.N0=48;this.N1=49;this.N2=50;this.N3=51;this.N4=52;this.N5=53;this.N6=
54;this.N7=55;this.N8=56;this.N9=57;this.A=65;this.B=66;this.C=67;this.D=68;this.E=69;this.F=70;this.G=71;this.H=72;this.I=73;this.J=74;this.K=75;this.L=76;this.M=77;this.N=78;this.O=79;this.P=80;this.Q=81;this.R=82;this.S=83;this.T=84;this.U=85;this.V=86;this.W=87;this.X=88;this.Y=89;this.Z=90;this.ControlKeys=[this.Tab,this.Enter,this.BackSpace,this.Left,this.Up,this.Right,this.Down,this.Insert,this.Delete,this.Home,this.End,this.PageUp,this.PageDown,this.F1,this.F2,this.F3,this.F4,this.F5,this.F6,
this.F7,this.F8,this.F9,this.F10,this.F11,this.F12];var a=this.integerCodes={};a[45]=!0;a[190]=!0;for(var b=this.N0;b<=this.N9;b++)a[b]=!0;a=this.floatCodes={};a[45]=!0;a[190]=!0;a[46]=!0;a[189]=!0;for(b=this.N0;b<=this.N9;b++)a[b]=!0;return this};MO.EKeyStatus=new function(){this.Normal=0;this.Press=1;return this};MO.EMouseButton=new function(){this.Left=0;this.Right=2;this.Middle=3;return this};MO.EMouseCursor=new function(){this.HSize="E-resize";this.VSize="N-resize";return this};
MO.EOrientation=new function(){this.Unknown=0;this.Horizontal="H";this.Vertical="V";return this};with(MO)MO.MAttributeCode=function(a){a=RClass.inherits(this,a);a._code=null;a.isCode=MAttributeCode_isCode;a.code=MAttributeCode_code;a.setCode=MAttributeCode_setCode;return a},MO.MAttributeCode_isCode=function(a){return this._code==a},MO.MAttributeCode_code=function(){return this._code},MO.MAttributeCode_setCode=function(a){this._code=a};
with(MO)MO.MAttributeGuid=function(a){a=RClass.inherits(this,a);a._guid=null;a.guid=MAttributeGuid_guid;a.setGuid=MAttributeGuid_setGuid;return a},MO.MAttributeGuid_guid=function(){return this._guid},MO.MAttributeGuid_setGuid=function(a){this._guid=a};
with(MO)MO.MAttributeLabel=function(a){a=RClass.inherits(this,a);a._label=null;a.label=MAttributeLabel_label;a.setLabel=MAttributeLabel_setLabel;return a},MO.MAttributeLabel_label=function(){return this._label},MO.MAttributeLabel_setLabel=function(a){this._label=a};
with(MO)MO.MAttributeName=function(a){a=RClass.inherits(this,a);a._name=null;a.name=MAttributeName_name;a.setName=MAttributeName_setName;return a},MO.MAttributeName_name=function(){return this._name},MO.MAttributeName_setName=function(a){this._name=a};
with(MO)MO.MAttributeParent=function(a){a=RClass.inherits(this,a);a._parent=null;a.parent=MAttributeParent_parent;a.findParent=MAttributeParent_findParent;a.setParent=MAttributeParent_setParent;a.dispose=MAttributeParent_dispose;return a},MO.MAttributeParent_parent=function(){return this._parent},MO.MAttributeParent_findParent=function(a){var b=this;if(a)for(;RClass.isClass(b._parent,a);)b=b._parent;else for(;b._parent;)b=b._parent;return b},MO.MAttributeParent_setParent=function(a){this._parent=
a},MO.MAttributeParent_dispose=function(){this._parent=null};with(MO)MO.MClone=function(a){a=RClass.inherits(this,a);a.clone=MClone_clone;return a},MO.MClone_clone=function(){var a=RClass.create(this.constructor),b;for(b in this)v=this[b],null!=v&&(RClass.isBaseDataType(v.constructor)||(a[b]=v.clone())),a[b]=v;return a};
with(MO)MO.MDataStream=function(a){a=RClass.inherits(this,a);a._viewer=null;a._endianCd=!1;a._position=0;a.testString=MDataStream_testString;a.readBoolean=MDataStream_readBoolean;a.readInt8=MDataStream_readInt8;a.readInt16=MDataStream_readInt16;a.readInt32=MDataStream_readInt32;a.readInt64=MDataStream_readInt64;a.readUint8=MDataStream_readUint8;a.readUint16=MDataStream_readUint16;a.readUint32=MDataStream_readUint32;a.readUint64=MDataStream_readUint64;a.readFloat=MDataStream_readFloat;a.readDouble=
MDataStream_readDouble;a.readString=MDataStream_readString;a.readData=MDataStream_readData;a.readBytes=MDataStream_readBytes;a.writeBoolean=MDataStream_writeBoolean;a.writeInt8=MDataStream_writeInt8;a.writeInt16=MDataStream_writeInt16;a.writeInt32=MDataStream_writeInt32;a.writeInt64=MDataStream_writeInt64;a.writeUint8=MDataStream_writeUint8;a.writeUint16=MDataStream_writeUint16;a.writeUint32=MDataStream_writeUint32;a.writeUint64=MDataStream_writeUint64;a.writeFloat=MDataStream_writeFloat;a.writeDouble=
MDataStream_writeDouble;a.writeString=MDataStream_writeString;a.writeBytes=MDataStream_writeBytes;return a},MO.MDataStream_testString=function(){for(var a=this._position,b=this._viewer.getUint16(a,this._endianCd),a=a+2,d=new TString,f=0;f<b;f++){var g=this._viewer.getUint16(a,this._endianCd),a=a+2;d.push(String.fromCharCode(g))}return d.toString()},MO.MDataStream_readBoolean=function(){var a=this._viewer.getInt8(this._position,this._endianCd);this._position++;return 0<a},MO.MDataStream_readInt8=function(){var a=
this._viewer.getInt8(this._position,this._endianCd);this._position++;return a},MO.MDataStream_readInt16=function(){var a=this._viewer.getInt16(this._position,this._endianCd);this._position+=2;return a},MO.MDataStream_readInt32=function(){var a=this._viewer.getInt32(this._position,this._endianCd);this._position+=4;return a},MO.MDataStream_readInt64=function(){var a=this._viewer.getInt64(this._position,this._endianCd);this._position+=8;return a},MO.MDataStream_readUint8=function(){var a=this._viewer.getUint8(this._position,
this._endianCd);this._position+=1;return a},MO.MDataStream_readUint16=function(){var a=this._viewer.getUint16(this._position,this._endianCd);this._position+=2;return a},MO.MDataStream_readUint32=function(){var a=this._viewer.getUint32(this._position,this._endianCd);this._position+=4;return a},MO.MDataStream_readUint64=function(){var a=this._viewer.getUint64(this._position,this._endianCd);this._position+=8;return a},MO.MDataStream_readFloat=function(){var a=this._viewer.getFloat32(this._position,this._endianCd);
this._position+=4;return a},MO.MDataStream_readDouble=function(){var a=this._viewer.getFloat64(this._position,this._endianCd);this._position+=8;return a},MO.MDataStream_readString=function(){for(var a=this._viewer,b=this._endianCd,d=this._position,f=a.getUint16(d,b),d=d+2,g=new TString,h=0;h<f;h++){var k=a.getUint16(d,b);g.push(String.fromCharCode(k));d+=2}this._position=d;return g.flush()},MO.MDataStream_readData=function(a){switch(a){case EDataType.Int8:return this.readInt8();case EDataType.Int16:return this.readInt16();
case EDataType.Int32:return this.readInt32();case EDataType.Int64:return this.readInt64();case EDataType.Uint8:return this.readUint8();case EDataType.Uint16:return this.readUint16();case EDataType.Uint32:return this.readUint32();case EDataType.Uint64:return this.readUint64();case EDataType.Float32:return this.readFloat();case EDataType.Float64:return this.readDouble();case EDataType.String:return this.readString()}throw new TError(this,"Unknown data cd. (data_cd={1})",a);},MO.MDataStream_readBytes=
function(a,b,d){var f=this._viewer;if(!(0>=d)){if(0!=b)throw new TError(this,"Unsupport.");b=this._position;var g=this._endianCd;if(0==d%8){a=new Float64Array(a);d>>=3;for(var h=0;h<d;h++)a[h]=f.getFloat64(b,g),b+=8}else if(0==d%4)for(a=new Uint32Array(a),d>>=2,h=0;h<d;h++)a[h]=f.getUint32(b,g),b+=4;else if(0==d%2)for(a=new Uint16Array(a),d>>=1,h=0;h<d;h++)a[h]=f.getUint16(b,g),b+=2;else for(a=new Uint8Array(a),h=0;h<d;h++)a[h]=f.getUint8(b++,g);this._position=b}},MO.MDataStream_writeBoolean=function(a){this._viewer.setInt8(this._position,
0<a?1:0,this._endianCd);this._position++},MO.MDataStream_writeInt8=function(a){this._viewer.setInt8(this._position,a,this._endianCd);this._position++},MO.MDataStream_writeInt16=function(a){this._viewer.setInt16(this._position,a,this._endianCd);this._position+=2},MO.MDataStream_writeInt32=function(a){this._viewer.setInt32(this._position,a,this._endianCd);this._position+=4},MO.MDataStream_writeInt64=function(a){this._viewer.setInt64(this._position,a,this._endianCd);this._position+=8},MO.MDataStream_writeUint8=
function(a){this._viewer.setUint8(this._position,a,this._endianCd);this._position+=1},MO.MDataStream_writeUint16=function(a){this._viewer.setUint16(this._position,a,this._endianCd);this._position+=2},MO.MDataStream_writeUint32=function(a){this._viewer.setUint32(this._position,a,this._endianCd);this._position+=4},MO.MDataStream_writeUint64=function(a){this._viewer.setUint64(this._position,a,this._endianCd);this._position+=8},MO.MDataStream_writeFloat=function(a){this._viewer.setFloat32(this._position,
a,this._endianCd);this._position+=4},MO.MDataStream_writeDouble=function(a){this._viewer.setDouble(this._position,a,this._endianCd);this._position+=8},MO.MDataStream_writeString=function(a){var b=this._viewer,d=v.length,f=this._endianCd,g=this._position;b.setUint16(g,d,f);for(var g=g+2,h=0;h<d;h++)b.setUint16(g,a.charCodeAt(h),f),g+=2;this._position=g},MO.MDataStream_writeBytes=function(a,b,d){var f=this._viewer;if(!(0>=d)){if(0!=b)throw new TError("Unsupport.");b=this._position;var g=this._endianCd;
if(0==d%8){a=new Float64Array(a);d>>=3;for(var h=0;h<d;h++)f.setFloat64(b,a[h],g),b+=8}else if(0==d%4)for(a=new Uint32Array(a),d>>=2,h=0;h<d;h++)f.setUint32(b,a[h],g),b+=4;else if(0==d%2)for(a=new Uint16Array(a),d>>=1,h=0;h<d;h++)f.setUint16(b,a[h],g),b+=2;else for(a=new Uint8Array(a),h=0;h<d;h++)f.setUint8(b++,a[h],g);this._position=b}};
with(MO)MO.MDataView=function(a){a=RClass.inherits(this,a);a._viewer=null;a._endianCd=0;a.endianCd=MDataView_endianCd;a.setEndianCd=MDataView_setEndianCd;a.getInt8=MDataView_getInt8;a.getInt16=MDataView_getInt16;a.getInt32=MDataView_getInt32;a.getInt64=MDataView_getInt64;a.getUint8=MDataView_getUint8;a.getUint16=MDataView_getUint16;a.getUint32=MDataView_getUint32;a.getUint64=MDataView_getUint64;a.getFloat=MDataView_getFloat;a.getDouble=MDataView_getDouble;a.setInt8=MDataView_setInt8;a.setInt16=MDataView_setInt16;
a.setInt32=MDataView_setInt32;a.setInt64=MDataView_setInt64;a.setUint8=MDataView_setUint8;a.setUint16=MDataView_setUint16;a.setUint32=MDataView_setUint32;a.setUint64=MDataView_setUint64;a.setFloat=MDataView_setFloat;a.setDouble=MDataView_setDouble;return a},MO.MDataView_endianCd=function(a){return this._endianCd},MO.MDataView_setEndianCd=function(a){this._endianCd=a},MO.MDataView_getInt8=function(a){return this._viewer.getInt8(a,this._endianCd)},MO.MDataView_getInt16=function(a){return this._viewer.getInt16(a,
this._endianCd)},MO.MDataView_getInt32=function(a){return this._viewer.getInt32(a,this._endianCd)},MO.MDataView_getInt64=function(a){return this._viewer.getInt64(a,this._endianCd)},MO.MDataView_getUint8=function(a){return this._viewer.getUint8(a,this._endianCd)},MO.MDataView_getUint16=function(a){return this._viewer.getUint16(a,this._endianCd)},MO.MDataView_getUint32=function(a){return this._viewer.getUint32(a,this._endianCd)},MO.MDataView_getUint64=function(a){return this._viewer.getUint64(a,this._endianCd)},
MO.MDataView_getFloat=function(a){return this._viewer.getFloat32(a,this._endianCd)},MO.MDataView_getDouble=function(a){return this._viewer.getFloat64(a,this._endianCd)},MO.MDataView_setInt8=function(a,b){this._viewer.setInt8(a,b,this._endianCd)},MO.MDataView_setInt16=function(a,b){this._viewer.setInt16(a,b,this._endianCd)},MO.MDataView_setInt32=function(a,b){this._viewer.setInt32(a,b,this._endianCd)},MO.MDataView_setInt64=function(a,b){this._viewer.setInt64(a,b,this._endianCd)},MO.MDataView_setUint8=
function(a,b){this._viewer.setUint8(a,b,this._endianCd)},MO.MDataView_setUint16=function(a,b){this._viewer.setUint16(a,b,this._endianCd)},MO.MDataView_setUint32=function(a,b){this._viewer.setUint32(a,b,this._endianCd)},MO.MDataView_setUint64=function(a,b){this._viewer.setUint64(a,b,this._endianCd)},MO.MDataView_setFloat=function(a,b){this._viewer.setFloat32(a,b,this._endianCd)},MO.MDataView_setDouble=function(a,b){this._viewer.setDouble(a,b,this._endianCd)};
with(MO)MO.MListener=function(a){a=RClass.inherits(this,a);a._listenerss=null;a.addListener=MListener_addListener;a.setListener=MListener_setListener;a.removeListener=MListener_removeListener;a.clearListeners=MListener_clearListeners;a.clearAllListeners=MListener_clearAllListeners;a.processListener=MListener_processListener;a.dispose=MListener_dispose;return a},MO.MListener_addListener=function(a,b,d){var f=this._listenerss;f||(f=this._listenerss=new TDictionary);var g=f.get(a);g||(g=new TListeners,
f.set(a,g));return g.register(b,d)},MO.MListener_setListener=function(a,b,d){var f=this._listenerss;f&&(f=f.get(a))&&f.clear();return this.addListener(a,b,d)},MO.MListener_removeListener=function(a,b,d){return this._listenerss.get(a).unregister(b,d)},MO.MListener_clearListeners=function(a){var b=this._listenerss;b&&(a=b.get(a))&&a.clear()},MO.MListener_clearAllListeners=function(){var a=this._listenerss;if(a)for(var b=a.count(),d=0;d<b;d++){var f=a.at(d);f&&f.clear()}},MO.MListener_processListener=
function(a,b,d,f,g,h){var k=this._listenerss;k&&(a=k.get(a))&&a.process(b,d,f,g,h)},MO.MListener_dispose=function(){var a=this._listenerss;if(a){for(var b=a.count()-1;0<=b;b--)a.at(b).dispose();this._listenerss=RObject.dispose(a)}};
with(MO)MO.MListenerLoad=function(a){a=RClass.inherits(this,a,MListener);a.addLoadListener=MListenerLoad_addLoadListener;a.removeLoadListener=MListenerLoad_removeLoadListener;a.clearLoadListeners=MListenerLoad_clearLoadListeners;a.processLoadListener=MListenerLoad_processLoadListener;return a},MO.MListenerLoad_addLoadListener=function(a,b){return this.addListener(EEvent.Load,a,b)},MO.MListenerLoad_removeLoadListener=function(a,b){this.removeListener(EEvent.Load,a,b)},MO.MListenerLoad_clearLoadListeners=
function(){this.clearListeners(EEvent.Load)},MO.MListenerLoad_processLoadListener=function(a,b,d,f,g){this.processListener(EEvent.Load,a,b,d,f,g)};
with(MO)MO.MListenerProcess=function(a){a=RClass.inherits(this,a,MListener);a.addProcessListener=MListenerProcess_addProcessListener;a.removeProcessListener=MListenerProcess_removeProcessListener;a.processProcessListener=MListenerProcess_processProcessListener;return a},MO.MListenerProcess_addProcessListener=function(a,b){return this.addListener(EEvent.Process,a,b)},MO.MListenerProcess_removeProcessListener=function(a,b){this.removeListener(EEvent.Process,a,b)},MO.MListenerProcess_processProcessListener=
function(a,b,d,f,g){this.processListener(EEvent.Process,a,b,d,f,g)};
with(MO)MO.MListenerTouchZoom=function(a){a=RClass.inherits(this,a,MListener);a.addTouchZoomListener=MListenerTouchZoom_addTouchZoomListener;a.removeTouchZoomListener=MListenerTouchZoom_removeTouchZoomListener;a.clearTouchZoomListeners=MListenerTouchZoom_clearTouchZoomListeners;a.processTouchZoomListener=MListenerTouchZoom_processTouchZoomListener;return a},MO.MListenerTouchZoom_addTouchZoomListener=function(a,b){return this.addListener(EEvent.TouchZoom,a,b)},MO.MListenerTouchZoom_removeTouchZoomListener=
function(a,b){this.removeListener(EEvent.TouchZoom,a,b)},MO.MListenerTouchZoom_clearTouchZoomListeners=function(){this.clearListeners(EEvent.TouchZoom)},MO.MListenerTouchZoom_processTouchZoomListener=function(a,b,d,f,g){this.processListener(EEvent.TouchZoom,a,b,d,f,g)};
with(MO)MO.MMouseCapture=function(a){a=RClass.inherits(this,a);a.onMouseCaptureStart=RMethod.virtual(a,"onMouseCaptureStart");a.onMouseCapture=RMethod.virtual(a,"onMouseCapture");a.onMouseCaptureStop=RMethod.virtual(a,"onMouseCaptureStop");a.testMouseCapture=RMethod.emptyTrue;return a};with(MO)MO.MMouseWheel=function(a){a=RClass.inherits(this,a);a.onMouseWheel=RClass.register(a,new AEventMouseWheel("onMouseWheel"),RMethod.empty);return a};
with(MO)MO.MProperty=function(a){a=RClass.inherits(this,a);a.propertyAssign=MProperty_propertyAssign;a.propertyLoad=MProperty_propertyLoad;a.propertySave=MProperty_propertySave;return a},MO.MProperty_propertyAssign=function(a){var b=RClass.find(this.constructor).annotations(EAnnotation.Property),d;for(d in b){var f=b[d];f.constructor!=Function&&(this[f._name]=a[f._name])}},MO.MProperty_propertyLoad=function(a){var b=RClass.find(this.constructor).annotations(EAnnotation.Property),d;for(d in b){var f=
b[d];f.constructor!=Function&&(f._force?f.load(this,a):a.contains(f._linker)?f.load(this,a):null==this[f._name]&&(this[f._name]=f._value))}},MO.MProperty_propertySave=function(a){var b=RClass.find(this.constructor).annotations(EAnnotation.Property),d;for(d in b){var f=b[d];f.constructor!=Function&&f.save(this,a)}};
with(MO)MO.FBytes=function(a){a=RClass.inherits(this,a,FObject,MDataView);a._memory=null;a.construct=FBytes_construct;a.dispose=FBytes_dispose;return a},MO.FBytes_construct=function(){this.__base.FObject.construct.call(this);this._memory=new ArrayBuffer;this._viewer=new DataView(this._memory)},MO.FBytes_dispose=function(){this._viewer=this._memory=null;this.__base.FObject.dispose.call(this)};
with(MO)MO.FClassFactory=function(a){a=RClass.inherits(this,a,FObject);a._classes=null;a.construct=FClassFactory_construct;a.register=FClassFactory_register;a.unregister=FClassFactory_unregister;a.create=FClassFactory_create;a.dispose=FClassFactory_dispose;return a},MO.FClassFactory_construct=function(){this.__base.FObject.construct.call(this);this._classes=new TDictionary},MO.FClassFactory_register=function(a,b){this._classes.set(a,b)},MO.FClassFactory_unregister=function(a){this._classes.set(a,
null)},MO.FClassFactory_create=function(a){var b=this._classes.get(a);if(!b)throw new TError("Create unregister class. (name={1})",a);return RClass.create(b)},MO.FClassFactory_dispose=function(){this._classes=RObject.dispose(this._classes);this.__base.FObject.dispose.call(this)};with(MO)MO.FComponent=function(a){a=RClass.inherits(this,a,FObject,MAttributeParent,MAttributeCode);a.dispose=FComponent_dispose;return a},MO.FComponent_dispose=function(){this.__base.MAttributeParent.dispose.call(this);this.__base.FObject.dispose.call(this)};
with(MO)MO.FDataStream=function(a){a=RClass.inherits(this,a,FObject,MDataView,MDataStream);a._length=0;a._memory=null;a._viewer=null;a.construct=FDataStream_construct;a.length=FDataStream_length;a.setLength=FDataStream_setLength;a.memory=FDataStream_memory;a.flip=FDataStream_flip;a.dispose=FDataStream_dispose;return a},MO.FDataStream_construct=function(){this.__base.FObject.construct.call(this)},MO.FDataStream_length=function(){return this._length},MO.FDataStream_setLength=function(a){this._length=
a;this._memory=new ArrayBuffer(a);this._viewer=new DataView(this._memory)},MO.FDataStream_memory=function(){return this._memory},MO.FDataStream_flip=function(){this._length=this._position;this._position=0},MO.FDataStream_dispose=function(){this._memory=this._viewer=null;this.__base.FObject.dispose.call(this)};
with(MO)MO.FDataView=function(a){a=RClass.inherits(this,a,FObject,MDataView,MDataStream);a.link=FDataView_link;a.dispose=FDataView_dispose;return a},MO.FDataView_link=function(a){this._memory=a;this._viewer=new DataView(a)},MO.FDataView_dispose=function(){this._memory=this._viewer=null;this.__base.FObject.dispose.call(this)};
with(MO)MO.FFileReader=function(a){a=RClass.inherits(this,a,FObject,MListenerLoad);a._reader=null;a._fileName=null;a._length=0;a._data=null;a._statusLoading=!1;a.ohloadStart=FFileReader_ohLoadStart;a.ohLoad=FFileReader_ohLoad;a.ohLoadEnd=FFileReader_ohLoadEnd;a.ohProgress=FFileReader_ohProgress;a.construct=FFileReader_construct;a.fileName=FFileReader_fileName;a.length=FFileReader_length;a.data=FFileReader_data;a.loadFile=FFileReader_loadFile;a.dispose=FFileReader_dispose;return a},MO.FFileReader_ohLoadStart=
function(){},MO.FFileReader_ohLoad=function(){},MO.FFileReader_ohLoadEnd=function(){var a=this.__linker,b=a._reader;a._statusFree=!0;if(b.error){debugger;RLogger.error(a,"Load file failure. (error={1])",b.error)}else a._length=b.result.byteLength,a._data=b.result,b=new SEvent(a),a.processLoadListener(b),b.dispose()},MO.FFileReader_ohProgress=function(){},MO.FFileReader_construct=function(){this.__base.FObject.construct.call(this);var a=this._reader=new FileReader;a.__linker=this;a.onloadstart=this.ohLoadStart;
a.onload=this.ohLoad;a.onloadend=this.ohLoadEnd;a.onprogress=this.ohProgress},MO.FFileReader_fileName=function(){return this._fileName},MO.FFileReader_length=function(){return this._length},MO.FFileReader_data=function(){return this._data},MO.FFileReader_loadFile=function(a){this._fileName=a.name;this._length=a.size;this._reader.readAsArrayBuffer(a)},MO.FFileReader_dispose=function(){var a=this._reader=new FileReader;a.__linker=null;a.onloadstart=null;a.onload=null;a.onloadend=null;this._data=this._fileName=
this._reader=a.onprogress=null;this.__base.MListenerLoad.dispose.call(this);this.__base.FObject.dispose.call(this)};
with(MO)MO.FHttpConnection=function(a){a=RClass.inherits(this,a,FObject,MListenerLoad);a._asynchronous=!1;a._methodCd=EHttpMethod.Get;a._contentCd=EHttpContent.Binary;a._url=null;a._input=null;a._inputData=null;a._output=null;a._outputData=null;a._connection=null;a._contentLength=0;a._statusFree=!0;a.onConnectionSend=FHttpConnection_onConnectionSend;a.onConnectionReady=FHttpConnection_onConnectionReady;a.onConnectionComplete=FHttpConnection_onConnectionComplete;a.construct=FHttpConnection_construct;
a.setHeaders=FHttpConnection_setHeaders;a.inputData=FHttpConnection_inputData;a.setInputData=FHttpConnection_setInputData;a.outputData=FHttpConnection_outputData;a.setOutputData=FHttpConnection_setOutputData;a.content=FHttpConnection_content;a.sendSync=FHttpConnection_sendSync;a.sendAsync=FHttpConnection_sendAsync;a.send=FHttpConnection_send;a.dispose=FHttpConnection_dispose;return a},MO.FHttpConnection_onConnectionSend=function(){var a=this._input;if(a)if(a.constructor==String)this._inputData=a,
this._contentLength=a.length;else if(a.constructor==ArrayBuffer)this._inputData=a,this._contentLength=a.byteLength;else throw new TError("Unknown send data type.");},MO.FHttpConnection_onConnectionReady=function(){var a=this._linker;if(a._asynchronous){var b=a._connection;if(b.readyState==EHttpStatus.Loaded)if(200==b.status)a.setOutputData(),a.onConnectionComplete();else throw new TError(a,"Connection failure. (url={1})",a._url);}},MO.FHttpConnection_onConnectionComplete=function(){this._statusFree=
!0;this.processLoadListener(this)},MO.FHttpConnection_construct=function(){var a=this._connection=RXml.createConnection();a._linker=this;a.onreadystatechange=this.onConnectionReady},MO.FHttpConnection_setHeaders=function(){var a=this._connection;this._contentCd==EHttpContent.Binary?RBrowser.isBrowser(EBrowser.Explorer)?(a.setRequestHeader("Accept-Charset","x-user-defined"),a.responseType="arraybuffer"):(a.overrideMimeType("text/plain; charset=x-user-defined"),this._asynchronous&&(a.responseType="arraybuffer")):
a.setRequestHeader("content-type","application/x-www-form-urlencoded");RBrowser.isBrowser(EBrowser.Chrome)||0<this._contentLength&&a.setRequestHeader("content-length",this._contentLength)},MO.FHttpConnection_inputData=function(){return this._inputData},MO.FHttpConnection_setInputData=function(a){this._inputData=a},MO.FHttpConnection_outputData=function(){return this._outputData},MO.FHttpConnection_setOutputData=function(){var a=this._connection;this._outputData=this._contentCd==EHttpContent.Binary?
a.response:a.responseText},MO.FHttpConnection_content=function(){return this._outputData},MO.FHttpConnection_sendSync=function(){var a=this._connection;a.open(this._methodCd,this._url,!1);this.setHeaders(a,0);a.send(this._inputData);this.setOutputData();this.onConnectionComplete();RLogger.info(this,"Send http sync request. (method={1}, url={2})",this._methodCd,this._url)},MO.FHttpConnection_sendAsync=function(){var a=this._connection;a.open(this._methodCd,this._url,!0);this.setHeaders(a,0);a.send(this._inputData);
RLogger.info(this,"Send http asynchronous request. (method={1}, url={2})",this._methodCd,this._url)},MO.FHttpConnection_send=function(a,b){this._url=a;this._input=b;this._methodCd=null!=b?EHttpMethod.Post:EHttpMethod.Get;this._statusFree=!1;this.onConnectionSend();this._asynchronous?this.sendAsync():this.sendSync();return this.content()},MO.FHttpConnection_dispose=function(){this._outputData=this._output=this._inputData=this._input=null;var a=this._connection;a&&(this._connection=a.onreadystatechange=
null);this.__base.MListenerLoad.dispose.call(this);this.__base.FObject.dispose.call(this)};
with(MO)MO.FXmlConnection=function(a){a=RClass.inherits(this,a,FHttpConnection);a._contentCd=EHttpContent.Text;a._inputNode=null;a._outputNode=null;a.onConnectionSend=FXmlConnection_onConnectionSend;a.onConnectionComplete=FXmlConnection_onConnectionComplete;a.content=FXmlConnection_content;return a},MO.FXmlConnection_onConnectionSend=function(){var a=this._input;if(a){var b=null;if(a.constructor==String)b=a,this._inputNode=null;else if(a.constructor==TXmlNode)b=new TXmlDocument,b.setRoot(a),b=b.xml(),
this._inputNode=a;else if(a.constructor==TXmlDocument)b=a.xml(),this._inputNode=a.root();else throw new TError("Unknown send data type.");this._inputData=b;this._contentLength=b.length}},MO.FXmlConnection_onConnectionComplete=function(){var a=this._connection,b=null;if(a.responseXML)b=a.responseXML.documentElement;else if(a.responseXml)b=a.responseXml.documentElement;else throw new TError(this,"Fetch xml data failure.");if(!b)return RMessage.fatal(this,null,"Read xml error. (url={1})\n{2}",this._url,
a._outputText);a=new TXmlDocument;RXml.buildNode(a,null,b);var d=this._outputNode=a.root();this._statusFree=!0;b=new SXmlEvent;b.connection=this;b.document=a;b.root=d;b.parameters=this._parameters;this.processLoadListener(b);b.dispose();this._asynchronous&&(this._parameters=this._outputNode=this._output=this._inputNode=this._input=null)},MO.FXmlConnection_content=function(){return this._outputNode};
with(MO)MO.FXmlData=function(a){a=RClass.inherits(this,a,FObject);a._ready=null;a._config=null;a.testReady=FXmlData_testReady;return a},MO.FXmlData_testReady=function(){return this._ready};
with(MO)MO.FTag=function(a){a=RClass.inherits(this,a,FObject);a._name="Tag";a._children=null;a._trimLeft=!1;a._trimRight=!1;a.onBegin=FTag_onBegin;a.onEnd=FTag_onEnd;a.name=FTag_name;a.set=FTag_set;a.push=FTag_push;a.parse=FTag_parse;a.toString=FTag_toString;a.innerDump=FTag_innerDump;a.dump=FTag_dump;return a},MO.FTag_onBegin=function(a){return EResult.Continue},MO.FTag_onEnd=function(a){return EResult.Continue},MO.FTag_name=function(){return this._name},MO.FTag_set=function(a,b){throw new TError(this,
"Unknown attribute name. (name={1}, value={2})",a,b);},MO.FTag_push=function(a){var b=this._children;null==b&&(b=this._children=new TObjects);b.push(a)},MO.FTag_parse=function(a){var b=this.onBegin(a);if(b==EResult.Continue){var d=this._children;if(d)for(var f=d.count(),g=0;g<f;g++){var h=d.get(g),b=h.parse(a);if(b==EResult.Cancel)return b;a._trimLeft=h._trimLeft;a._trimRight=h._trimRight}return this.onEnd(a)}return b},MO.FTag_toString=function(){return null},MO.FTag_innerDump=function(a,b,d){a.appendRepeat("   ",
d);a.append(RClass.dump(b));var f=b.toString();RString.isEmpty(f)||a.append(" [",f,"]");if(b=b._children){a.append("\n");for(var f=b.count(),g=0;g<f;g++){var h=b.get(g);this.innerDump(a,h,d+1);g<f-1&&a.append("\n")}}},MO.FTag_dump=function(){var a=new TString;this.innerDump(a,this,0);return a.toString()};
with(MO)MO.FTagContext=function(a){a=RClass.inherits(this,a,FObject,MInstance);a._trimLeft=!1;a._trimRight=!1;a._attributes=null;a._source=null;a.construct=FTagContext_construct;a.instanceAlloc=FTagContext_instanceAlloc;a.attributes=FTagContext_attributes;a.get=FTagContext_get;a.set=FTagContext_set;a.setBoolean=FTagContext_setBoolean;a.source=FTagContext_source;a.write=FTagContext_write;a.resetSource=FTagContext_resetSource;a.dispose=FTagContext_dispose;return a},MO.FTagContext_construct=function(){this.__base.FObject.construct.call(this);
this._attributes=new TAttributes;this._source=new TString},MO.FTagContext_instanceAlloc=function(a){this._attributes.clear()},MO.FTagContext_attributes=function(){return this._attributes},MO.FTagContext_get=function(a,b){return this._attributes.get(a,b)},MO.FTagContext_set=function(a,b){this._attributes.set(a,b)},MO.FTagContext_setBoolean=function(a,b){this._attributes.set(a,RBoolean.toString(b))},MO.FTagContext_source=function(){return this._source.toString()},MO.FTagContext_write=function(a){RString.isEmpty(a)||
this._source.append(a)},MO.FTagContext_resetSource=function(a){this._source.clear()},MO.FTagContext_dispose=function(){this._attributes.dispose();this._attributes=null;this._source.dispose();this._source=null;this.__base.FObject.dispose.call(this)};
with(MO)MO.FTagDocument=function(a){a=RClass.inherits(this,a,FObject);a._space=null;a._root=null;a.space=FTagDocument_space;a.setSpace=FTagDocument_setSpace;a.create=FTagDocument_create;a.root=FTagDocument_root;a.loadNode=FTagDocument_loadNode;a.load=FTagDocument_load;a.parse=FTagDocument_parse;a.dump=FTagDocument_dump;return a},MO.FTagDocument_space=function(){return this._space},MO.FTagDocument_setSpace=function(a){this._space=a},MO.FTagDocument_create=function(a){var b=this._space+"_",d=null,d=
RString.startsWith(a,b)?a.substring(b.length):a;a=null;switch(d){case "source":a=RClass.create(FTag);break;case "write":a=RClass.create(FTagWrite);break;case "true":a=RClass.create(FTagTrue);break;case "false":a=RClass.create(FTagFalse);break;case "equals":a=RClass.create(FTagEquals);break;case "notEquals":a=RClass.create(FTagNotEquals);break;default:throw new TError(this,"Unknown tag type. (name={1})",d);}return a},MO.FTagDocument_root=function(){return this._root},MO.FTagDocument_loadNode=function(a,
b){var d=this.create(b.nodeName);a?a.push(d):this._root=d;var f=b.attributes;if(f)for(var g=f.length,h=0;h<g;h++){var k=f[h];k.nodeName&&d.set(k.nodeName,RXml.formatText(k.value))}if(f=b.childNodes)for(g=f.length,h=0;h<g;h++)switch(k=f[h],k.nodeType){case ENodeType.Text:var m=RClass.create(FTagText);m.setText(k.nodeValue);d.push(m);break;case ENodeType.Data:m=RClass.create(FTagText);m.setText(k.data);d.push(m);break;case ENodeType.Node:this.loadNode(d,k)}},MO.FTagDocument_load=function(a){a=("<source>"+
a+"</source>").replace(new RegExp("<"+this._space+":","g"),"<"+this._space+"_");a=a.replace(new RegExp("</"+this._space+":","g"),"</"+this._space+"_");a=a.replace(RegExp(" & ","g")," &amp; ");a=a.replace(RegExp(" < ","g")," &lt; ");a=a.replace(RegExp(" > ","g")," &gt; ");a=RXml.makeString(a);this.loadNode(null,a.firstChild)},MO.FTagDocument_parse=function(a){a.resetSource();this._root.parse(a);return a.source()},MO.FTagDocument_dump=function(){var a=new TString;a.appendLine(RClass.dump(this));a.appendLine(this.root().dump(a));
return a.toString()};
with(MO)MO.FTagEquals=function(a){a=RClass.inherits(this,a,FTag);a._trimLeft=!0;a._source=null;a._value=null;a.onBegin=FTagEquals_onBegin;a.set=FTagEquals_set;a.toString=FTagEquals_toString;return a},MO.FTagEquals_onBegin=function(a){var b=!1;a=a.get(this._source);for(var d=this._value.split("|"),f=d.length,g=0;g<f;g++)if(a==d[g]){b=!0;break}return b?EResult.Continue:EResult.Skip},MO.FTagEquals_set=function(a,b){switch(a){case "source":this._source=b;return;case "value":this._value=b;return}this.__base.FTag.set.call(this,
a,b)},MO.FTagEquals_toString=function(){return"source="+this._source+", value="+this._value};
with(MO)MO.FTagFalse=function(a){a=RClass.inherits(this,a,FTag);a._trimLeft=!0;a._source=null;a.onBegin=FTagFalse_onBegin;a.set=FTagFalse_set;a.toString=FTagFalse_toString;return a},MO.FTagFalse_onBegin=function(a){a=a.get(this._source);return RBoolean.parse(a)?EResult.Skip:EResult.Continue},MO.FTagFalse_set=function(a,b){switch(a){case "source":this._source=b;return}this.__base.FTag.set.call(this,a,b)},MO.FTagFalse_toString=function(){return"source="+this._source};
with(MO)MO.FTagNotEquals=function(a){a=RClass.inherits(this,a,FTag);a._trimLeft=!0;a._source=null;a._value=null;a.onBegin=FTagNotEquals_onBegin;a.set=FTagNotEquals_set;a.toString=FTagNotEquals_toString;return a},MO.FTagNotEquals_onBegin=function(a){var b=!0;a=a.get(this._source);for(var d=this._value.split("|"),f=d.length,g=0;g<f;g++)if(a==d[g]){b=!1;break}return b?EResult.Continue:EResult.Skip},MO.FTagNotEquals_set=function(a,b){switch(a){case "source":this._source=b;return;case "value":this._value=
b;return}this.__base.FTag.set.call(this,a,b)},MO.FTagNotEquals_toString=function(){return"source="+this._source+", value="+this._value};
with(MO)MO.FTagText=function(a){a=RClass.inherits(this,a,FTag);a._text=null;a.onBegin=FTagText_onBegin;a.text=FTagText_text;a.setText=FTagText_setText;a.toString=FTagText_toString;return a},MO.FTagText_onBegin=function(a){var b=this._text;a._trimLeft&&(RString.startsWith(b,"\r")&&(b=b.substring(1)),RString.startsWith(b,"\n")&&(b=b.substring(1)));a._trimRight&&(RString.endsWith(b,"\r")&&(b=b.substring(0,b.length-1)),RString.endsWith(b,"\n")&&(b=b.substring(0,b.length-1)));a.write(b);return EResult.Skip},
MO.FTagText_text=function(){return this._text},MO.FTagText_setText=function(a){this._text=a},MO.FTagText_toString=function(){return"{"+this._text+"}"};
with(MO)MO.FTagTrue=function(a){a=RClass.inherits(this,a,FTag);a._trimLeft=!0;a._source=null;a.onBegin=FTagTrue_onBegin;a.set=FTagTrue_set;a.toString=FTagTrue_toString;return a},MO.FTagTrue_onBegin=function(a){for(var b=!1,d=this._source.split("|"),f=d.length,g=0;g<f;g++){var h=a.get(d[g]);if(RBoolean.parse(h)){b=!0;break}}return b?EResult.Continue:EResult.Skip},MO.FTagTrue_set=function(a,b){switch(a){case "source":this._source=b;return}this.__base.FTag.set.call(this,a,b)},MO.FTagTrue_toString=function(){return"source="+
this._source};with(MO)MO.FTagWrite=function(a){a=RClass.inherits(this,a,FTag);a._source=null;a.onBegin=FTagWrite_onBegin;a.set=FTagWrite_set;a.toString=FTagWrite_toString;return a},MO.FTagWrite_onBegin=function(a){var b=a.get(this._source);a.write(b);return EResult.Skip},MO.FTagWrite_set=function(a,b){switch(a){case "source":this._source=b;return}this.__base.FTag.set.call(this,a,b)},MO.FTagWrite_toString=function(){return"source="+this._source};
MO.EBrowser=new function(){this.Unknown=0;this.Explorer=1;this.FireFox=2;this.Chrome=3;this.Safari=4;return this};MO.EDevice=new function(){this.Unknown=0;this.Pc=1;this.Mobile=2;return this};MO.ESoftware=new function(){this.Unknown=0;this.Window=1;this.Linux=2;this.Android=3;this.Apple=4;return this};MO.SBrowserCapability=function(){this.blobCreate=this.optionStorage=this.optionProcess=!1;return this};
with(MO)MO.TDumpItem=function(){this.link=this.hRow=this.hText=this.hTable=this.hDocument=this.hPanel=this.hParent=null;this.level=0;this.caption=null;this.children=[];this.items=[];this.display=this.innerDisplay=this.loaded=!1;this.create=TDumpItem_create;this.push=TDumpItem_push;this.innerShow=TDumpItem_innerShow;this.show=TDumpItem_show;return this},MO.TDumpItem_create=function(){return this.children[this.children.length]=new TDumpItem},MO.TDumpItem_push=function(a){this.items[this.items.length]=
a},MO.TDumpItem_innerShow=function(a){for(var b=this.items.length,d=0;d<b;d++)RHtml.visibleSet(this.items[d],a);b=this.children.length;for(d=0;d<b;d++){var f=this.children[d];RHtml.visibleSet(f.hRow,a);a?f.show(f.innerDisplay):(f.innerDisplay=f.display,f.show(!1))}},MO.TDumpItem_show=function(a){this.display=a;var b=RString.repeat("   ",this.level-1)+(a?" -":" +")+" "+this.caption;this.hText.innerHTML=RHtml.toHtml(b);this.innerShow(a)};
with(MO)MO.RBrowser=function(){this._capability=null;this._deviceCd=MO.EDevice.Unknown;this._softwareCd=MO.ESoftware.Unknown;this._typeCd=MO.EBrowser.Unknown;this._supportHtml5=!1;this._contentPath=this._hostPath="";this.onLog=RBrowser_onLog;this.construct=RBrowser_construct;this.capability=RBrowser_capability;this.supportHtml5=RBrowser_supportHtml5;this.hostPath=RBrowser_hostPath;this.setHostPath=RBrowser_setHostPath;this.contentPath=RBrowser_contentPath;this.setContentPath=RBrowser_setContentPath;
this.isBrowser=RBrowser_isBrowser;this.encode=RBrowser_encode;this.decode=RBrowser_decode;this.urlEncode=RBrowser_urlEncode;this.urlDecode=RBrowser_urlDecode;return this},MO.RBrowser_onLog=function(a,b){console.log(b)},MO.RBrowser_construct=function(){var a=window.navigator.userAgent.toLowerCase();-1!=a.indexOf("android")&&(this._typeCd=EDevice.Mobile,this._softwareCd=ESoftware.Android);if(-1!=a.indexOf("chrome"))this._typeCd=EBrowser.Chrome;else if(-1!=a.indexOf("firefox"))this._typeCd=EBrowser.FireFox;
else if(-1!=a.indexOf("msie")||-1!=a.indexOf("windows"))this._typeCd=EBrowser.Explorer;else if(-1!=a.indexOf("safari")||-1!=a.indexOf("applewebkit"))this._typeCd=EBrowser.Safari;else{alert("Unknown browser.\n"+a);return}this._typeCd==EBrowser.Chrome&&RLogger.lsnsOutput.register(this,this.onLog);RLogger.info(this,"Parse browser agent. (type_cd={1})",REnum.decode(EBrowser,this._typeCd));window.applicationCache&&(this._supportHtml5=!0);a=this._capability=new SBrowserCapability;window.Worker&&(a.optionProcess=
!0);window.localStorage&&(a.optionStorage=!0);try{new Blob(["Test"],{type:"text/plain"}),a.blobCreate=!0}catch(b){RLogger.warn(this,"Browser blob not support.")}},MO.RBrowser_capability=function(){return this._capability},MO.RBrowser_supportHtml5=function(){return this._supportHtml5},MO.RBrowser_hostPath=function(a){return a?this._hostPath+a:this._hostPath},MO.RBrowser_setHostPath=function(a){this._hostPath=a},MO.RBrowser_contentPath=function(a){return a?this._contentPath+a:this._contentPath},MO.RBrowser_setContentPath=
function(a){this._contentPath=a},MO.RBrowser_isBrowser=function(a){return this._typeCd==a},MO.RBrowser_encode=function(a){return escape(a)},MO.RBrowser_decode=function(a){return unescape(a)},MO.RBrowser_urlEncode=function(a,b){return b?encodeURIComponent(a):encodeURI(a)},MO.RBrowser_urlDecode=function(a,b){return b?decodeURIComponent(a):decodeURI(a)},MO.RBrowser=new RBrowser;
with(MO)MO.RBuilder=function(){this.create=RBuilder_create;this.createIcon=RBuilder_createIcon;this.createImage=RBuilder_createImage;this.createText=RBuilder_createText;this.createButton=RBuilder_createButton;this.createCheck=RBuilder_createCheck;this.createRadio=RBuilder_createRadio;this.createEdit=RBuilder_createEdit;this.createFile=RBuilder_createFile;this.createSpan=RBuilder_createSpan;this.createDiv=RBuilder_createDiv;this.createTable=RBuilder_createTable;this.createTableRow=RBuilder_createTableRow;
this.createTableCell=RBuilder_createTableCell;this.createFragment=RBuilder_createFragment;this.append=RBuilder_append;this.appendIcon=RBuilder_appendIcon;this.appendImage=RBuilder_appendImage;this.appendEmpty=RBuilder_appendEmpty;this.appendText=RBuilder_appendText;this.appendButton=RBuilder_appendButton;this.appendCheck=RBuilder_appendCheck;this.appendRadio=RBuilder_appendRadio;this.appendEdit=RBuilder_appendEdit;this.appendFile=RBuilder_appendFile;this.appendSpan=RBuilder_appendSpan;this.appendDiv=
RBuilder_appendDiv;this.appendTable=RBuilder_appendTable;this.appendTableRow=RBuilder_appendTableRow;this.appendTableRowCell=RBuilder_appendTableRowCell;this.appendTableCell=RBuilder_appendTableCell;return this},MO.RBuilder_create=function(a,b,d){var f=null,f=a.ownerDocument?a.ownerDocument:a.hDocument?a.hDocument:a;a=f.createElement(b);d&&(a.className=d);return a},MO.RBuilder_createIcon=function(a,b,d,f,g){a=this.create(a,"IMG",RString.nvl(b,"Tag_Icon"));a.align="absmiddle";d&&(a.src=RResource.iconPath(d));
f&&(a.style.width=f+"px");g&&(a.style.height=g+"px");return a},MO.RBuilder_createImage=function(a,b,d,f,g){a=this.create(a,"IMG",d);d&&(a.src=RResource.imagePath(d));f&&(a.style.width=f);g&&(a.style.height=g);return a},MO.RBuilder_createText=function(a,b,d){a=this.create(a,"SPAN",b);d&&(a.innerHTML=d);return a},MO.RBuilder_createButton=function(a,b){var d=this.create(a,"INPUT",b);d.type="button";return d},MO.RBuilder_createCheck=function(a,b){var d=this.create(a,"INPUT",b);d.type="checkbox";return d},
MO.RBuilder_createRadio=function(a,b){var d=this.create(a,"INPUT",b);d.type="radio";return d},MO.RBuilder_createEdit=function(a,b){var d=this.create(a,"INPUT",b);d.type="text";return d},MO.RBuilder_createFile=function(a,b){var d=this.create(a,"INPUT",b);d.type="file";return d},MO.RBuilder_createSpan=function(a,b){return this.create(a,"SPAN",b)},MO.RBuilder_createDiv=function(a,b){return this.create(a,"DIV",b)},MO.RBuilder_createTable=function(a,b,d,f,g){a=this.create(a,"TABLE",b);d&&(a.border=RInteger.nvl(d));
a.cellSpacing=RInteger.nvl(f);a.cellPadding=RInteger.nvl(g);return a},MO.RBuilder_createTableRow=function(a,b){return this.create(a,"TR",b)},MO.RBuilder_createTableCell=function(a,b){return this.create(a,"TD",b)},MO.RBuilder_createFragment=function(a){var b=null,b=a.ownerDocument?a.ownerDocument:a.hDocument?a.hDocument:a;a=b.createDocumentFragment();a.__fragment=!0;return a},MO.RBuilder_append=function(a,b,d){b=RBuilder.create(a.ownerDocument,b,d);a?a.appendChild(b):this.hDocument.body.appendChild(b);
return b},MO.RBuilder_appendIcon=function(a,b,d,f,g){b=this.createIcon(a.ownerDocument,b,d,f,g);a.appendChild(b);return b},MO.RBuilder_appendImage=function(a,b,d,f,g){b=this.createImage(a.ownerDocument,b,d,f,g);a.appendChild(b);return b},MO.RBuilder_appendEmpty=function(a,b,d){b=this.createIcon(a.ownerDocument,null,"n",b,d);a.appendChild(b);return b},MO.RBuilder_appendText=function(a,b,d){b=this.createText(a.ownerDocument,b,d);a.appendChild(b);return b},MO.RBuilder_appendButton=function(a,b){var d=
this.createButton(a.ownerDocument,b);a.appendChild(d);return d},MO.RBuilder_appendCheck=function(a,b){var d=this.createCheck(a.ownerDocument,b);a.appendChild(d);return d},MO.RBuilder_appendRadio=function(a,b){var d=this.createRadio(a.ownerDocument,b);a.appendChild(d);return d},MO.RBuilder_appendEdit=function(a,b){var d=this.createEdit(a.ownerDocument,b);a.appendChild(d);return d},MO.RBuilder_appendFile=function(a,b){var d=this.createFile(a.ownerDocument,b);a.appendChild(d);return d},MO.RBuilder_appendSpan=
function(a,b){var d=this.createSpan(a.ownerDocument,b);a.appendChild(d);return d},MO.RBuilder_appendDiv=function(a,b){var d=this.createDiv(a.ownerDocument,b);a.appendChild(d);return d},MO.RBuilder_appendTable=function(a,b,d,f,g){b=this.createTable(a.ownerDocument,b,d,f,g);a?a.appendChild(b):this.hDocument.body.appendChild(b);return b},MO.RBuilder_appendTableRow=function(a,b,d,f){var g=null,g=null==d?RBrowser.isBrowser(EBrowser.Explorer)?a.insertRow():a.insertRow(-1):a.insertRow(d);b&&(g.className=
b);f&&(g.height=f);return g},MO.RBuilder_appendTableRowCell=function(a,b,d,f){a=this.appendTableRow(a,null,null,d);return this.appendTableCell(a,b,null,f)},MO.RBuilder_appendTableCell=function(a,b,d,f){var g=null;null==d?(g=this.create(a,"TD",b),a.appendChild(g)):g=a.insertCell(d);b&&(g.className=b);f&&(g.width=f);return g},MO.RBuilder=new RBuilder;
with(MO)MO.RDump=function(){this.LINE_SINGLE="------------------------------";this.LINE_DOUBLE="==============================";this.LINE_DOT="..............................";this.LINE_STAR="******************************";this.onclick=RDump_onclick;this.nameInfo=RDump_nameInfo;this.typeInfo=RDump_typeInfo;this.dumpInner=RDump_dumpInner;this.dump=RDump_dump;this.appendLevel=RDump_appendLevel;this.stack=RDump_stack;return this},MO.RDump_onclick=function(){var a=this.link;this.link&&(a.loaded?a.show(!a.display):
(RDump.dumpInner(this.link),a.loaded=!0,a.show(!0)))},MO.RDump_nameInfo=function(a){switch(RClass.typeOf(a)){case "Unknown":return"@unknown";case "Function":return RMethod.name(a)+"@Function";case "Array":return"@<Array>"}return a},MO.RDump_typeInfo=function(a,b){if(null==a)return"null";switch(b){case "Unknown":return"unknown";case "Undefined":return"undefined";case "Boolean":case "Number":return a.toString();case "String":return a.length+":'"+RString.toLine(a)+"'";case "Function":return a.__virtual?
"virtual":RMethod.name(a,!0);case "Array":return"@<Array@"+RClass.code(a)+"> length="+a.length;case "Html":return"@<"+a.tagName+">";default:if(a.constructor==TClass)return"@<"+a.name+"@"+RClass.code(a)+">";if(a.constructor==Function)return"@"+a.toString();try{for(var d in a)return"@<Object@"+RClass.code(a)+">"}catch(f){}return"<Object@"+RClass.code(a)+">"}},MO.RDump_dumpInner=function(a){var b=a.hTable,d=a.hRow,f=a.level,g=a.link,h=RClass.typeOf(g,!0),k=g.__class,m=[],q;for(q in g)m[m.length]=q;RString.endsWith(h,
"Array")?RArray.reverse(m,0,m.length-1):RArray.sort(m,!0);var r=m.length;2E3<r&&(r=2E3);for(var u=0;u<r;u++){q=m[u];var w="{error}";try{w=g[q]}catch(B){}RClass.safeTypeOf(w,!0);var h=RClass.safeTypeOf(w,!0),y=null,A=!0;if(k){var x=k.attributeFind(q);x&&(h="Annotation<"+RMethod.name(x.constructor)+">",y=w&&w.constructor==Function?"<FONT color='green'>"+RMethod.name(w)+"</FONT>":w+"<FONT color='green'> - ("+RHtml.toHtml(x.toString())+")</FONT>",A=!1)}null==y&&(y=this.typeInfo(w,h));var x=null,z=RBuilder.appendTableRow(b,
null,d?d.rowIndex+1:0);z.bgColor="#FFFFFF";RString.startsWith(y,"@")?(z.style.cursor="pointer",z.onclick=this.onclick,z.bgColor="#FFF0E0",x=z.link=a.create(),x.link=w,x.level=f,x.caption=q,x.hTable=b,x.level=f+1,x.hRow=z):a.push(z);"Function"==h&&"virtual"==y&&(z.bgColor="#E0F0FF");var w=RBuilder.appendTableCell(z),C=RString.startsWith(y,"@")?" +":"  ";q=RString.repeat("   ",f)+C+" "+q;w.innerHTML=RHtml.toHtml(q);w.style.borderBottom="1px solid #F0F0F0";w.width="240px";x&&(x.hText=w);w=RBuilder.appendTableCell(z);
w.innerHTML=RHtml.toHtml(h);w.style.borderBottom="1px solid #F0F0F0";w.style.color="Function"==h?"#3333FF":"#FF3333";w.width="200px";w=RBuilder.appendTableCell(z);RString.startsWith(y,"@")&&(y=y.substr(1));w.innerHTML=A?RHtml.toHtml(y):y;w.style.borderBottom="1px solid #F0F0F0"}b.width="100%"},MO.RDump_dump=function(a,b){b||(b=RBuilder.append(null,"DIV"));var d=new TString;d.append("<",RClass.safeTypeOf(a));a&&a.tagName&&d.append(" - ",a.tagName);d.appendLine("@"+RClass.code(a)+">");b=RBuilder.append(b,
"DIV");b.style.border="1px solid #BBBBBB";b.style.backgroundColor="#E0E0EB";var f=RBuilder.appendTable(b,null,null,0,1,0),g=RBuilder.appendTableRow(f),g=RBuilder.appendTableCell(g);f.width="100%";g.style.padding=2;g.style.borderBottom="1px solid gray";g.style.backgroundColor="#E0E0EB";RHtml.textSet(g,d.toString());d=RBuilder.appendTable(b,null,null,0,1,0);d.style.width="100%";f=new TDumpItem;f.hTable=d;f.hRow=null;f.hParent=b;f.link=a;f.level=0;this.dumpInner(f)},MO.RDump_appendLevel=function(a,b){for(var d=
0;d<b;d++)a.append("   ")},MO.RDump_stack=function RDump_stack(){for(var b=RDump_stack.caller,d=new TString;b;)d.append(RMethod.name(b)),(b=b.caller)&&d.appendLine();RLogger.debug(this,d)},MO.RDump=new RDump;
with(MO)MO.RHtml=function(){this._nextUid=1;this._links={};this._clientPosition=new MO.SPoint2;this.uid=RHtml_uid;this.fullscreen=RHtml_fullscreen;this.displayGet=RHtml_displayGet;this.displaySet=RHtml_displaySet;this.visibleGet=RHtml_visibleGet;this.visibleSet=RHtml_visibleSet;this.textGet=RHtml_textGet;this.textSet=RHtml_textSet;this.checkGet=RHtml_checkGet;this.checkSet=RHtml_checkSet;this.radioGet=RHtml_radioGet;this.radioSet=RHtml_radioSet;this.cursorSet=RHtml_cursorSet;this.linkGet=RHtml_linkGet;
this.linkSet=RHtml_linkSet;this.clientPosition=RHtml_clientPosition;this.clientX=RHtml_clientX;this.clientY=RHtml_clientY;this.setSize=RHtml_setSize;this.toText=RHtml_toText;this.toHtml=RHtml_toHtml;this.eventSource=RHtml_eventSource;this.get=RHtml_get;this.parent=RHtml_parent;this.searchLinker=RHtml_searchLinker;this.searchObject=RHtml_searchObject;this.tableMoveRow=RHtml_tableMoveRow;this.free=RHtml_free;return this},MO.RHtml_uid=function(a){var b=a.__puuid;null==b&&(b=a.__puuid=RHtml._nextUid++);
return b},MO.RHtml_fullscreen=function(a,b){b?a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen&&a.webkitRequestFullScreen():a.exitFullscreen?a.exitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitCancelFullScreen&&a.webkitCancelFullScreen()},MO.RHtml_displayGet=function(a){var b=null;a=a.style.display;return b=RBrowser.isBrowser(EBrowser.Explorer)?"inline"==a:"none"!=a},MO.RHtml_displaySet=function(a,b){var d=null,
d=RBrowser.isBrowser(EBrowser.Explorer)?b?"inline":"none":b?null:"none";a.style.display=d},MO.RHtml_visibleGet=function(a){var b=null;a=a.style.display;return b=RBrowser.isBrowser(EBrowser.Explorer)?"block"==a:"none"!=a},MO.RHtml_visibleSet=function(a,b){var d=null,d=RBrowser.isBrowser(EBrowser.Explorer)?b?"":"none":b?null:"none";a.style.display=d},MO.RHtml_textGet=function(a,b){var d=null;return d=RBrowser.isBrowser(EBrowser.FireFox)?a.textContent:a.innerText},MO.RHtml_textSet=function(a,b){RBrowser.isBrowser(EBrowser.FireFox)?
a.textContent=b:a.innerText=b},MO.RHtml_checkGet=function(a){return RBool.toString(a.checked)},MO.RHtml_checkSet=function(a,b){a.checked=RBool.isTrue(b)},MO.RHtml_radioGet=function(a){if(a)for(var b=a.length,d=0;d<b;d++){var f=a[d];if(f.checked)return f.value}return null},MO.RHtml_radioSet=function(a,b){if(a)for(var d=a.length,f=0;f<d;f++){var g=a[f];if(g.value==b){g.checked=!0;break}}},MO.RHtml_cursorSet=function(a,b){a&&(a.style.cursor=b)},MO.RHtml_linkGet=function(a,b){var d=this.uid(a);return(d=
this._links[d])?d.get(b):null},MO.RHtml_linkSet=function(a,b,d){var f=this._links,g=this.uid(a),h=f[g];h||(h=f[g]=new THtmlItem,h._link=a);h.set(b,d)},MO.RHtml_clientPosition=function(a,b){var d=this._clientPosition;for(d.set(0,0);a!=b;)d.x+=a.offsetLeft+a.clientLeft-a.scrollLeft,d.y+=a.offsetTop+a.clientTop-a.scrollTop,a=a.offsetParent;return d},MO.RHtml_clientX=function(a,b){for(var d=0;a!=b;)d+=a.offsetLeft-a.scrollLeft,a=a.offsetParent;return d},MO.RHtml_clientY=function(a,b){for(var d=0;a!=b;)d+=
a.offsetTop-a.scrollTop,a=a.offsetParent;return d},MO.RHtml_setSize=function(a,b){b.width&&(a.style.width=b.width+"px");b.height&&(a.style.height=b.height+"px")},MO.RHtml_toText=function(a){null!=a&&(a=a.toString(),a=a.replace(/&lt;/,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&nbsp;/g," "),a=a.replace(/<BR>/g,"\n"));return a},MO.RHtml_toHtml=function(a){null!=a&&(a=a.toString(),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/ /g,"&nbsp;"),a=a.replace(/\n/g,"<BR>"),a=a.replace(/\\n/g,
"<BR>"),a=a.replace(/\r/g,""),a=a.replace(/\\r/g,""));return a},MO.RHtml_eventSource=function(a){return a.srcElement?a.srcElement:a.target},MO.RHtml_get=function(a){return document.getElementById(a)},MO.RHtml_parent=function(a,b){if(a&&t)for(b=b.toLowerCase();a;){if(a.tagName.toLowerCase()==b)return a;a=a.parentElement}return null},MO.RHtml_searchLinker=function(a,b){for(;a;){var d=a.__linker;if(d&&RClass.isClass(d,b))return d;a=a.parentElement}return null},MO.RHtml_searchObject=function(a,b){for(;a;){var d=
a[b];if(d)return d;a=a.parentElement}return null},MO.RHtml_tableMoveRow=function(a,b,d){if("TABLE"!=a.tagName)throw new TError("Html table is invalid.");if(b==d)return!1;if(a.moveRow)a.moveRow(b,d);else{a=a.getElementsByTagName("tbody")[0];var f=a.rows[b],g=a.rows[d];if(null==f||null==g)return!1;var h=null;if(b<=d)for(h=g;(h=h.nextSibling)&&"TR"!=h.tagName;);null==h?a.insertBefore(f,g):null==h?a.appendChild(f):a.insertBefore(f,h)}return!0},MO.RHtml_free=function(a){return null},MO.RHtml_clone=function RHtml_clone(b,
d,f){f||(f=d.cloneNode(!0));d._pname&&(b[d._pname]=f);d._ptyName&&(b[d._ptyName]=f);var g=REvent.find(d).events;f._psource=d;for(var h in g)f[g[h].handle]=d[g[h].handle],f[g[h].handle]&&RHtml.link(f,"_plink",b);d=d.children;for(h=d.length;0<=--h;)RHtml_clone(b,d[h],f.children[h]);return f},MO.RHtml_offsetPosition=function(a,b){for(var d=new TPoint;a!=b;)d.x+=a.offsetLeft-a.scrollLeft,d.y+=a.offsetTop-a.scrollTop,RHtml.currentStyle(a),d.x+=a.clientLeft,d.y+=a.clientTop,a=a.offsetParent;return d},MO.RHtml_offsetX=
function(a){for(var b=0;a;)b+=a.offsetLeft,a=a.offsetParent;return b},MO.RHtml_offsetY=function(a){for(var b=0;a;)b+=a.offsetTop,a=a.offsetParent;return b},MO.RHtml_bodyWidth=function(a){return a.all?a.body.scrollWidth:a.documentElement.scrollWidth},MO.RHtml_bodyHeight=function(a){return a.all?a.body.scrollHeight:a.documentElement.scrollHeight},MO.RHtml_frameHeight=function(a){a=a.contentWindow.document;return Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)},MO.RHtml_scrollWidth=function(a){var b=
0;a.offsetWidth&&(b+=a.offsetWidth);a.borderTopWidth&&(b-=parseInt(a.borderLeftWidth));a.borderBottomWidth&&(b-=parseInt(a.borderRightWidth));a.clientWidth&&(b-=a.clientWidth);return b},MO.RHtml_scrollHeight=function(a){var b=0;a.offsetHeight&&(b+=a.offsetHeight);a.borderTopWidth&&(b-=parseInt(a.borderTopWidth));a.borderBottomWidth&&(b-=parseInt(a.borderBottomWidth));a.clientHeight&&(b-=a.clientHeight);return b},MO.RHtml_currentStyle=function(a){return a.currentStyle?a.currentStyle:window.getComputedStyle(a,
null)},MO.RHtml_point=function(a,b){return this.toPoint(new TPoint,a,b)},MO.RHtml_toPoint=function(a,b,d){if(a&&b){d=RObject.nvl(d,window.document.body);var f=RHtml.currentStyle(b);a.x=-RInt.parse(f.borderLeftWidth);for(a.y=-RInt.parse(f.borderTopWidth);b&&b!=d;)a.x+=b.offsetLeft-b.scrollLeft,a.y+=b.offsetTop-b.scrollTop,"absolute"!=RHtml.currentStyle(b).position&&(a.x+=b.clientLeft,a.y+=b.clientTop),b=b.offsetParent}return a},MO.RHtml_rect=function(a,b){return this.toRect(new TRect,a,b)},MO.RHtml_toRect=
function(a,b,d){if(a&&b){d=RObject.nvl(d,window.document.body);var f=RHtml.currentStyle(b);a.left=-RInt.parse(f.borderLeftWidth);a.top=-RInt.parse(f.borderTopWidth);for(var f=b.offsetWidth,f=b.offsetWidth-1,g=b.offsetHeight,g=b.offsetHeight-1;b&&b!=d;)a.left+=b.offsetLeft-b.scrollLeft,a.top+=b.offsetTop-b.scrollTop,"absolute"!=RHtml.currentStyle(b).position&&(a.left+=b.clientLeft,a.top+=b.clientTop),b=b.offsetParent;a.right=a.left+f;a.bottom=a.top+g}return a},MO.RHtml_top=function(a){var b=0;if(a)for(b=
RHtml.currentStyle(o),b=-RInteger.parse(b.borderTopWidth);a;)b+=a.offsetTop-a.scrollTop,"absolute"!=RHtml.currentStyle(o).position&&(b+=a.clientTop),a=a.offsetParent;return b},MO.RHtml_clientRect=function(a){if(a){for(var b=0,d=0,f=a.offsetWidth-1,g=a.offsetHeight-1;a;)b+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;return new TRect(b,d,b+f,d+g)}return null},MO.RHtml_offsetRect=function(a){if(a){for(var b=0,d=0,f=a.offsetWidth-1,g=a.offsetHeight-1;a;)b+=a.offsetLeft+a.clientLeft,d+=a.offsetTop+a.clientTop,
a=a.offsetParent;return new TRect(b,d,b+f,d+g)}return null},MO.RHtml_clear=function(a){if(a){var b=a.children;if(b&&b.length)for(var d=b.length-1;0<=d;d--){var f=b[d];f.children&&f.children.length&&this.clear(f);a.removeChild(f)}}},MO.RHtml_setRect=function(a,b){if(a&&a.style){var d=a.style;d.left=b.left;d.top=b.top;d.width=b.width();d.height=b.height()}},MO.RHtml_setBounds=function(a,b,d,f,g){a&&a.style&&(a=a.style,null!=b&&(a.left=b),null!=d&&(a.top=d),null!=f&&(a.width=f),null!=g&&(a.height=g))},
MO.RHtml_setPixelRect=function(a,b){if(a&&a.style){var d=a.style;d.pixelLeft=b.left;d.pixelTop=b.top;d.pixelWidth=b.width();d.pixelHeight=b.height()}},MO.RHtml_setPixelBounds=function(a,b,d,f,g){a&&a.style&&(a=a.style,null!=b&&(a.pixelLeft=b),null!=d&&(a.pixelTop=d),null!=f&&(a.pixelWidth=f),null!=g&&(a.pixelHeight=g))},MO.RHtml_changeWidth=function(a,b){if(a&&b){var d=RHtml.currentStyle(b),d=parseInt(d.paddingLeft)+parseInt(d.paddingRight);b.style.pixelWidth=a.offsetWidth-d}},MO.RHtml_showNodes=
function(a,b){if(a&&a.childNodes)for(var d=0;d<a.childNodes.length;d++){var f=a.childNodes(d);f.tagName&&f.style?f.style.display="block":"#text"==f.nodeName&&(f.nodeValue=b[d])}},MO.RHtml_hideNodes=function(a,b){if(a&&a.childNodes)for(var d=0;d<a.childNodes.length;d++){var f=a.childNodes(d);f.tagName&&f.style?f.style.display="none":"#text"==f.nodeName&&(b[d]=f.nodeValue,f.nodeValue="")}},MO.RHtml_showChildren=function(a){if(a&&a.children)for(var b=0;b<a.children.length;b++){var d=a.children(b);d.tagName&&
d.style&&(d.style.display="block")}},MO.RHtml_hideChildren=function(a){if(a&&a.children)for(var b=0;b<a.children.length;b++){var d=a.children(b);d.tagName&&d.style&&(d.style.display="none")}},MO.RHtml_posParent=function(a){for(;a;){if("visible"!=a.currentStyle.overflow)return a;a=a.offsetParent}return null},MO.RHtml_form=function(a){if(a){var b=this.parent(a,"FORM");return b?b:a.ownerDocument.forms[0]}return window.document.forms[0]},MO.RHtml_popup=function(a,b,d){b=RString.format("left={0},top={1},width={2},height={3},toolbar=no,location=no,directories=no,status=no,menubar=no,resizable=yes,scrollbars=yes,dependent=yes",
(screen.width-b)/2,(screen.height-d)/2-20,b,d);window.open(a,"_blank",b)},MO.RHtml_selectText=function(){document.getElementById(id).select();return document.selection.createRange().text},MO.getTRNode=function(a,b){for(;(a=a[b])&&"TR"!=a.tagName;);return a},MO.RHtml=new RHtml;
