<HTML>
<HEAD>
<TITLE>Stage3d Example</TITLE>
<META http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK rel="stylesheet" href='../../acs/lang_cn.css' type="text/css" media="all"/>
<SCRIPT language='javascript' src='../../ajs/mo-core.js'></SCRIPT>
<SCRIPT language='javascript' src='../../ajs/mo-graphic.js'></SCRIPT>
<SCRIPT language='javascript' src='../../ajs/mo-engine.js'></SCRIPT>
<SCRIPT language='javascript' src='../../ajs/stage.js'></SCRIPT>
<SCRIPT language='javascript' src='../../ajs/context_cn.js'></SCRIPT>
<SCRIPT language='javascript' src='../../1.3.1-core-template/FTag.js'></SCRIPT>
<SCRIPT language='javascript' src='../../1.3.1-core-template/FTagText.js'></SCRIPT>
<SCRIPT language='javascript' src='../../1.3.1-core-template/FTagTrue.js'></SCRIPT>
<SCRIPT language='javascript' src='../../1.3.1-core-template/FTagFalse.js'></SCRIPT>
<SCRIPT language='javascript' src='../../1.3.1-core-template/FTagWrite.js'></SCRIPT>
<SCRIPT language='javascript' src='../../1.3.1-core-template/FTagContext.js'></SCRIPT>
<SCRIPT language='javascript' src='../../1.3.1-core-template/FTagDocument.js'></SCRIPT>
</HEAD>

<SCRIPT>
function _load(){
   RRuntime.processCd = EProcess.Debug;
   RBrowser.construct();
   RBrowser.setContentPath('../..');
   RWindow.connect(window);

   var hc = RClass.create(FXmlConnection);
   var x = hc.send('http://localhost:5130/script/assets/shader/simple.color.skeleton.xml');
   var xsource = x.findNode('Source', 'name', 'vertex');
   var source = xsource.value();

   var tc = RClass.create(FTagDocument);
   tc.setSpace('shader');
   tc.load(source);

   var c = RClass.create(FTagContext);
   c.set('support.instance', EBoolean.True);
   tc.parse(c);

   _source.innerText = source;
   _tag.innerHTML = RHtml.toHtml(tc.root().dump());
   _parse.innerText = c.source();
   RDump.dump(tc, _dump);
}
</SCRIPT>
<BODY scroll='auto' onload='_load()'>
<DIV id='_source'></DIV><br>
<DIV id='_tag'></DIV><br>
<DIV id='_parse'></DIV><br>
<DIV id='_dump'></DIV><br>
<DIV id='_msg'></DIV><br>
</BODY>

</HTML>
