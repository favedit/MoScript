<HTML>
<HEAD>
<TITLE>Control-Edit-Example</TITLE>
<META http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK rel="stylesheet" href='../../acs/control.css' type="text/css" media="all"/>
<LINK rel="stylesheet" href='../../acs/lang_cn.css' type="text/css" media="all"/>
<SCRIPT language='javascript' src='../../ejs/lzma-d-min.js'></SCRIPT>
<SCRIPT language='javascript' src='../../ajs/mo-core.js'></SCRIPT>
<SCRIPT language='javascript' src='../../ajs/core-window.js'></SCRIPT>
</HEAD>

<SCRIPT>

function onDataFinish(p){
   var u = window.URL.createObjectURL(new Blob([new Uint8Array(p)], {type: 'image/jpg'}));
   _image.src = u;
}
function onDataProcess(p){
   console.log(RDate.format());
}

function onDataLoad(p){
   var d = p.outputData();
   var exd = LZMA.decompress(new Uint8Array(d), onDataFinish, onDataProcess);
}

function _load(){
   RRuntime.processCd = EProcess.Debug;
   RBrowser.construct();


   var u = 'http://localhost:92/script/test/core/lzma-001.lzma';
   var hc = RConsole.find(FHttpConsole);
   var c =  hc.send(u);
   c.lsnsLoad.register(null, onDataLoad);
}
</SCRIPT>

<BODY scroll='auto' onload='_load()'>
<IMG id='_image'></IMG><br>
<DIV id='_panel'></DIV><br>
<DIV id='_dump'></DIV><br>
<DIV id='_msg'></DIV><br>
</BODY>

</HTML>
