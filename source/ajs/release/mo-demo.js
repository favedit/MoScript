function FE3dGalaxy(a){a=RClass.inherits(this,a,FE3dRenderable);a._seed=0;a._cellSize=null;a._size=null;a._lineColor=null;a._lineCenterColor=null;a._radius=0;a._vertexSpecialBuffer=null;a._vertexPositionBuffer=null;a._vertexCoordBuffer=null;a._vertexColorBuffer=null;a._vertexSpecialData=null;a._vertexPositionData=null;a._vertexCoordData=null;a._vertexColorData=null;a._indexData=null;a.construct=FE3dGalaxy_construct;a.generatePixel=FE3dGalaxy_generatePixel;a.setup=FE3dGalaxy_setup;return a}
function FE3dGalaxy_construct(){this.__base.FE3dRenderable.construct.call(this);this._cellSize=new SSize2;this._cellSize.set(2,2);this._size=new SSize2;this._size.set(16,16)}
function FE3dGalaxy_generatePixel(a,c,h,d,e,f){var g=4*(this._size.width*h+c);c=f[g++];h=f[g++];f=f[g++];for(var g=1-Math.sqrt(d*d+e*e)/this._radius,l=0;1>l;l++){var b=[d,0,e,g,d,0,e,g,d,0,e,g,d,0,e,g];RFloat.copy(this._vertexSpecialData,16*a,b,0,16);b=[d-.5,0,e+.5,d+.5,0,e+.5,d+.5,0,e-.5,d-.5,0,e-.5];RFloat.copy(this._vertexPositionData,12*a,b,0,12);b=[0,1,1,1,1,0,0,0];RFloat.copy(this._vertexCoordData,8*a,b,0,8);b=[c,h,f,1,c,h,f,1,c,h,f,1,c,h,f,1];RFloat.copy(this._vertexColorData,16*a,b,0,16);
b=4*a;RInteger.copy(this._indexData,6*a,[b+0,b+1,b+2,b+0,b+2,b+3],0,6)}}
function FE3dGalaxy_setup(a){var c=this._graphicContext,h=this._size.width,d=h/2,e=this._size.height,f=e/2,g=this._cellSize.width,l=this._cellSize.height;this._radius=Math.sqrt(d*d+f*f);var b=h/g*(e/l),k=4*b;this._vertexCount=k;this._vertexSpecialData=new Float32Array(4*k);this._vertexPositionData=new Float32Array(3*k);this._vertexCoordData=new Float32Array(2*k);this._vertexColorData=new Uint8Array(4*k);this._indexData=Array(6*b);for(var p=0,m=0;m<e;m+=l)for(var n=0;n<h;n+=g)this.generatePixel(p++,
n,m,n-d,m-f,a);a=this._vertexSpecialBuffer=c.createVertexBuffer();a._name="special";a._formatCd=EG3dAttributeFormat.Float4;a.upload(this._vertexSpecialData,16,k);this._vertexBuffers.set(a._name,a);a=this._vertexPositionBuffer=c.createVertexBuffer();a._name="position";a._formatCd=EG3dAttributeFormat.Float3;a.upload(this._vertexPositionData,12,k);this._vertexBuffers.set(a._name,a);a=this._vertexCoordBuffer=c.createVertexBuffer();a._name="coord";a._formatCd=EG3dAttributeFormat.Float2;a.upload(this._vertexCoordData,
8,k);this._vertexBuffers.set(a._name,a);a=this._vertexColorBuffer=c.createVertexBuffer();a._name="color";a._formatCd=EG3dAttributeFormat.Byte4Normal;a.upload(this._vertexColorData,4,k);this._vertexBuffers.set(a._name,a);c=this._indexBuffer=c.createIndexBuffer();context.capability().optionIndex32?(c._strideCd=EG3dIndexStride.Uint32,c.upload(new Uint32Array(this._indexData),6*b)):(c._strideCd=EG3dIndexStride.Uint16,c.upload(new Uint16Array(this._indexData),6*b));b=this.material().info();b.effectCode=
"galaxy";b.ambientColor.set(1,1,1,1)};
